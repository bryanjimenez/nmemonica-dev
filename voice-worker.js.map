{"version":3,"file":"voice-worker.js","sources":["webpack://nmemonica/./src/worker/voiceWorker.ts","webpack://nmemonica/./node_modules/@nmemonica/voice-ja/voice_ja.js","webpack://nmemonica/./node_modules/@nmemonica/voice-ja/voice_ja_bg.js"],"sourcesContent":["import { buildSpeech as jBuildSpeech } from \"@nmemonica/voice-ja\";\nimport voice_model_deep from \"../../res/models/hts_voice_nitech_jp_atr503_m001-1.05/nitech_jp_atr503_m001.htsvoice\";\nimport voice_model_angry from \"../../res/models/tohoku-f01/tohoku-f01-angry.htsvoice\";\nimport voice_model_happy from \"../../res/models/tohoku-f01/tohoku-f01-happy.htsvoice\";\nimport voice_model_neutral from \"../../res/models/tohoku-f01/tohoku-f01-neutral.htsvoice\";\nimport voice_model_sad from \"../../res/models/tohoku-f01/tohoku-f01-sad.htsvoice\";\nconst swSelf = globalThis.self;\nswSelf.addEventListener(\"message\", messageHandler);\nfunction messageHandler(event) {\n    const data = event.data;\n    const { uid, index, tl: language, q: query, AbortController, japaneseVoice } = data;\n    if (language === \"ja\" && query !== null && typeof jBuildSpeech === \"function\") {\n        let voice_model;\n        switch(japaneseVoice){\n            case \"happy\":\n                voice_model = voice_model_happy;\n                break;\n            case \"angry\":\n                voice_model = voice_model_angry;\n                break;\n            case \"sad\":\n                voice_model = voice_model_sad;\n                break;\n            case \"deep\":\n                voice_model = voice_model_deep;\n                break;\n            default:\n                voice_model = voice_model_neutral;\n                break;\n        }\n        void fetch(voice_model).then((res)=>res.arrayBuffer()).then((model_buf)=>{\n            const { uid: resUid, index: resIndex, buffer: resBuffer } = jBuildSpeech(uid, index, query, new Uint8Array(model_buf));\n            const response = {\n                uid: resUid,\n                index: resIndex,\n                buffer: resBuffer\n            };\n            self.postMessage(response);\n        });\n    }\n}\n","import * as wasm from \"./voice_ja_bg.wasm\";\nimport { __wbg_set_wasm } from \"./voice_ja_bg.js\";\n__wbg_set_wasm(wasm);\nexport * from \"./voice_ja_bg.js\";\nwasm.__wbindgen_start();\n","let wasm;\nexport function __wbg_set_wasm(val) {\n    wasm = val;\n}\nconst lTextDecoder = typeof TextDecoder === 'undefined' ? (0, module.require)('util').TextDecoder : TextDecoder;\nlet cachedTextDecoder = new lTextDecoder('utf-8', {\n    ignoreBOM: true,\n    fatal: true\n});\ncachedTextDecoder.decode();\nlet cachedUint8ArrayMemory0 = null;\nfunction getUint8ArrayMemory0() {\n    if (cachedUint8ArrayMemory0 === null || cachedUint8ArrayMemory0.byteLength === 0) {\n        cachedUint8ArrayMemory0 = new Uint8Array(wasm.memory.buffer);\n    }\n    return cachedUint8ArrayMemory0;\n}\nfunction getStringFromWasm0(ptr, len) {\n    ptr = ptr >>> 0;\n    return cachedTextDecoder.decode(getUint8ArrayMemory0().subarray(ptr, ptr + len));\n}\nconst heap = new Array(128).fill(undefined);\nheap.push(undefined, null, true, false);\nlet heap_next = heap.length;\nfunction addHeapObject(obj) {\n    if (heap_next === heap.length) heap.push(heap.length + 1);\n    const idx = heap_next;\n    heap_next = heap[idx];\n    heap[idx] = obj;\n    return idx;\n}\nfunction getObject(idx) {\n    return heap[idx];\n}\nfunction dropObject(idx) {\n    if (idx < 132) return;\n    heap[idx] = heap_next;\n    heap_next = idx;\n}\nfunction takeObject(idx) {\n    const ret = getObject(idx);\n    dropObject(idx);\n    return ret;\n}\nlet cachedDataViewMemory0 = null;\nfunction getDataViewMemory0() {\n    if (cachedDataViewMemory0 === null || cachedDataViewMemory0.buffer.detached === true || cachedDataViewMemory0.buffer.detached === undefined && cachedDataViewMemory0.buffer !== wasm.memory.buffer) {\n        cachedDataViewMemory0 = new DataView(wasm.memory.buffer);\n    }\n    return cachedDataViewMemory0;\n}\nlet WASM_VECTOR_LEN = 0;\nconst lTextEncoder = typeof TextEncoder === 'undefined' ? (0, module.require)('util').TextEncoder : TextEncoder;\nlet cachedTextEncoder = new lTextEncoder('utf-8');\nconst encodeString = typeof cachedTextEncoder.encodeInto === 'function' ? function(arg, view) {\n    return cachedTextEncoder.encodeInto(arg, view);\n} : function(arg, view) {\n    const buf = cachedTextEncoder.encode(arg);\n    view.set(buf);\n    return {\n        read: arg.length,\n        written: buf.length\n    };\n};\nfunction passStringToWasm0(arg, malloc, realloc) {\n    if (realloc === undefined) {\n        const buf = cachedTextEncoder.encode(arg);\n        const ptr = malloc(buf.length, 1) >>> 0;\n        getUint8ArrayMemory0().subarray(ptr, ptr + buf.length).set(buf);\n        WASM_VECTOR_LEN = buf.length;\n        return ptr;\n    }\n    let len = arg.length;\n    let ptr = malloc(len, 1) >>> 0;\n    const mem = getUint8ArrayMemory0();\n    let offset = 0;\n    for(; offset < len; offset++){\n        const code = arg.charCodeAt(offset);\n        if (code > 0x7F) break;\n        mem[ptr + offset] = code;\n    }\n    if (offset !== len) {\n        if (offset !== 0) {\n            arg = arg.slice(offset);\n        }\n        ptr = realloc(ptr, len, len = offset + arg.length * 3, 1) >>> 0;\n        const view = getUint8ArrayMemory0().subarray(ptr + offset, ptr + len);\n        const ret = encodeString(arg, view);\n        offset += ret.written;\n        ptr = realloc(ptr, len, offset, 1) >>> 0;\n    }\n    WASM_VECTOR_LEN = offset;\n    return ptr;\n}\nfunction isLikeNone(x) {\n    return x === undefined || x === null;\n}\nfunction getArrayU8FromWasm0(ptr, len) {\n    ptr = ptr >>> 0;\n    return getUint8ArrayMemory0().subarray(ptr / 1, ptr / 1 + len);\n}\nfunction passArray8ToWasm0(arg, malloc) {\n    const ptr = malloc(arg.length * 1, 1) >>> 0;\n    getUint8ArrayMemory0().set(arg, ptr / 1);\n    WASM_VECTOR_LEN = arg.length;\n    return ptr;\n}\n/**\n* @param {string} key\n* @param {number | undefined} index\n* @param {string} query\n* @param {Uint8Array} voice_model\n* @returns {QueryResult}\n*/ export function buildSpeech(key, index, query, voice_model) {\n    try {\n        const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n        const ptr0 = passStringToWasm0(key, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        const len0 = WASM_VECTOR_LEN;\n        const ptr1 = passStringToWasm0(query, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        const len1 = WASM_VECTOR_LEN;\n        const ptr2 = passArray8ToWasm0(voice_model, wasm.__wbindgen_malloc);\n        const len2 = WASM_VECTOR_LEN;\n        wasm.buildSpeech(retptr, ptr0, len0, !isLikeNone(index), isLikeNone(index) ? 0 : index, ptr1, len1, ptr2, len2);\n        var r0 = getDataViewMemory0().getInt32(retptr + 4 * 0, true);\n        var r1 = getDataViewMemory0().getInt32(retptr + 4 * 1, true);\n        var r2 = getDataViewMemory0().getInt32(retptr + 4 * 2, true);\n        if (r2) {\n            throw takeObject(r1);\n        }\n        return QueryResult.__wrap(r0);\n    } finally{\n        wasm.__wbindgen_add_to_stack_pointer(16);\n    }\n}\n/**\n*/ export function run() {\n    wasm.run();\n}\nconst QueryResultFinalization = typeof FinalizationRegistry === 'undefined' ? {\n    register: ()=>{},\n    unregister: ()=>{}\n} : new FinalizationRegistry((ptr)=>wasm.__wbg_queryresult_free(ptr >>> 0, 1));\n/**\n*/ export class QueryResult {\n    static __wrap(ptr) {\n        ptr = ptr >>> 0;\n        const obj = Object.create(QueryResult.prototype);\n        obj.__wbg_ptr = ptr;\n        QueryResultFinalization.register(obj, obj.__wbg_ptr, obj);\n        return obj;\n    }\n    __destroy_into_raw() {\n        const ptr = this.__wbg_ptr;\n        this.__wbg_ptr = 0;\n        QueryResultFinalization.unregister(this);\n        return ptr;\n    }\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_queryresult_free(ptr, 0);\n    }\n    /**\n    * @returns {string}\n    */ get uid() {\n        let deferred1_0;\n        let deferred1_1;\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            wasm.__wbg_get_queryresult_uid(retptr, this.__wbg_ptr);\n            var r0 = getDataViewMemory0().getInt32(retptr + 4 * 0, true);\n            var r1 = getDataViewMemory0().getInt32(retptr + 4 * 1, true);\n            deferred1_0 = r0;\n            deferred1_1 = r1;\n            return getStringFromWasm0(r0, r1);\n        } finally{\n            wasm.__wbindgen_add_to_stack_pointer(16);\n            wasm.__wbindgen_free(deferred1_0, deferred1_1, 1);\n        }\n    }\n    /**\n    * @param {string} arg0\n    */ set uid(arg0) {\n        const ptr0 = passStringToWasm0(arg0, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        const len0 = WASM_VECTOR_LEN;\n        wasm.__wbg_set_queryresult_uid(this.__wbg_ptr, ptr0, len0);\n    }\n    /**\n    * @returns {number | undefined}\n    */ get index() {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            wasm.__wbg_get_queryresult_index(retptr, this.__wbg_ptr);\n            var r0 = getDataViewMemory0().getInt32(retptr + 4 * 0, true);\n            var r1 = getDataViewMemory0().getInt32(retptr + 4 * 1, true);\n            return r0 === 0 ? undefined : r1 >>> 0;\n        } finally{\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n    /**\n    * @param {number | undefined} [arg0]\n    */ set index(arg0) {\n        wasm.__wbg_set_queryresult_index(this.__wbg_ptr, !isLikeNone(arg0), isLikeNone(arg0) ? 0 : arg0);\n    }\n    /**\n    * @returns {Uint8Array}\n    */ get buffer() {\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            wasm.__wbg_get_queryresult_buffer(retptr, this.__wbg_ptr);\n            var r0 = getDataViewMemory0().getInt32(retptr + 4 * 0, true);\n            var r1 = getDataViewMemory0().getInt32(retptr + 4 * 1, true);\n            var v1 = getArrayU8FromWasm0(r0, r1).slice();\n            wasm.__wbindgen_free(r0, r1 * 1, 1);\n            return v1;\n        } finally{\n            wasm.__wbindgen_add_to_stack_pointer(16);\n        }\n    }\n    /**\n    * @param {Uint8Array} arg0\n    */ set buffer(arg0) {\n        const ptr0 = passArray8ToWasm0(arg0, wasm.__wbindgen_malloc);\n        const len0 = WASM_VECTOR_LEN;\n        wasm.__wbg_set_queryresult_buffer(this.__wbg_ptr, ptr0, len0);\n    }\n}\nexport function __wbindgen_string_new(arg0, arg1) {\n    const ret = getStringFromWasm0(arg0, arg1);\n    return addHeapObject(ret);\n}\nexport function __wbg_new_abda76e883ba8a5f() {\n    const ret = new Error();\n    return addHeapObject(ret);\n}\nexport function __wbg_stack_658279fe44541cf6(arg0, arg1) {\n    const ret = getObject(arg1).stack;\n    const ptr1 = passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n    const len1 = WASM_VECTOR_LEN;\n    getDataViewMemory0().setInt32(arg0 + 4 * 1, len1, true);\n    getDataViewMemory0().setInt32(arg0 + 4 * 0, ptr1, true);\n}\nexport function __wbg_error_f851667af71bcfc6(arg0, arg1) {\n    let deferred0_0;\n    let deferred0_1;\n    try {\n        deferred0_0 = arg0;\n        deferred0_1 = arg1;\n        console.error(getStringFromWasm0(arg0, arg1));\n    } finally{\n        wasm.__wbindgen_free(deferred0_0, deferred0_1, 1);\n    }\n}\nexport function __wbindgen_object_drop_ref(arg0) {\n    takeObject(arg0);\n}\nexport function __wbindgen_throw(arg0, arg1) {\n    throw new Error(getStringFromWasm0(arg0, arg1));\n}\n"],"names":["swSelf","globalThis","self","addEventListener","event","uid","index","tl","language","q","query","AbortController","japaneseVoice","data","voice_model","fetch","then","res","arrayBuffer","model_buf","resUid","resIndex","buffer","resBuffer","Uint8Array","postMessage","wasm","__wbg_set_wasm","val","cachedTextDecoder","TextDecoder","module","require","ignoreBOM","fatal","decode","cachedUint8ArrayMemory0","getUint8ArrayMemory0","byteLength","memory","getStringFromWasm0","ptr","len","subarray","heap","Array","fill","undefined","push","heap_next","length","addHeapObject","obj","idx","getObject","takeObject","ret","cachedDataViewMemory0","getDataViewMemory0","detached","DataView","WASM_VECTOR_LEN","cachedTextEncoder","TextEncoder","encodeString","encodeInto","arg","view","buf","encode","set","read","written","passStringToWasm0","malloc","realloc","mem","offset","code","charCodeAt","slice","isLikeNone","x","passArray8ToWasm0","buildSpeech","key","retptr","__wbindgen_add_to_stack_pointer","ptr0","__wbindgen_malloc","__wbindgen_realloc","len0","ptr1","len1","ptr2","len2","r0","getInt32","r1","QueryResult","__wrap","QueryResultFinalization","FinalizationRegistry","register","unregister","__wbg_queryresult_free","Object","create","prototype","__wbg_ptr","__destroy_into_raw","free","deferred1_0","deferred1_1","__wbg_get_queryresult_uid","__wbindgen_free","arg0","__wbg_set_queryresult_uid","__wbg_get_queryresult_index","__wbg_set_queryresult_index","__wbg_get_queryresult_buffer","v1","getArrayU8FromWasm0","__wbg_set_queryresult_buffer","__wbindgen_string_new","arg1","__wbg_new_abda76e883ba8a5f","Error","__wbg_stack_658279fe44541cf6","stack","setInt32","__wbg_error_f851667af71bcfc6","deferred0_0","deferred0_1","console","error","__wbindgen_object_drop_ref","__wbindgen_throw"],"mappings":"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"}