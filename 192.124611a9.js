(self.webpackChunknmemonica=self.webpackChunknmemonica||[]).push([["192"],{56640:function(e,t,r){},2155:function(e,t,r){"use strict";r.r(t),r.d(t,{GroupItem:function(){return o}});var l=r("10327"),s=r("78615"),i=r("49620"),n=r.n(i),a=r("42157"),c=r.n(a);function o(e){let t=n({[String(e.addlStyle)]:!!e.addlStyle,"p-0 px-2":!0,"font-weight-bold":e.active});return(0,l.jsxs)("div",{className:t,onClick:e.onClick,children:[(0,l.jsx)("span",{className:"p-1",children:e.active?(0,l.jsx)(s.XCircleIcon,{className:"clickable incorrect-color",size:"small","aria-label":"remove"}):(0,l.jsx)(s.PlusCircleIcon,{className:"clickable",size:"small","aria-label":"add"})}),(0,l.jsx)("span",{className:"p-1",children:e.children})]})}r("83169"),o.propTypes={addlStyle:c.string,active:c.bool,onClick:c.func,children:c.string}},44727:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var l=r("10327"),s=r("49620"),i=r.n(s),n=r("42157"),a=r.n(n);function c(e){let{label:t,value:r}=e;return(0,l.jsxs)("div",{className:i({"mb-3 d-flex flex-row justify-content-end":!0}),children:[(0,l.jsx)("div",{children:t}),(0,l.jsx)("div",{className:"clickable px-2",onClick:()=>{e.onChange(r-1)},children:"-"}),(0,l.jsx)("div",{className:i({"px-2":!0}),children:r}),(0,l.jsx)("div",{className:"clickable px-2",onClick:()=>{e.onChange(r+1)},children:"+"})]})}c.propTypes={value:a.number}},78135:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return N}});var l=r("10327"),s=r("78615"),i=r("49620"),n=r.n(i),a=r("83169"),c=r("40432"),o=r("42565"),u=r("44727"),d=r("3252"),m=r("22719"),p=r("2497"),h=r("35920"),x=r("10776"),b=r("480"),v=r("80161"),f=r("40665"),j=r("93781"),g=r("37488"),y=r("37362");function N(){let e=(0,c.useDispatch)(),{vocabList:t,vocabGroups:r,sortMethod:i,romajiEnabled:N,bareKanji:T,hintEnabled:C,activeGroup:S,autoVerbView:A,verbColSplit:k,filterType:w,difficultyThreshold:F,repetition:I,spaRepMaxReviewItem:R,reinforce:G,verbFormsOrder:V,includeNew:E,includeReviewed:L}=(0,v.useConnectVocabulary)(),M=w.current,q=i.current,O=G.current,B=C.current;0===Object.keys(r).length&&e((0,j.getVocabulary)());let D=(0,a.useMemo)(()=>Object.keys(I).filter(e=>I[e]?.rein===!0),[I]),[z,U]=(0,a.useMemo)(()=>{let e=j.vocabularyInitState.setting.verbFormsOrder,t=V.reduce((t,r)=>(e.includes(r)&&(t=[...t,r]),t),[]),r=e.reduce((e,r)=>(!t.includes(r)&&(e=[...e,r]),e),[]);return[t,r]},[V]);if(t.length<1||Object.keys(r).length<1)return(0,l.jsx)(o.NotReady,{addlStyle:"vocabulary-settings"});let $=(0,b.getStaleGroups)(r,S);if($.length>0){let e=Error("Stale vocabulary active group",{cause:{code:"StaleVocabActiveGrp",value:$}});throw e}let P=(0,l.jsx)("div",{className:"outer",children:(0,l.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,l.jsxs)("div",{className:"column-1",children:[(0,l.jsx)(m.default,{flip:!0,title:"Filter by:",options:["Word Group","Frequency List"],initial:M,onChange:(0,x.buildAction)(e,j.toggleVocabularyFilter)}),M===f.TermFilterBy.GROUP&&(0,l.jsx)(y.SetTermGList,{termsGroups:r,termsActive:S,toggleTermActiveGrp:(0,x.buildAction)(e,j.toggleVocabularyActiveGrp)}),M===f.TermFilterBy.FREQUENCY&&0===D.length&&(0,l.jsx)("div",{className:"fst-italic",children:"No words have been chosen"}),M===f.TermFilterBy.FREQUENCY&&D.length>0&&(0,l.jsx)(g.SetTermGFList,{termsActive:S,termsFreq:D,terms:t,removeFrequencyTerm:(0,x.buildAction)(e,j.removeFrequencyWord),toggleTermActiveGrp:(0,x.buildAction)(e,j.toggleVocabularyActiveGrp)})]}),(0,l.jsxs)("div",{className:"column-2 setting-block",children:[(0,l.jsx)(m.default,{title:"Sort by:",options:f.TermSortByLabel,initial:q,onChange:t=>(f.TermSortBy.RECALL===t&&e((0,j.toggleVocabularyReinforcement)(!1)),(0,x.buildAction)(e,j.toggleVocabularyOrdering)(t))}),(0,l.jsx)("div",{className:"d-flex justify-content-end",children:(0,l.jsx)(p.ThresholdFilterSlider,{threshold:F,setThreshold:(0,x.buildAction)(e,j.setMemorizedThreshold)})}),q===f.TermSortBy.RECALL&&(0,l.jsx)(u.default,{label:"Max review items ",value:R,onChange:t=>{e((0,j.setSpaRepMaxItemReview)(t))}}),q===f.TermSortBy.VIEW_DATE&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)(d.default,{active:E,action:(0,x.buildAction)(e,j.toggleIncludeNew),statusText:"Staleness +New"})}),(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)(d.default,{active:L,action:(0,x.buildAction)(e,j.toggleIncludeReviewed),statusText:"Staleness +Reviewed"})})]}),(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)(d.default,{active:O,action:(0,x.buildAction)(e,j.toggleVocabularyReinforcement),disabled:M===f.TermFilterBy.FREQUENCY||q===f.TermSortBy.RECALL,statusText:"Reinforcement"})}),(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)(d.default,{active:N,action:(0,x.buildAction)(e,j.toggleVocabularyRomaji),statusText:"Romaji"})}),(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)(d.default,{active:T,action:(0,x.buildAction)(e,j.toggleVocabularyBareKanji),statusText:"English+Kanji"})}),(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)(d.default,{active:B,action:(0,x.buildAction)(e,j.toggleVocabularyHint),statusText:"Hint"})}),(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)(d.default,{active:A,action:(0,x.buildAction)(e,j.toggleAutoVerbView),statusText:"Auto Verb View"})}),A&&(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)("div",{className:"d-flex flex-row justify-content-end",children:(0,l.jsx)("div",{children:[z.map((t,r)=>(0,l.jsxs)("div",{className:n({"d-flex justify-content-between":!0,"pt-2":r===z.length-k,"pb-2":r===z.length-1&&0===k}),children:[(0,l.jsx)("div",{className:n({"me-3":!0,"disabled-color":0===r}),onClick:()=>{if(r>0){let t=z.slice(0,r-1),l=z[r-1],s=z[r],i=z.slice(r+1);e((0,j.setVerbFormsOrder)([...t,s,l,...i]))}},children:(0,l.jsx)(s.ChevronUpIcon,{className:"mt-1",size:"small","aria-label":"move up"})}),(0,l.jsx)("span",{className:"w-100 text-start",children:t}),(0,l.jsx)("div",{onClick:()=>{if(z.length>1){let t=[...z.slice(0,r),...z.slice(r+1)];e((0,j.setVerbFormsOrder)(t))}},children:(0,l.jsx)(s.XCircleIcon,{className:n({"mt-1 ms-3":!0,"incorrect-color":z.length>1,"disabled-color":1===z.length}),size:"small","aria-label":"remove"})})]},t)),U.map((t,r)=>(0,l.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,l.jsx)("div",{className:"me-3 invisible",children:(0,l.jsx)(s.ChevronUpIcon,{className:"mt-1",size:"small","aria-label":"move up"})}),(0,l.jsx)("span",{className:"w-100 text-start disabled-color",children:t}),(0,l.jsx)("div",{onClick:(0,x.buildAction)(e,j.setVerbFormsOrder,[...z,U[r]]),children:(0,l.jsx)(s.PlusCircleIcon,{className:"mt-1 ms-3",size:"small","aria-label":"add"})})]},t))]})})}),A&&(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"d-flex justify-content-end p-2",children:(0,l.jsx)(h.default,{initial:z.length-k,setChoiceN:t=>{e((0,j.updateVerbColSplit)(z.length-t))},max:V.length,statusText:"Column layout"})})})]})]})});return P}},22719:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var l=r("10327"),s=r("58093"),i=r("78615"),n=r("49620"),a=r.n(n),c=r("42157"),o=r.n(c),u=r("83169");function d(e){let[t,r]=(0,u.useState)(null),[n,c]=(0,u.useState)(e.initial),o=(0,u.useRef)(e.options),d=(0,u.useRef)(e.allowed??e.options.map((e,t)=>t)),m=o.current,p=d.current;(0,u.useEffect)(()=>{c(e.initial)},[e.initial]);let h=!!t,x=e=>{r(e.currentTarget)},b=(t,l)=>{c(l),r(null),e.onChange(l)};return(0,l.jsxs)("div",{className:a({clickable:!0!==e.disabled,"d-flex":!0,"flex-row-reverse":!0===e.flip||void 0,"justify-content-end":!0}),children:[(0,l.jsx)(s.List,{component:"nav",disablePadding:!0,children:(0,l.jsx)(s.ListItemButton,{disableGutters:!0,disabled:!0===e.disabled,id:"filter-button","aria-haspopup":"listbox","aria-controls":"filter-menu","aria-expanded":h?"true":void 0,onClick:x,children:(0,l.jsx)(s.ListItemText,{primary:e.title,secondary:m[n],secondaryTypographyProps:{color:"unset"}})})}),(0,l.jsx)(s.Menu,{id:"filter-menu",anchorEl:t,open:h,onClose:()=>{r(null)},MenuListProps:{"aria-labelledby":"filter-button",role:"listbox"},children:m.map((e,t)=>(0,l.jsx)(s.MenuItem,{selected:t===n,onClick:e=>{p.includes(t)&&b(e,t)},children:p.includes(t)?e:(0,l.jsx)("span",{className:"disabled-color",children:e})},e))}),(0,l.jsx)(s.IconButton,{"aria-labelledby":"filter-button",sx:{color:"unset",minWidth:"55px"},"aria-haspopup":"listbox",disabled:!0===e.disabled,onClick:x,children:(0,l.jsx)(i.KebabHorizontalIcon,{size:"medium",className:a({"rotate-transition":!0,"rotate-90":h})})})]})}d.propTypes={disabled:o.bool,flip:o.bool,title:o.string,options:o.arrayOf(o.string),initial:o.number,onChange:o.func}},2497:function(e,t,r){"use strict";r.r(t),r.d(t,{ThresholdFilterSlider:function(){return d}});var l=r("10327"),s=r("58093"),i=r("78615"),n=r("42157"),a=r.n(n),c=r("83169"),o=r("75010"),u=r("67402");function d(e){let{threshold:t,setThreshold:r}=e,[n]=(0,c.useState)(Math.abs(t)),a=(0,o.heatMap)(Math.abs(t)/100,.75),d=[{value:u.MEMORIZED_THRLD},{value:u.DIFFICULTY_THRLD}],m=(0,c.useCallback)(()=>{r(-1*t)},[r,t]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"position-relative text-nowrap w-0 fs-x-small",style:{top:"-15px"},children:`Difficulty filter: ${t}`}),(0,l.jsx)(s.Slider,{sx:{color:a},defaultValue:n,marks:d,track:t<0?void 0:"inverted",onChangeCommitted:(e,l)=>{let s=t<0?-1:1;"number"==typeof l&&(0===l?r(Number(s)):r(s*l))},valueLabelDisplay:"auto"}),(0,l.jsx)("div",{className:"mt-2 ms-3 ",onClick:m,children:t<0?(0,l.jsx)(i.SortAscIcon,{}):(0,l.jsx)(i.SortDescIcon,{})})]})}d.propTypes={threshold:a.number,setThreshold:a.func}},35920:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var l=r("10327"),s=r("58093"),i=r("42157"),n=r.n(i),a=r("83169");function c(e){var t;let[r]=(0,a.useState)(e.initial),i=Math.min(e.max,r),n=e.max,c=[],o={};for(let e=0;e<n+1;e++){let t=(e-0)/(n-0)*100;c=[...c,{value:t,raw:e}],o["r"+t]=e,o["s"+e]=t}let u=e=>o["r"+e],d=e=>{let t=u(e),r=Math.trunc(n/2),l="",s=r+Math.abs(r-t);return n%2!=0&&t<=r&&(l=String(++s)),n%2==0&&t===r||(l=t<r+1?s+" "+(n-s):n-s+" "+s),l},m=t=>{let r=u(t);r!==i&&e.setChoiceN(r)};return(0,l.jsxs)("div",{className:"verb-form-slider-root",children:[(0,l.jsx)(s.Typography,{id:"discrete-slider-restrict",gutterBottom:!0,children:e.statusText}),(0,l.jsx)(s.Slider,{defaultValue:(t=i,o["s"+t]),valueLabelFormat:d,getAriaValueText:d,"aria-labelledby":"discrete-slider-restrict",track:!1,step:null,valueLabelDisplay:"auto",marks:c,onChangeCommitted:(e,t)=>{"number"==typeof t&&m(t)}})]})}r("56640"),c.propTypes={statusText:n.string,initial:n.number.isRequired,max:n.number.isRequired,setChoiceN:n.func.isRequired}},37488:function(e,t,r){"use strict";r.r(t),r.d(t,{SetTermGFList:function(){return u}});var l=r("10327"),s=r("78615"),i=r("49620"),n=r.n(i),a=r("42157"),c=r.n(a);function o(e,t,r,i,a){return(0,l.jsxs)("div",{className:n({"p-0 px-2":!0,clickable:e}),onClick:()=>{e&&a(r)},children:[(0,l.jsxs)("span",{className:"p-1",children:[e&&(0,l.jsx)(s.XCircleIcon,{className:"incorrect-color",size:"small","aria-label":"remove"}),!e&&(0,l.jsx)(s.IssueDraftIcon,{size:"small","aria-label":"inactive"})]}),(0,l.jsx)("span",{className:"p-1",children:i})]},r)}function u(e){let t=[],r=e.termsFreq.reduce((r,l)=>{let s=e.terms.find(e=>e.uid===l);return s?r=[...r,s]:t=[...t,l],r},[]),s=r.reduce((e,t)=>{let r=t.grp?t.grp:"undefined";return e[r]?e[r]=[...e[r],t]:e[r]=[t],e},{});return(0,l.jsxs)("div",{children:[(0,l.jsx)("h5",{children:"Frequency"}),(0,l.jsx)("div",{children:Object.keys(s).map(t=>{let r=e.termsActive.includes(t);return(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("span",{className:n({"font-weight-bold":r}),onClick:()=>e.toggleTermActiveGrp(t),children:t}),(0,l.jsx)("div",{children:s[t].map((t,l)=>o(r,l,t.uid,t.english,e.removeFrequencyTerm))})]},t)})}),t.length>0&&(0,l.jsxs)("div",{className:"mt-5 text-break",children:[(0,l.jsx)("span",{className:"font-weight-bold",children:"Manual cleanup"}),t.map((t,r)=>o(!0,r,t,t,e.removeFrequencyTerm))]})]})}r("83169"),u.propTypes={termsActive:c.array,termsFreq:c.array,terms:c.array,removeFrequencyTerm:c.func,toggleTermActiveGrp:c.func}},37362:function(e,t,r){"use strict";r.r(t),r.d(t,{SetTermGList:function(){return o}});var l=r("10327"),s=r("56596"),i=r.n(s),n=r("42157"),a=r.n(n);r("83169");var c=r("2155");function o(e){return(0,l.jsxs)("div",{children:[(0,l.jsx)("h5",{children:"Groups"}),Object.keys(e.termsGroups).map(t=>{let r=e.termsActive.includes(t);return(0,l.jsxs)("div",{children:[(0,l.jsx)(c.GroupItem,{active:e.termsActive.includes(t),onClick:()=>e.toggleTermActiveGrp(t),children:t}),!r&&i(e.termsGroups[t],e=>{let[,t]=e.split("_");return Number.isInteger(parseInt(t,10))?parseInt(t,10):e}).map(r=>(0,l.jsx)(c.GroupItem,{addlStyle:"ms-3",active:e.termsActive.includes(t+"."+r),onClick:()=>{e.toggleTermActiveGrp(t+"."+r)},children:r},`${t}.${r}`))]},t)})]})}o.propTypes={termsGroups:a.object,termsActive:a.array,toggleTermActiveGrp:a.func}},75010:function(e,t,r){"use strict";r.r(t),r.d(t,{heatMap:function(){return s}});var l=r("40503");function s(e,t=.25){let[r,s,i]=[13,110,256],n=[r,(0,l.lerp)(s,255,e),(0,l.lerp)(i,0,e)],a=[(0,l.lerp)(0,255,e),255,0],c=[255,(0,l.lerp)(255,0,e),0],o=[(0,l.lerp)(n[0],a[0],e),(0,l.lerp)(n[1],a[1],e),(0,l.lerp)(n[2],a[2],e)],u=[(0,l.lerp)(a[0],c[0],e),(0,l.lerp)(a[1],c[1],e),(0,l.lerp)(a[2],c[2],e)],d=[(0,l.lerp)(o[0],u[0],e),(0,l.lerp)(o[1],u[1],e),(0,l.lerp)(o[2],u[2],e)],[m,p,h]=d.map(e=>Math.floor(e)),x=`rgb(${m},${p},${h},${t})`;return x}},80161:function(e,t,r){"use strict";r.r(t),r.d(t,{useConnectVocabulary:function(){return i}});var l=r("83169"),s=r("40432");function i(){let[e,t,r]=(0,s.useSelector)(({global:e})=>[e.debug,e.swipeThreshold,e.motionThreshold],s.shallowEqual),{value:i,grpObj:n}=(0,s.useSelector)(({vocabulary:e})=>e,(e,t)=>e.version===t.version),{repetition:a}=(0,s.useSelector)(({vocabulary:e})=>e.setting,(e,t)=>e.repTID===t.repTID),[c,o,u,d,m,p]=(0,s.useSelector)(({vocabulary:e})=>{let{englishSideUp:t,autoVerbView:r,spaRepMaxReviewItem:l,includeNew:s,includeReviewed:i}=e.setting,{verbForm:n}=e;return[t,r,n,l,s,i]},s.shallowEqual),[h,x,b,v,f,j,g,y]=(0,s.useSelector)(({vocabulary:e})=>{let{difficultyThreshold:t,reinforce:r,filter:l,hintEnabled:s,romaji:i,bareKanji:n,verbColSplit:a,ordered:c}=e.setting;return[t,r,l,s,i,n,a,c]},s.shallowEqual),N=(0,s.useSelector)(({vocabulary:e})=>{let{verbFormsOrder:t}=e.setting;return t},s.shallowEqual),T=(0,s.useSelector)(({vocabulary:e})=>{let{activeGroup:t}=e.setting;return t},s.shallowEqual),C=(0,l.useRef)(x);C.current=x;let S=(0,l.useRef)(b);S.current=b;let A=(0,l.useRef)(v);A.current=v;let k=(0,l.useRef)(y);return k.current=y,{englishSideUp:c,autoVerbView:o,verbForm:u,repetition:a,difficultyThreshold:h,debugLevel:e,swipeThreshold:t,motionThreshold:r,vocabList:i,vocabGroups:n,romajiEnabled:f,bareKanji:j,verbFormsOrder:N,verbColSplit:g,activeGroup:T,spaRepMaxReviewItem:d,includeNew:m,includeReviewed:p,reinforce:C,hintEnabled:A,filterType:S,sortMethod:k}}}}]);