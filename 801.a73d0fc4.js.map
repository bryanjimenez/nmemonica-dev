{"version":3,"file":"801.a73d0fc4.js","sources":["webpack://nmemonica/./src/components/Form/PlusMinus.tsx?f8e3","webpack://nmemonica/./src/components/Form/SettingsVocab.tsx","webpack://nmemonica/./src/components/Form/SimpleListMenu.tsx?7d4f","webpack://nmemonica/./src/components/Form/ThresholdFilterSlider.tsx?6118","webpack://nmemonica/./src/components/Form/VerbFormSlider.tsx","webpack://nmemonica/./src/components/Pages/SetTermGFList.tsx?4d74","webpack://nmemonica/./src/components/Pages/SetTermGList.tsx"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { faChevronDown, faChevronUp } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport classNames from \"classnames\";\nimport PropTypes from \"prop-types\";\nexport default function PlusMinus(props) {\n    const { label, value } = props;\n    return /*#__PURE__*/ _jsxs(\"div\", {\n        className: classNames({\n            \"mb-3 d-flex flex-row justify-content-end\": true\n        }),\n        children: [\n            /*#__PURE__*/ _jsxs(\"div\", {\n                className: \"d-flex flex-column justify-content-center\",\n                children: [\n                    /*#__PURE__*/ _jsx(\"div\", {\n                        children: label\n                    }),\n                    /*#__PURE__*/ _jsxs(\"div\", {\n                        className: \"text-center\",\n                        children: [\n                            /*#__PURE__*/ _jsxs(\"span\", {\n                                className: \"clickable\",\n                                onClick: ()=>{\n                                    props.onChange(0);\n                                },\n                                children: [\n                                    /*#__PURE__*/ _jsx(\"b\", {\n                                        children: \"m\"\n                                    }),\n                                    \"in\"\n                                ]\n                            }),\n                            \" \",\n                            \"-\",\n                            \" \",\n                            /*#__PURE__*/ _jsxs(\"span\", {\n                                className: \"clickable\",\n                                onClick: ()=>{\n                                    props.onChange(undefined);\n                                },\n                                children: [\n                                    /*#__PURE__*/ _jsx(\"b\", {\n                                        children: \"M\"\n                                    }),\n                                    \"ax\"\n                                ]\n                            })\n                        ]\n                    })\n                ]\n            }),\n            /*#__PURE__*/ _jsxs(\"div\", {\n                className: \"d-flex flex-column\",\n                children: [\n                    /*#__PURE__*/ _jsx(\"div\", {\n                        className: \"clickable px-3 text-center\",\n                        onClick: ()=>{\n                            props.onChange(value !== undefined ? value + 1 : 0);\n                        },\n                        children: /*#__PURE__*/ _jsx(FontAwesomeIcon, {\n                            icon: faChevronUp\n                        })\n                    }),\n                    /*#__PURE__*/ _jsx(\"div\", {\n                        className: classNames({\n                            \"text-center px-2\": true\n                        }),\n                        children: value ?? String.fromCharCode(parseInt(\"0x221e\", 16))\n                    }),\n                    /*#__PURE__*/ _jsx(\"div\", {\n                        className: \"clickable px-3 text-center\",\n                        onClick: ()=>{\n                            props.onChange(value !== undefined ? value - 1 : 0);\n                        },\n                        children: /*#__PURE__*/ _jsx(FontAwesomeIcon, {\n                            icon: faChevronDown\n                        })\n                    })\n                ]\n            })\n        ]\n    });\n}\nPlusMinus.propTypes = {\n    value: PropTypes.number\n};\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { ChevronUpIcon, PlusCircleIcon, XCircleIcon } from \"@primer/octicons-react\";\nimport classNames from \"classnames\";\nimport { useMemo } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { NotReady } from \"./NotReady\";\nimport PlusMinus from \"./PlusMinus\";\nimport SettingsSwitch from \"./SettingsSwitch\";\nimport SimpleListMenu from \"./SimpleListMenu\";\nimport { ThresholdFilterSlider } from \"./ThresholdFilterSlider\";\nimport VerbFormSlider from \"./VerbFormSlider\";\nimport { buildAction } from \"../../helper/eventHandlerHelper\";\nimport { getStaleGroups } from \"../../helper/gameHelper\";\nimport { useConnectVocabulary } from \"../../hooks/useConnectVocabulary\";\nimport { TermFilterBy, TermSortBy, TermSortByLabel } from \"../../slices/settingHelper\";\nimport { vocabularyInitState as VOCABULARY_INIT, getVocabulary, removeFrequencyWord, setMemorizedThreshold, setSpaRepMaxItemReview, setVerbFormsOrder, toggleAutoVerbView, toggleIncludeNew, toggleIncludeReviewed, toggleVocabularyActiveGrp, toggleVocabularyBareKanji, toggleVocabularyFilter, toggleVocabularyHint, toggleVocabularyOrdering, toggleVocabularyReinforcement, toggleVocabularyRomaji, updateVerbColSplit } from \"../../slices/vocabularySlice\";\nimport { SetTermGFList } from \"../Pages/SetTermGFList\";\nimport { SetTermGList } from \"../Pages/SetTermGList\";\nexport default function SettingsVocab() {\n    const dispatch = useDispatch();\n    const { vocabList: vocabulary, vocabGroups, sortMethod: vocabOrderRef, romajiEnabled: vocabRomaji, bareKanji: showBareKanji, hintEnabled: vocabHintRef, activeGroup: vocabActive, autoVerbView, verbColSplit, filterType: vocabFilterRef, difficultyThreshold, repetition: vocabRep, spaRepMaxReviewItem, reinforce: vocabReinforceRef, verbFormsOrder, includeNew, includeReviewed } = useConnectVocabulary();\n    const vocabFilter = vocabFilterRef.current;\n    const vocabOrder = vocabOrderRef.current;\n    const vocabReinforce = vocabReinforceRef.current;\n    const vocabHint = vocabHintRef.current;\n    if (Object.keys(vocabGroups).length === 0) {\n        void dispatch(getVocabulary());\n    }\n    const vocabFreq = useMemo(()=>Object.keys(vocabRep).filter((k)=>{\n            var _vocabRep_k;\n            return ((_vocabRep_k = vocabRep[k]) === null || _vocabRep_k === void 0 ? void 0 : _vocabRep_k.rein) === true;\n        }), [\n        vocabRep\n    ]);\n    const [shownForms, hiddenForms] = useMemo(()=>{\n        const allForms = VOCABULARY_INIT.setting.verbFormsOrder;\n        const shown = verbFormsOrder.reduce((acc, form)=>{\n            if (allForms.includes(form)) {\n                acc = [\n                    ...acc,\n                    form\n                ];\n            }\n            return acc;\n        }, []);\n        const hidden = allForms.reduce((acc, form)=>{\n            if (!shown.includes(form)) {\n                acc = [\n                    ...acc,\n                    form\n                ];\n            }\n            return acc;\n        }, []);\n        return [\n            shown,\n            hidden\n        ];\n    }, [\n        verbFormsOrder\n    ]);\n    if (vocabulary.length < 1 || Object.keys(vocabGroups).length < 1) return /*#__PURE__*/ _jsx(NotReady, {\n        addlStyle: \"vocabulary-settings\"\n    });\n    const stale = getStaleGroups(vocabGroups, vocabActive);\n    if (stale.length > 0) {\n        const error = new Error(\"Stale vocabulary active group\", {\n            cause: {\n                code: \"StaleVocabActiveGrp\",\n                value: stale\n            }\n        });\n        throw error;\n    }\n    const el = /*#__PURE__*/ _jsx(\"div\", {\n        className: \"outer\",\n        children: /*#__PURE__*/ _jsxs(\"div\", {\n            className: \"d-flex flex-row justify-content-between\",\n            children: [\n                /*#__PURE__*/ _jsxs(\"div\", {\n                    className: \"column-1\",\n                    children: [\n                        /*#__PURE__*/ _jsx(SimpleListMenu, {\n                            flip: true,\n                            title: \"Filter by:\",\n                            options: [\n                                \"Word Group\",\n                                \"Frequency List\"\n                            ],\n                            initial: vocabFilter,\n                            onChange: buildAction(dispatch, toggleVocabularyFilter)\n                        }),\n                        vocabFilter === TermFilterBy.GROUP && /*#__PURE__*/ _jsx(SetTermGList, {\n                            termsGroups: vocabGroups,\n                            termsActive: vocabActive,\n                            toggleTermActiveGrp: buildAction(dispatch, toggleVocabularyActiveGrp)\n                        }),\n                        vocabFilter === TermFilterBy.FREQUENCY && vocabFreq.length === 0 && /*#__PURE__*/ _jsx(\"div\", {\n                            className: \"fst-italic\",\n                            children: \"No words have been chosen\"\n                        }),\n                        vocabFilter === TermFilterBy.FREQUENCY && vocabFreq.length > 0 && /*#__PURE__*/ _jsx(SetTermGFList, {\n                            termsActive: vocabActive,\n                            termsFreq: vocabFreq,\n                            terms: vocabulary,\n                            removeFrequencyTerm: buildAction(dispatch, removeFrequencyWord),\n                            toggleTermActiveGrp: buildAction(dispatch, toggleVocabularyActiveGrp)\n                        })\n                    ]\n                }),\n                /*#__PURE__*/ _jsxs(\"div\", {\n                    className: \"column-2 setting-block\",\n                    children: [\n                        /*#__PURE__*/ _jsx(SimpleListMenu, {\n                            title: \"Sort by:\",\n                            options: TermSortByLabel,\n                            initial: vocabOrder,\n                            onChange: (index)=>{\n                                if (TermSortBy.RECALL === index) {\n                                    dispatch(toggleVocabularyReinforcement(false));\n                                }\n                                return buildAction(dispatch, toggleVocabularyOrdering)(index);\n                            }\n                        }),\n                        /*#__PURE__*/ _jsx(\"div\", {\n                            className: \"d-flex justify-content-end\",\n                            children: /*#__PURE__*/ _jsx(ThresholdFilterSlider, {\n                                threshold: difficultyThreshold,\n                                setThreshold: buildAction(dispatch, setMemorizedThreshold)\n                            })\n                        }),\n                        vocabOrder === TermSortBy.RECALL && /*#__PURE__*/ _jsx(PlusMinus, {\n                            label: \"Max review items \",\n                            value: spaRepMaxReviewItem,\n                            onChange: (value)=>{\n                                dispatch(setSpaRepMaxItemReview(value));\n                            }\n                        }),\n                        vocabOrder === TermSortBy.VIEW_DATE && /*#__PURE__*/ _jsxs(_Fragment, {\n                            children: [\n                                /*#__PURE__*/ _jsx(\"div\", {\n                                    className: \"mb-2\",\n                                    children: /*#__PURE__*/ _jsx(SettingsSwitch, {\n                                        active: includeNew,\n                                        action: buildAction(dispatch, toggleIncludeNew),\n                                        statusText: \"Staleness +New\"\n                                    })\n                                }),\n                                /*#__PURE__*/ _jsx(\"div\", {\n                                    className: \"mb-2\",\n                                    children: /*#__PURE__*/ _jsx(SettingsSwitch, {\n                                        active: includeReviewed,\n                                        action: buildAction(dispatch, toggleIncludeReviewed),\n                                        statusText: \"Staleness +Reviewed\"\n                                    })\n                                })\n                            ]\n                        }),\n                        /*#__PURE__*/ _jsx(\"div\", {\n                            className: \"mb-2\",\n                            children: /*#__PURE__*/ _jsx(SettingsSwitch, {\n                                active: vocabReinforce,\n                                action: buildAction(dispatch, toggleVocabularyReinforcement),\n                                disabled: vocabFilter === TermFilterBy.FREQUENCY || vocabOrder === TermSortBy.RECALL,\n                                statusText: \"Reinforcement\"\n                            })\n                        }),\n                        /*#__PURE__*/ _jsx(\"div\", {\n                            className: \"mb-2\",\n                            children: /*#__PURE__*/ _jsx(SettingsSwitch, {\n                                active: vocabRomaji,\n                                action: buildAction(dispatch, toggleVocabularyRomaji),\n                                statusText: \"Romaji\"\n                            })\n                        }),\n                        /*#__PURE__*/ _jsx(\"div\", {\n                            className: \"mb-2\",\n                            children: /*#__PURE__*/ _jsx(SettingsSwitch, {\n                                active: showBareKanji,\n                                action: buildAction(dispatch, toggleVocabularyBareKanji),\n                                statusText: \"English+Kanji\"\n                            })\n                        }),\n                        /*#__PURE__*/ _jsx(\"div\", {\n                            className: \"mb-2\",\n                            children: /*#__PURE__*/ _jsx(SettingsSwitch, {\n                                active: vocabHint,\n                                action: buildAction(dispatch, toggleVocabularyHint),\n                                statusText: \"Hint\"\n                            })\n                        }),\n                        /*#__PURE__*/ _jsx(\"div\", {\n                            className: \"mb-2\",\n                            children: /*#__PURE__*/ _jsx(SettingsSwitch, {\n                                active: autoVerbView,\n                                action: buildAction(dispatch, toggleAutoVerbView),\n                                statusText: \"Auto Verb View\"\n                            })\n                        }),\n                        autoVerbView && /*#__PURE__*/ _jsx(\"div\", {\n                            className: \"mb-2\",\n                            children: /*#__PURE__*/ _jsx(\"div\", {\n                                className: \"d-flex flex-row justify-content-end\",\n                                children: /*#__PURE__*/ _jsx(\"div\", {\n                                    children: [\n                                        shownForms.map((form, k)=>/*#__PURE__*/ _jsxs(\"div\", {\n                                                className: classNames({\n                                                    \"d-flex justify-content-between\": true,\n                                                    \"pt-2\": k === shownForms.length - verbColSplit,\n                                                    \"pb-2\": k === shownForms.length - 1 && verbColSplit === 0\n                                                }),\n                                                children: [\n                                                    /*#__PURE__*/ _jsx(\"div\", {\n                                                        className: classNames({\n                                                            \"me-3\": true,\n                                                            \"disabled-color\": k === 0\n                                                        }),\n                                                        onClick: ()=>{\n                                                            if (k > 0) {\n                                                                const a = shownForms.slice(0, k - 1);\n                                                                const b = shownForms[k - 1];\n                                                                const x = shownForms[k];\n                                                                const c = shownForms.slice(k + 1);\n                                                                dispatch(setVerbFormsOrder([\n                                                                    ...a,\n                                                                    x,\n                                                                    b,\n                                                                    ...c\n                                                                ]));\n                                                            }\n                                                        },\n                                                        children: /*#__PURE__*/ _jsx(ChevronUpIcon, {\n                                                            className: \"mt-1\",\n                                                            size: \"small\",\n                                                            \"aria-label\": \"move up\"\n                                                        })\n                                                    }),\n                                                    /*#__PURE__*/ _jsx(\"span\", {\n                                                        className: \"w-100 text-start\",\n                                                        children: form\n                                                    }),\n                                                    /*#__PURE__*/ _jsx(\"div\", {\n                                                        onClick: ()=>{\n                                                            if (shownForms.length > 1) {\n                                                                const minusK = [\n                                                                    ...shownForms.slice(0, k),\n                                                                    ...shownForms.slice(k + 1)\n                                                                ];\n                                                                dispatch(setVerbFormsOrder(minusK));\n                                                            }\n                                                        },\n                                                        children: /*#__PURE__*/ _jsx(XCircleIcon, {\n                                                            className: classNames({\n                                                                \"mt-1 ms-3\": true,\n                                                                \"incorrect-color\": shownForms.length > 1,\n                                                                \"disabled-color\": shownForms.length === 1\n                                                            }),\n                                                            size: \"small\",\n                                                            \"aria-label\": \"remove\"\n                                                        })\n                                                    })\n                                                ]\n                                            }, form)),\n                                        hiddenForms.map((form, k)=>/*#__PURE__*/ _jsxs(\"div\", {\n                                                className: \"d-flex justify-content-between\",\n                                                children: [\n                                                    /*#__PURE__*/ _jsx(\"div\", {\n                                                        className: \"me-3 invisible\",\n                                                        children: /*#__PURE__*/ _jsx(ChevronUpIcon, {\n                                                            className: \"mt-1\",\n                                                            size: \"small\",\n                                                            \"aria-label\": \"move up\"\n                                                        })\n                                                    }),\n                                                    /*#__PURE__*/ _jsx(\"span\", {\n                                                        className: \"w-100 text-start disabled-color\",\n                                                        children: form\n                                                    }),\n                                                    /*#__PURE__*/ _jsx(\"div\", {\n                                                        onClick: buildAction(dispatch, setVerbFormsOrder, [\n                                                            ...shownForms,\n                                                            hiddenForms[k]\n                                                        ]),\n                                                        children: /*#__PURE__*/ _jsx(PlusCircleIcon, {\n                                                            className: \"mt-1 ms-3\",\n                                                            size: \"small\",\n                                                            \"aria-label\": \"add\"\n                                                        })\n                                                    })\n                                                ]\n                                            }, form))\n                                    ]\n                                })\n                            })\n                        }),\n                        autoVerbView && /*#__PURE__*/ _jsx(\"div\", {\n                            children: /*#__PURE__*/ _jsx(\"div\", {\n                                className: \"d-flex justify-content-end p-2\",\n                                children: /*#__PURE__*/ _jsx(VerbFormSlider, {\n                                    initial: shownForms.length - verbColSplit,\n                                    setChoiceN: (slip)=>{\n                                        dispatch(updateVerbColSplit(shownForms.length - slip));\n                                    },\n                                    max: verbFormsOrder.length,\n                                    statusText: \"Column layout\"\n                                })\n                            })\n                        })\n                    ]\n                })\n            ]\n        })\n    });\n    return el;\n}\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { IconButton, List, ListItemButton, ListItemText, Menu, MenuItem } from \"@mui/material\";\nimport { KebabHorizontalIcon } from \"@primer/octicons-react\";\nimport classNames from \"classnames\";\nimport PropTypes from \"prop-types\";\nimport React, { useEffect, useRef, useState } from \"react\";\nexport default function SimpleListMenu(props) {\n    const [anchorEl, setAnchorEl] = useState(null);\n    const [selectedIndex, setSelectedIndex] = useState(props.initial);\n    const optionsRef = useRef(props.options);\n    const allowedRef = useRef(props.allowed ?? props.options.map((o, i)=>i));\n    const options = optionsRef.current;\n    const allowed = allowedRef.current;\n    useEffect(()=>{\n        setSelectedIndex(props.initial);\n    }, [\n        props.initial\n    ]);\n    const open = Boolean(anchorEl);\n    const handleClickListItem = (event)=>{\n        setAnchorEl(event.currentTarget);\n    };\n    const handleMenuItemClick = (event, index)=>{\n        setSelectedIndex(index);\n        setAnchorEl(null);\n        props.onChange(index);\n    };\n    const handleClose = ()=>{\n        setAnchorEl(null);\n    };\n    return /*#__PURE__*/ _jsxs(\"div\", {\n        className: classNames({\n            clickable: props.disabled !== true,\n            \"d-flex\": true,\n            \"flex-row-reverse\": props.flip === true ? true : undefined,\n            \"justify-content-end\": true\n        }),\n        children: [\n            /*#__PURE__*/ _jsx(List, {\n                component: \"nav\",\n                disablePadding: true,\n                children: /*#__PURE__*/ _jsx(ListItemButton, {\n                    disableGutters: true,\n                    disabled: props.disabled === true,\n                    id: \"filter-button\",\n                    \"aria-haspopup\": \"listbox\",\n                    \"aria-controls\": \"filter-menu\",\n                    \"aria-expanded\": open ? \"true\" : undefined,\n                    onClick: handleClickListItem,\n                    children: /*#__PURE__*/ _jsx(ListItemText, {\n                        primary: props.title,\n                        secondary: options[selectedIndex],\n                        secondaryTypographyProps: {\n                            color: \"unset\"\n                        }\n                    })\n                })\n            }),\n            /*#__PURE__*/ _jsx(Menu, {\n                id: \"filter-menu\",\n                anchorEl: anchorEl,\n                open: open,\n                onClose: handleClose,\n                MenuListProps: {\n                    \"aria-labelledby\": \"filter-button\",\n                    role: \"listbox\"\n                },\n                children: options.map((option, index)=>/*#__PURE__*/ _jsx(MenuItem, {\n                        // disabled={index === 0}\n                        selected: index === selectedIndex,\n                        onClick: (event)=>{\n                            if (allowed.includes(index)) handleMenuItemClick(event, index);\n                        },\n                        children: allowed.includes(index) ? option : /*#__PURE__*/ _jsx(\"span\", {\n                            className: \"disabled-color\",\n                            children: option\n                        })\n                    }, option))\n            }),\n            /*#__PURE__*/ _jsx(IconButton, {\n                \"aria-labelledby\": \"filter-button\",\n                sx: {\n                    color: \"unset\",\n                    minWidth: \"55px\"\n                },\n                \"aria-haspopup\": \"listbox\",\n                disabled: props.disabled === true,\n                onClick: handleClickListItem,\n                children: /*#__PURE__*/ _jsx(KebabHorizontalIcon, {\n                    size: \"medium\",\n                    className: classNames({\n                        \"rotate-transition\": true,\n                        \"rotate-90\": open\n                    })\n                })\n            })\n        ]\n    });\n}\nSimpleListMenu.propTypes = {\n    disabled: PropTypes.bool,\n    flip: PropTypes.bool,\n    title: PropTypes.string,\n    options: PropTypes.arrayOf(PropTypes.string),\n    initial: PropTypes.number,\n    onChange: PropTypes.func\n};\n","import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { Slider } from \"@mui/material\";\nimport { SortAscIcon, SortDescIcon } from \"@primer/octicons-react\";\nimport PropTypes from \"prop-types\";\nimport { useCallback, useState } from \"react\";\nimport { heatMap } from \"../../helper/colorHelper\";\nimport { DIFFICULTY_THRLD, MEMORIZED_THRLD } from \"../../helper/sortHelper\";\nexport function ThresholdFilterSlider(props) {\n    const { threshold, setThreshold } = props;\n    const [defaultValue] = useState(Math.abs(threshold));\n    const c = heatMap(Math.abs(threshold) / 100, 0.75);\n    const difficultyMarks = [\n        {\n            value: MEMORIZED_THRLD\n        },\n        {\n            value: DIFFICULTY_THRLD\n        }\n    ];\n    const flipThresholdCB = useCallback(()=>{\n        setThreshold(-1 * threshold);\n    }, [\n        setThreshold,\n        threshold\n    ]);\n    return /*#__PURE__*/ _jsxs(_Fragment, {\n        children: [\n            /*#__PURE__*/ _jsx(\"div\", {\n                className: \"position-relative text-nowrap w-0 fs-x-small\",\n                style: {\n                    top: \"-15px\"\n                },\n                children: `Difficulty filter: ${threshold}`\n            }),\n            /*#__PURE__*/ _jsx(Slider, {\n                sx: {\n                    color: c\n                },\n                defaultValue: defaultValue,\n                marks: difficultyMarks,\n                track: threshold < 0 ? undefined : \"inverted\",\n                onChangeCommitted: (e, newValue)=>{\n                    const sign = threshold < 0 ? -1 : 1;\n                    if (typeof newValue === \"number\") {\n                        if (newValue === 0) {\n                            setThreshold(Number(sign));\n                        } else {\n                            setThreshold(sign * newValue);\n                        }\n                    }\n                },\n                valueLabelDisplay: \"auto\"\n            }),\n            /*#__PURE__*/ _jsx(\"div\", {\n                className: \"mt-2 ms-3 \",\n                onClick: flipThresholdCB,\n                children: threshold < 0 ? /*#__PURE__*/ _jsx(SortAscIcon, {}) : /*#__PURE__*/ _jsx(SortDescIcon, {})\n            })\n        ]\n    });\n}\nThresholdFilterSlider.propTypes = {\n    threshold: PropTypes.number,\n    setThreshold: PropTypes.func\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Slider, Typography } from \"@mui/material\";\nimport PropTypes from \"prop-types\";\nimport React, { useState } from \"react\";\nimport \"../../css/VerbFormSlider.css\";\nexport default function VerbFormSlider(props) {\n    const [initVal] = useState(props.initial);\n    const safeInitial = Math.min(props.max, initVal);\n    const max = props.max;\n    const min = 0;\n    let marks = [];\n    let marksMap = {};\n    for(let x = min; x < max + 1; x++){\n        const slide = (x - min) / (max - min) * 100;\n        marks = [\n            ...marks,\n            {\n                value: slide,\n                raw: x\n            }\n        ];\n        marksMap[\"r\" + slide] = x;\n        marksMap[\"s\" + x] = slide;\n    }\n    const slideToRaw = (slide)=>{\n        return marksMap[\"r\" + slide];\n    };\n    const rawToSlide = (raw)=>{\n        return marksMap[\"s\" + raw];\n    };\n    const slideToLabel = (slide)=>{\n        const idx = slideToRaw(slide);\n        const half = Math.trunc(max / 2);\n        let label = \"\";\n        let splt = half + Math.abs(half - idx);\n        if (max % 2 !== 0 && idx <= half) {\n            splt++;\n            label = String(splt);\n        }\n        if (max % 2 === 0 && idx === half) {\n        // at the half way point\n        } else if (idx < half + 1) {\n            label = splt + \" \" + (max - splt);\n        } else {\n            label = max - splt + \" \" + splt;\n        }\n        return label;\n    };\n    const handleChange = (newValue)=>{\n        const prevVal = safeInitial;\n        const curVal = slideToRaw(newValue);\n        if (curVal !== prevVal) {\n            props.setChoiceN(curVal);\n        }\n    };\n    return /*#__PURE__*/ _jsxs(\"div\", {\n        className: \"verb-form-slider-root\",\n        children: [\n            /*#__PURE__*/ _jsx(Typography, {\n                id: \"discrete-slider-restrict\",\n                gutterBottom: true,\n                children: props.statusText\n            }),\n            /*#__PURE__*/ _jsx(Slider, {\n                defaultValue: rawToSlide(safeInitial),\n                valueLabelFormat: slideToLabel,\n                getAriaValueText: slideToLabel,\n                \"aria-labelledby\": \"discrete-slider-restrict\",\n                track: false,\n                step: null,\n                valueLabelDisplay: \"auto\",\n                marks: marks,\n                onChangeCommitted: (event, newValue)=>{\n                    if (typeof newValue === \"number\") {\n                        handleChange(newValue);\n                    }\n                }\n            })\n        ]\n    });\n}\nVerbFormSlider.propTypes = {\n    statusText: PropTypes.string,\n    initial: PropTypes.number.isRequired,\n    max: PropTypes.number.isRequired,\n    setChoiceN: PropTypes.func.isRequired\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { IssueDraftIcon, XCircleIcon } from \"@primer/octicons-react\";\nimport classNames from \"classnames\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nfunction listItem(grpActive, i, uid, english, removeFrequencyTerm) {\n    return /*#__PURE__*/ _jsxs(\"div\", {\n        className: classNames({\n            \"p-0 px-2\": true,\n            clickable: grpActive\n        }),\n        onClick: ()=>{\n            if (grpActive) {\n                removeFrequencyTerm(uid);\n            }\n        },\n        children: [\n            /*#__PURE__*/ _jsxs(\"span\", {\n                className: \"p-1\",\n                children: [\n                    grpActive && /*#__PURE__*/ _jsx(XCircleIcon, {\n                        className: \"incorrect-color\",\n                        size: \"small\",\n                        \"aria-label\": \"remove\"\n                    }),\n                    !grpActive && /*#__PURE__*/ _jsx(IssueDraftIcon, {\n                        // className=\"incorrect-color\"\n                        size: \"small\",\n                        \"aria-label\": \"inactive\"\n                    })\n                ]\n            }),\n            /*#__PURE__*/ _jsx(\"span\", {\n                className: \"p-1\",\n                children: english\n            })\n        ]\n    }, uid);\n}\n/**\n * Groups + Frequency term list\n */ export function SetTermGFList(props) {\n    let cleanup = [];\n    const thisgrp = props.termsFreq.reduce((acc, f)=>{\n        const found = props.terms.find((v)=>v.uid === f);\n        if (found) {\n            acc = [\n                ...acc,\n                found\n            ];\n        } else {\n            cleanup = [\n                ...cleanup,\n                f\n            ];\n        }\n        return acc;\n    }, []);\n    const grplist = thisgrp.reduce((acc, cur)=>{\n        const key = cur.grp ? cur.grp : \"undefined\";\n        if (acc[key]) {\n            acc[key] = [\n                ...acc[key],\n                cur\n            ];\n        } else {\n            acc[key] = [\n                cur\n            ];\n        }\n        return acc;\n    }, {});\n    return /*#__PURE__*/ _jsxs(\"div\", {\n        children: [\n            /*#__PURE__*/ _jsx(\"span\", {\n                className: \"fs-5 fw-light\",\n                children: \"Frequency\"\n            }),\n            /*#__PURE__*/ _jsx(\"div\", {\n                children: Object.keys(grplist).map((g)=>{\n                    const grpActive = props.termsActive.includes(g);\n                    return /*#__PURE__*/ _jsxs(\"div\", {\n                        className: \"mb-2\",\n                        children: [\n                            /*#__PURE__*/ _jsx(\"span\", {\n                                className: classNames({\n                                    \"font-weight-bold\": grpActive\n                                }),\n                                onClick: ()=>props.toggleTermActiveGrp(g),\n                                children: g\n                            }),\n                            /*#__PURE__*/ _jsx(\"div\", {\n                                children: grplist[g].map((word, iw)=>listItem(grpActive, iw, word.uid, word.english, props.removeFrequencyTerm))\n                            })\n                        ]\n                    }, g);\n                })\n            }),\n            cleanup.length > 0 && /*#__PURE__*/ _jsxs(\"div\", {\n                className: \"mt-5 text-break\",\n                children: [\n                    /*#__PURE__*/ _jsx(\"span\", {\n                        className: \"font-weight-bold\",\n                        children: \"Manual cleanup\"\n                    }),\n                    cleanup.map((orphanUid, i)=>listItem(true, i, orphanUid, orphanUid, props.removeFrequencyTerm))\n                ]\n            })\n        ]\n    });\n}\nSetTermGFList.propTypes = {\n    termsActive: PropTypes.array,\n    termsFreq: PropTypes.array,\n    terms: PropTypes.array,\n    removeFrequencyTerm: PropTypes.func,\n    toggleTermActiveGrp: PropTypes.func\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport orderBy from \"lodash/orderBy\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { GroupItem } from \"../Form/GroupItem\";\n/**\n * Group and subgroup list\n * @param {SetTermGListProps} props\n */ export function SetTermGList(props) {\n    return /*#__PURE__*/ _jsxs(\"div\", {\n        children: [\n            /*#__PURE__*/ _jsx(\"span\", {\n                className: \"fs-5 fw-light\",\n                children: \"Groups\"\n            }),\n            Object.keys(props.termsGroups).map((g)=>{\n                const grpActive = props.termsActive.includes(g);\n                return /*#__PURE__*/ _jsxs(\"div\", {\n                    children: [\n                        /*#__PURE__*/ _jsx(GroupItem, {\n                            active: props.termsActive.includes(g),\n                            onClick: ()=>props.toggleTermActiveGrp(g),\n                            children: g\n                        }),\n                        !grpActive && orderBy(props.termsGroups[g], (o)=>{\n                            // order numerically if group has _number\n                            const [, /*lbl,*/ num] = o.split(\"_\");\n                            if (Number.isInteger(parseInt(num, 10))) {\n                                return parseInt(num, 10);\n                            }\n                            return o;\n                        }).map((s)=>/*#__PURE__*/ _jsx(GroupItem, {\n                                addlStyle: \"ms-3\",\n                                active: props.termsActive.includes(g + \".\" + s),\n                                onClick: ()=>{\n                                    props.toggleTermActiveGrp(g + \".\" + s);\n                                },\n                                children: s\n                            }, `${g}.${s}`))\n                    ]\n                }, g);\n            })\n        ]\n    });\n}\nSetTermGList.propTypes = {\n    termsGroups: PropTypes.object,\n    termsActive: PropTypes.array,\n    toggleTermActiveGrp: PropTypes.func\n};\n"],"names":["PlusMinus","props","label","value","className","children","onClick","onChange","undefined","FontAwesomeIcon","icon","faChevronUp","String","fromCharCode","parseInt","faChevronDown","propTypes","SettingsVocab","dispatch","useDispatch","vocabList","vocabulary","vocabGroups","sortMethod","vocabOrderRef","romajiEnabled","vocabRomaji","bareKanji","showBareKanji","hintEnabled","vocabHintRef","activeGroup","vocabActive","autoVerbView","verbColSplit","filterType","vocabFilterRef","difficultyThreshold","repetition","vocabRep","spaRepMaxReviewItem","reinforce","vocabReinforceRef","verbFormsOrder","includeNew","includeReviewed","useConnectVocabulary","vocabFilter","current","vocabOrder","vocabReinforce","vocabHint","Object","keys","length","getVocabulary","vocabFreq","useMemo","filter","k","_vocabRep_k","rein","shownForms","hiddenForms","allForms","shown","reduce","acc","form","includes","hidden","NotReady","addlStyle","stale","getStaleGroups","Error","cause","code","flip","title","options","initial","buildAction","toggleVocabularyFilter","TermFilterBy","SetTermGList","termsGroups","termsActive","toggleTermActiveGrp","toggleVocabularyActiveGrp","SetTermGFList","termsFreq","terms","removeFrequencyTerm","removeFrequencyWord","TermSortByLabel","index","TermSortBy","toggleVocabularyReinforcement","toggleVocabularyOrdering","ThresholdFilterSlider","threshold","setThreshold","setMemorizedThreshold","setSpaRepMaxItemReview","active","action","toggleIncludeNew","statusText","toggleIncludeReviewed","disabled","toggleVocabularyRomaji","toggleVocabularyBareKanji","toggleVocabularyHint","toggleAutoVerbView","map","a","slice","b","x","c","setVerbFormsOrder","ChevronUpIcon","size","minusK","XCircleIcon","PlusCircleIcon","setChoiceN","slip","updateVerbColSplit","max","SimpleListMenu","anchorEl","setAnchorEl","useState","selectedIndex","setSelectedIndex","optionsRef","useRef","allowedRef","allowed","o","i","useEffect","open","Boolean","handleClickListItem","event","currentTarget","handleMenuItemClick","clickable","List","component","disablePadding","ListItemButton","disableGutters","id","ListItemText","primary","secondary","secondaryTypographyProps","color","Menu","onClose","MenuListProps","role","option","MenuItem","selected","IconButton","sx","minWidth","KebabHorizontalIcon","defaultValue","Math","abs","heatMap","difficultyMarks","MEMORIZED_THRLD","DIFFICULTY_THRLD","flipThresholdCB","useCallback","style","top","Slider","marks","track","onChangeCommitted","e","newValue","sign","Number","valueLabelDisplay","SortAscIcon","SortDescIcon","VerbFormSlider","initVal","safeInitial","min","marksMap","slide","raw","slideToRaw","slideToLabel","idx","half","trunc","splt","handleChange","curVal","Typography","gutterBottom","valueLabelFormat","getAriaValueText","step","listItem","grpActive","uid","english","IssueDraftIcon","cleanup","grplist","thisgrp","f","found","find","v","cur","key","grp","g","word","iw","orphanUid","GroupItem","num","split","isInteger","s"],"mappings":"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"}