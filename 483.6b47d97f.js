(self.webpackChunknmemonica=self.webpackChunknmemonica||[]).push([["483"],{71420:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return p}});var a=l("17581"),n=l("50098"),c=l("74288"),i=l("75092"),t=l("92820"),d=l("27068"),r=l("62242"),h=l("3637"),u=l("48000"),o=l("31980"),m=l("57390"),x=l("87519"),j=l("26101");function p(){let e=(0,i.useDispatch)(),[s,l]=(0,c.useState)(!1),{vocabList:p,repetition:f}=(0,u.useConnectVocabulary)(),{phraseList:N,repetition:b}=(0,h.useConnectPhrase)(),{kanjiList:g,repetition:k}=(0,r.useConnectKanji)(),{keys:y,list:v}=(0,c.useMemo)(()=>(0,d.getStaleSpaceRepKeys)(f,p,"[Stale Vocabulary]"),[p,f]),{keys:w,list:S}=(0,c.useMemo)(()=>(0,d.getStaleSpaceRepKeys)(b,N,"[Stale Phrase]"),[N,b]),{keys:M,list:C}=(0,c.useMemo)(()=>(0,d.getStaleSpaceRepKeys)(k,g,"[Stale Kanji]"),[g,k]),K=(0,c.useMemo)(()=>new Set([...y,...w,...M]),[y,w,M]),I=(0,c.useMemo)(()=>(function(e){return e.reduce((s,l,n)=>{let c=(0,a.jsx)("hr",{},`stale-meta-${l.uid+"-sep-"+n}`),i=(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("span",{className:"col p-0",children:l.key}),(0,a.jsx)("span",{className:"col p-0",children:l.english}),(0,a.jsx)("span",{className:"col p-0 app-sm-fs-xx-small",children:(0,a.jsx)("div",{children:l.uid})})]},l.uid+l.key+"-"+n);return s.length>0&&n<e.length?[...s,c,i]:[...s,i]},[])})([...v,...S,...C]),[v,S,C]),P=(0,c.useMemo)(()=>C.reduce((e,s)=>"uid"===s.key?[...e,s.uid]:e,[]),[C]),R=(0,c.useMemo)(()=>S.reduce((e,s)=>"uid"===s.key?[...e,s.uid]:e,[]),[S]),T=(0,c.useMemo)(()=>v.reduce((e,s)=>"uid"===s.key?[...e,s.uid]:e,[]),[v]),V=(0,c.useCallback)(()=>{R.length>0&&e((0,m.deleteMetaPhrase)(R))},[e,R]),z=(0,c.useCallback)(()=>{T.length>0&&e((0,x.deleteMetaVocab)(T))},[e,T]),L=(0,c.useCallback)(()=>{P.length>0&&e((0,o.deleteMetaKanji)(P))},[e,P]);return(0,a.jsxs)(a.Fragment,{children:[(R.length>0||T.length>0||P.length>0)&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("span",{className:"fs-5 fw-light",children:"Stale Metadata UID"}),(0,a.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,a.jsx)("div",{className:"column-1"}),(0,a.jsx)("div",{className:"column-2",children:(0,a.jsxs)("div",{className:"setting-block",children:[R.length>0&&(0,a.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,a.jsxs)("span",{children:["Phrase: ",R.length]}),(0,a.jsx)("div",{className:"ps-4",onClick:V,children:(0,a.jsx)(n.TrashIcon,{className:"clickable",size:"small","aria-label":"delete"})})]}),T.length>0&&(0,a.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,a.jsxs)("span",{children:["Vocabulary: ",T.length]}),(0,a.jsx)("div",{className:"ps-4",onClick:z,children:(0,a.jsx)(n.TrashIcon,{className:"clickable",size:"small","aria-label":"delete"})})]}),P.length>0&&(0,a.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,a.jsxs)("span",{children:["Kanji: ",P.length]}),(0,a.jsx)("div",{className:"ps-4",onClick:L,children:(0,a.jsx)(n.TrashIcon,{className:"clickable",size:"small","aria-label":"delete"})})]})]})})]})]}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,a.jsx)("span",{className:"fs-5 fw-light",children:"Stale Metadata Keys"}),(0,j.collapseExpandToggler)(s,l)]}),(0,a.jsx)("div",{className:"px-4",children:(0,a.jsx)("span",{children:"keys: "+JSON.stringify(Array.from(K),null,2)})}),s&&(0,a.jsx)(c.Suspense,{fallback:(0,a.jsx)(t.NotReady,{addlStyle:"failed-spacerep-view"}),children:(0,a.jsx)("div",{className:"failed-spacerep-view container mt-2 p-0",children:I})})]})]})}}}]);
//# sourceMappingURL=483.6b47d97f.js.map