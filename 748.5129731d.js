(self.webpackChunknmemonica=self.webpackChunknmemonica||[]).push([["748"],{62286:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var s=r("17581"),i=r("18554"),l=r.n(i),n=r("6085"),a=r.n(n);function c(e){let{label:t,value:r}=e;return(0,s.jsxs)("div",{className:l()({"mb-3 d-flex flex-row justify-content-end":!0}),children:[(0,s.jsx)("div",{children:t}),(0,s.jsx)("div",{className:"clickable px-2",onClick:()=>{e.onChange(r-1)},children:"-"}),(0,s.jsx)("div",{className:l()({"px-2":!0}),children:r}),(0,s.jsx)("div",{className:"clickable px-2",onClick:()=>{e.onChange(r+1)},children:"+"})]})}c.propTypes={value:a().number}},52802:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var s=r("17581"),i=r("75092"),l=r("92820"),n=r("62286"),a=r("86484"),c=r("41275"),o=r("21577"),d=r("90210"),u=r("27068"),m=r("3637"),h=r("57390"),p=r("12960"),x=r("98401"),v=r("51956");function f(){let e=(0,i.useDispatch)(),{phraseList:t,phraseGroups:r,sortMethod:f,romajiActive:j,difficultyThreshold:b,activeGroup:g,filterType:y,repetition:T,reinforce:N,spaRepMaxReviewItem:A,includeNew:C,includeReviewed:S}=(0,m.useConnectPhrase)(),k=y.current,F=f.current,G=j.current,R=N.current;0===t.length&&e((0,h.getPhrase)());let I=Object.keys(T).filter(e=>{var t;return(null===(t=T[e])||void 0===t?void 0:t.rein)===!0});if(t.length<1||Object.keys(r).length<1)return(0,s.jsx)(l.NotReady,{addlStyle:"phrases-settings"});let L=(0,u.getStaleGroups)(r,g);if(L.length>0)throw Error("Stale phrases active group",{cause:{code:"StalePhraseActiveGrp",value:L}});return(0,s.jsx)("div",{className:"outer",children:(0,s.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,s.jsxs)("div",{className:"column-1",children:[(0,s.jsx)("span",{className:"fs-5 fw-light",children:(0,u.labelOptions)(k,["Phrases Group","Frequency List","NOT_USED_Tags"])}),(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsx)(a.default,{active:k%2==0,action:(0,d.buildAction)(e,h.togglePhrasesFilter),color:"default",statusText:"Filter by"})}),k===p.TermFilterBy.GROUP&&(0,s.jsx)(v.SetTermGList,{termsGroups:r,termsActive:g,toggleTermActiveGrp:t=>e((0,h.togglePhraseActiveGrp)(t))}),k===p.TermFilterBy.FREQUENCY&&0===I.length&&(0,s.jsx)("div",{className:"fst-italic",children:"No phrases have been chosen"}),k===p.TermFilterBy.FREQUENCY&&I.length>0&&(0,s.jsx)(x.SetTermGFList,{termsActive:g,termsFreq:I,terms:t,removeFrequencyTerm:t=>e((0,h.removeFrequencyPhrase)(t)),toggleTermActiveGrp:t=>e((0,h.togglePhraseActiveGrp)(t))})]}),(0,s.jsxs)("div",{className:"column-2 setting-block",children:[(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsx)(c.default,{title:"Sort by:",options:p.TermSortByLabel,initial:F,allowed:[p.TermSortBy.RANDOM,p.TermSortBy.VIEW_DATE,p.TermSortBy.RECALL],onChange:t=>(p.TermSortBy.RECALL===t&&e((0,h.togglePhrasesReinforcement)(!1)),(0,d.buildAction)(e,h.togglePhrasesOrdering)(t))})}),F===p.TermSortBy.RECALL&&(0,s.jsx)(n.default,{label:"Max review items ",value:A,onChange:t=>{e((0,h.setSpaRepMaxItemReview)(t))}}),(0,s.jsx)("div",{className:"d-flex justify-content-end",children:(0,s.jsx)(o.ThresholdFilterSlider,{threshold:b,setThreshold:(0,d.buildAction)(e,h.setMemorizedThreshold)})}),F===p.TermSortBy.VIEW_DATE&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsx)(a.default,{active:C,action:(0,d.buildAction)(e,h.toggleIncludeNew),statusText:"Staleness +New"})}),(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsx)(a.default,{active:S,action:(0,d.buildAction)(e,h.toggleIncludeReviewed),statusText:"Staleness +Reviewed"})})]}),(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsx)(a.default,{active:R,action:(0,d.buildAction)(e,h.togglePhrasesReinforcement),disabled:k===p.TermFilterBy.FREQUENCY||F===p.TermSortBy.RECALL,statusText:"Reinforcement"})}),(0,s.jsx)("div",{className:"mb-2",children:(0,s.jsx)(a.default,{active:G,action:(0,d.buildAction)(e,h.togglePhrasesRomaji),statusText:"Romaji"})})]})]})})}},41275:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var s=r("17581"),i=r("15764"),l=r("50098"),n=r("18554"),a=r.n(n),c=r("6085"),o=r.n(c),d=r("74288");function u(e){let[t,r]=(0,d.useState)(null),[n,c]=(0,d.useState)(e.initial),o=(0,d.useRef)(e.options),u=(0,d.useRef)(e.allowed??e.options.map((e,t)=>t)),m=o.current,h=u.current;(0,d.useEffect)(()=>{c(e.initial)},[e.initial]);let p=!!t,x=e=>{r(e.currentTarget)},v=(t,s)=>{c(s),r(null),e.onChange(s)};return(0,s.jsxs)("div",{className:a()({clickable:!0!==e.disabled,"d-flex":!0,"flex-row-reverse":!0===e.flip||void 0,"justify-content-end":!0}),children:[(0,s.jsx)(i.List,{component:"nav",disablePadding:!0,children:(0,s.jsx)(i.ListItemButton,{disableGutters:!0,disabled:!0===e.disabled,id:"filter-button","aria-haspopup":"listbox","aria-controls":"filter-menu","aria-expanded":p?"true":void 0,onClick:x,children:(0,s.jsx)(i.ListItemText,{primary:e.title,secondary:m[n],secondaryTypographyProps:{color:"unset"}})})}),(0,s.jsx)(i.Menu,{id:"filter-menu",anchorEl:t,open:p,onClose:()=>{r(null)},MenuListProps:{"aria-labelledby":"filter-button",role:"listbox"},children:m.map((e,t)=>(0,s.jsx)(i.MenuItem,{selected:t===n,onClick:e=>{h.includes(t)&&v(e,t)},children:h.includes(t)?e:(0,s.jsx)("span",{className:"disabled-color",children:e})},e))}),(0,s.jsx)(i.IconButton,{"aria-labelledby":"filter-button",sx:{color:"unset",minWidth:"55px"},"aria-haspopup":"listbox",disabled:!0===e.disabled,onClick:x,children:(0,s.jsx)(l.KebabHorizontalIcon,{size:"medium",className:a()({"rotate-transition":!0,"rotate-90":p})})})]})}u.propTypes={disabled:o().bool,flip:o().bool,title:o().string,options:o().arrayOf(o().string),initial:o().number,onChange:o().func}},21577:function(e,t,r){"use strict";r.r(t),r.d(t,{ThresholdFilterSlider:function(){return u}});var s=r("17581"),i=r("15764"),l=r("50098"),n=r("6085"),a=r.n(n),c=r("74288"),o=r("83249"),d=r("43560");function u(e){let{threshold:t,setThreshold:r}=e,[n]=(0,c.useState)(Math.abs(t)),a=(0,o.heatMap)(Math.abs(t)/100,.75),u=[{value:d.MEMORIZED_THRLD},{value:d.DIFFICULTY_THRLD}],m=(0,c.useCallback)(()=>{r(-1*t)},[r,t]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"position-relative text-nowrap w-0 fs-x-small",style:{top:"-15px"},children:`Difficulty filter: ${t}`}),(0,s.jsx)(i.Slider,{sx:{color:a},defaultValue:n,marks:u,track:t<0?void 0:"inverted",onChangeCommitted:(e,s)=>{let i=t<0?-1:1;"number"==typeof s&&(0===s?r(Number(i)):r(i*s))},valueLabelDisplay:"auto"}),(0,s.jsx)("div",{className:"mt-2 ms-3 ",onClick:m,children:t<0?(0,s.jsx)(l.SortAscIcon,{}):(0,s.jsx)(l.SortDescIcon,{})})]})}u.propTypes={threshold:a().number,setThreshold:a().func}},98401:function(e,t,r){"use strict";r.r(t),r.d(t,{SetTermGFList:function(){return d}});var s=r("17581"),i=r("50098"),l=r("18554"),n=r.n(l),a=r("6085"),c=r.n(a);function o(e,t,r,l,a){return(0,s.jsxs)("div",{className:n()({"p-0 px-2":!0,clickable:e}),onClick:()=>{e&&a(r)},children:[(0,s.jsxs)("span",{className:"p-1",children:[e&&(0,s.jsx)(i.XCircleIcon,{className:"incorrect-color",size:"small","aria-label":"remove"}),!e&&(0,s.jsx)(i.IssueDraftIcon,{size:"small","aria-label":"inactive"})]}),(0,s.jsx)("span",{className:"p-1",children:l})]},r)}function d(e){let t=[],r=e.termsFreq.reduce((r,s)=>{let i=e.terms.find(e=>e.uid===s);return i?r=[...r,i]:t=[...t,s],r},[]).reduce((e,t)=>{let r=t.grp?t.grp:"undefined";return e[r]?e[r]=[...e[r],t]:e[r]=[t],e},{});return(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"fs-5 fw-light",children:"Frequency"}),(0,s.jsx)("div",{children:Object.keys(r).map(t=>{let i=e.termsActive.includes(t);return(0,s.jsxs)("div",{className:"mb-2",children:[(0,s.jsx)("span",{className:n()({"font-weight-bold":i}),onClick:()=>e.toggleTermActiveGrp(t),children:t}),(0,s.jsx)("div",{children:r[t].map((t,r)=>o(i,r,t.uid,t.english,e.removeFrequencyTerm))})]},t)})}),t.length>0&&(0,s.jsxs)("div",{className:"mt-5 text-break",children:[(0,s.jsx)("span",{className:"font-weight-bold",children:"Manual cleanup"}),t.map((t,r)=>o(!0,r,t,t,e.removeFrequencyTerm))]})]})}r("74288"),d.propTypes={termsActive:c().array,termsFreq:c().array,terms:c().array,removeFrequencyTerm:c().func,toggleTermActiveGrp:c().func}},51956:function(e,t,r){"use strict";r.r(t),r.d(t,{SetTermGList:function(){return o}});var s=r("17581"),i=r("91453"),l=r.n(i),n=r("6085"),a=r.n(n);r("74288");var c=r("78766");function o(e){return(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"fs-5 fw-light",children:"Groups"}),Object.keys(e.termsGroups).map(t=>{let r=e.termsActive.includes(t);return(0,s.jsxs)("div",{children:[(0,s.jsx)(c.GroupItem,{active:e.termsActive.includes(t),onClick:()=>e.toggleTermActiveGrp(t),children:t}),!r&&l()(e.termsGroups[t],e=>{let[,t]=e.split("_");return Number.isInteger(parseInt(t,10))?parseInt(t,10):e}).map(r=>(0,s.jsx)(c.GroupItem,{addlStyle:"ms-3",active:e.termsActive.includes(t+"."+r),onClick:()=>{e.toggleTermActiveGrp(t+"."+r)},children:r},`${t}.${r}`))]},t)})]})}o.propTypes={termsGroups:a().object,termsActive:a().array,toggleTermActiveGrp:a().func}}}]);
//# sourceMappingURL=748.5129731d.js.map