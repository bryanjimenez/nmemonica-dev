{"version":3,"file":"625.8acdd615.js","sources":["webpack://nmemonica/./src/components/Form/SettingsDeveloper.tsx"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { Button } from \"@mui/material\";\nimport { CheckCircleIcon, DownloadIcon, SyncIcon, UploadIcon } from \"@primer/octicons-react\";\nimport classNames from \"classnames\";\nimport { Suspense, lazy, useCallback, useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport ExtSourceInput, { ExternalSourceType, getExternalSourceType } from \"./ExtSourceInput\";\nimport { NotReady } from \"./NotReady\";\nimport SettingsSwitch from \"./SettingsSwitch\";\nimport { IDBStores, openIDB, putIDBItem } from \"../../../pwa/helper/idbHelper\";\nimport { localStorageKey } from \"../../constants/paths\";\nimport { buildAction } from \"../../helper/eventHandlerHelper\";\nimport { labelOptions } from \"../../helper/gameHelper\";\nimport { getLocalStorageSettings } from \"../../helper/localStorageHelper\";\nimport { swMessageDoHardRefresh } from \"../../helper/serviceWorkerHelper\";\n// import { useSubscribe } from \"../../hooks/useSubscribe\";\nimport { useConnectSetting } from \"../../hooks/useConnectSettings\";\nimport { debugToggled, importSettings, logger, setLastImport, setLocalDataEdited } from \"../../slices/globalSlice\";\nimport { clearKanji } from \"../../slices/kanjiSlice\";\nimport { clearOpposites } from \"../../slices/oppositeSlice\";\nimport { clearParticleGame } from \"../../slices/particleSlice\";\nimport { clearPhrases } from \"../../slices/phraseSlice\";\nimport { DebugLevel } from \"../../slices/settingHelper\";\nimport { getDatasets, importDatasets, saveSettingsLocalService, saveSheetLocalService } from \"../../slices/sheetSlice\";\nimport { clearVocabulary } from \"../../slices/vocabularySlice\";\nconst SettingsStale = /*#__PURE__*/ lazy(()=>import(\"../Form/SettingsStale\"));\nconst SettingsFailedFurigana = /*#__PURE__*/ lazy(()=>import(\"../Form/SettingsFailedFurigana\"));\nexport default function SettingsDeveloper() {\n    const dispatch = useDispatch();\n    const { cookies, debug, localServiceURL, lastImport } = useConnectSetting();\n    const [userInputError, setUserInputError] = useState(false);\n    const [userTrust, setUserTrust] = useState(false);\n    const [backedUp, setBackedUp] = useState(false);\n    const [imported, setImported] = useState(false);\n    const [importedConfig, setImportedSettings] = useState(false);\n    const [spin, setSpin] = useState(false);\n    const [hardRefreshUnavailable, setHardRefreshUnavailable] = useState(false);\n    const [loading, setLoading] = useState(false);\n    useEffect(()=>{\n        const loadingTimeout = setTimeout(()=>{\n            setLoading(true);\n        }, 500);\n        return ()=>{\n            clearTimeout(loadingTimeout);\n        };\n    }, []);\n    // const serviceAddress = useRef(localServiceURL);\n    // const { registerCB } = useSubscribe(dispatch, serviceAddress);\n    const importDatasetsCB = useCallback(()=>{\n        if (!confirm(\"User edited datasets will be overwritten\")) {\n            return;\n        }\n        const type = getExternalSourceType(localServiceURL);\n        if (type === ExternalSourceType.Unset) {\n            // FIXME: this is not possible\n            // fetch cache.json\n            void dispatch(setLocalDataEdited(false));\n        } else {\n            // don't fetch cache.json\n            void dispatch(setLocalDataEdited(true));\n        }\n        void dispatch(importDatasets()).unwrap().then((workbook)=>// store workbook in indexedDB\n            openIDB().then((db)=>putIDBItem({\n                    db,\n                    store: IDBStores.WORKBOOK\n                }, {\n                    key: \"0\",\n                    workbook\n                }))).then(()=>{\n            // clear saved data states\n            dispatch(clearVocabulary());\n            dispatch(clearPhrases());\n            dispatch(clearKanji());\n            dispatch(clearParticleGame());\n            dispatch(clearOpposites());\n            setImported(true);\n            dispatch(setLastImport(`${[\n                \"Reset\",\n                \"Local\",\n                \"GitHub\"\n            ][type]}: ${new Date().toJSON()}`));\n        });\n    }, [\n        dispatch,\n        localServiceURL\n    ]);\n    const importUserConfigCB = useCallback(()=>{\n        if (!confirm(\"User settings will be overwritten\")) {\n            return;\n        }\n        void dispatch(importSettings()).then(()=>{\n            setImportedSettings(true);\n        });\n    }, [\n        dispatch\n    ]);\n    const backUpCB = useCallback(()=>{\n        if (!confirm(\"Back up:\\n - Datasets\\n - Settings\\n\\nto local service?\")) {\n            return;\n        }\n        const settingsBakP = new Promise((resolve, reject)=>{\n            let lsSettings;\n            try {\n                lsSettings = getLocalStorageSettings(localStorageKey);\n            } catch (e) {\n                dispatch(logger(\"Failed settings backup\", DebugLevel.ERROR));\n            }\n            if (!lsSettings) {\n                resolve();\n                return;\n            }\n            saveSettingsLocalService(lsSettings, localServiceURL).then(()=>resolve).catch(()=>reject);\n        });\n        const sheetsBakP = dispatch(getDatasets()).unwrap().then((obj)=>obj.map((sheetObj)=>saveSheetLocalService(sheetObj, localServiceURL))).then((s)=>Promise.all(s));\n        void Promise.all([\n            settingsBakP,\n            sheetsBakP\n        ]).then(()=>{\n            setBackedUp(true);\n        });\n    }, [\n        dispatch,\n        localServiceURL\n    ]);\n    const onChangeInputCB = useCallback((valid)=>{\n        setUserInputError(valid);\n    }, []);\n    const onChangeTrustCB = useCallback((trust)=>{\n        setUserTrust(trust);\n        if (trust !== true) {\n            setImported(null);\n            setBackedUp(null);\n        }\n    }, []);\n    return /*#__PURE__*/ _jsxs(\"div\", {\n        children: [\n            /*#__PURE__*/ _jsx(\"h3\", {\n                className: \"mt-3 mb-1\"\n            }),\n            /*#__PURE__*/ _jsxs(\"div\", {\n                className: \"d-flex flex-row justify-content-between\",\n                children: [\n                    /*#__PURE__*/ _jsx(\"div\", {\n                        className: \"column-1 mb-2 me-sm-2\"\n                    }),\n                    /*#__PURE__*/ _jsx(\"div\", {\n                        className: \"column-2\",\n                        children: /*#__PURE__*/ _jsxs(\"div\", {\n                            className: \"ps-2 d-flex flex-column align-items-end\",\n                            children: [\n                                /*#__PURE__*/ _jsx(\"div\", {\n                                    className: \"setting-block mb-2\",\n                                    children: /*#__PURE__*/ _jsx(SettingsSwitch, {\n                                        disabled: !cookies,\n                                        active: debug > DebugLevel.OFF,\n                                        action: buildAction(dispatch, debugToggled),\n                                        color: \"default\",\n                                        statusText: labelOptions(debug, [\n                                            \"Debug\",\n                                            \"Debug Error\",\n                                            \"Debug Warn\",\n                                            \"Debug\"\n                                        ])\n                                    })\n                                }),\n                                /*#__PURE__*/ _jsxs(\"div\", {\n                                    className: classNames({\n                                        \"d-flex justify-content-end mb-2\": true,\n                                        \"disabled-color\": hardRefreshUnavailable\n                                    }),\n                                    children: [\n                                        /*#__PURE__*/ _jsx(\"p\", {\n                                            id: \"hard-refresh\",\n                                            className: classNames({\n                                                \"text-right\": true,\n                                                \"disabled-color\": !cookies\n                                            }),\n                                            children: \"Hard Refresh\"\n                                        }),\n                                        /*#__PURE__*/ _jsx(\"div\", {\n                                            className: classNames({\n                                                \"spin-a-bit\": spin,\n                                                \"disabled-color\": !cookies,\n                                                clickable: cookies\n                                            }),\n                                            style: {\n                                                height: \"24px\"\n                                            },\n                                            \"aria-labelledby\": \"hard-refresh\",\n                                            onClick: cookies ? ()=>{\n                                                setSpin(true);\n                                                setHardRefreshUnavailable(false);\n                                                setTimeout(()=>{\n                                                    if (spin) {\n                                                        setSpin(false);\n                                                        setHardRefreshUnavailable(true);\n                                                    }\n                                                }, 3000);\n                                                void swMessageDoHardRefresh();\n                                            } : undefined,\n                                            children: /*#__PURE__*/ _jsx(SyncIcon, {\n                                                size: 24,\n                                                \"aria-label\": \"Hard Refresh\"\n                                            })\n                                        })\n                                    ]\n                                }),\n                                \" \"\n                            ]\n                        })\n                    })\n                ]\n            }),\n            /*#__PURE__*/ _jsx(\"h3\", {\n                className: \"mt-3 mb-1 fw-light\",\n                children: \"External Data Source\"\n            }),\n            /*#__PURE__*/ _jsxs(\"div\", {\n                className: \"d-flex flex-column flex-sm-row justify-content-between\",\n                children: [\n                    /*#__PURE__*/ _jsx(\"div\", {\n                        className: \"column-1 mb-2 me-sm-2\",\n                        children: /*#__PURE__*/ _jsx(\"div\", {\n                            className: \"mt-2 mb-2\",\n                            children: [\n                                /*#__PURE__*/ _jsx(\"div\", {\n                                    children: \"Recent import history:\"\n                                }, \"label\"),\n                                ...lastImport.map((i)=>/*#__PURE__*/ _jsx(\"div\", {\n                                        className: \"pt-1\",\n                                        children: i\n                                    }, i))\n                            ]\n                        })\n                    }),\n                    /*#__PURE__*/ _jsxs(\"div\", {\n                        className: \"column-2\",\n                        children: [\n                            /*#__PURE__*/ _jsx(\"div\", {\n                                className: \"mb-2\",\n                                children: /*#__PURE__*/ _jsx(ExtSourceInput, {\n                                    onChangeInput: onChangeInputCB,\n                                    onChangeTrust: onChangeTrustCB\n                                })\n                            }),\n                            /*#__PURE__*/ _jsxs(\"div\", {\n                                className: \"d-flex justify-content-center\",\n                                children: [\n                                    /*#__PURE__*/ _jsx(\"div\", {\n                                        className: \"px-1\",\n                                        children: /*#__PURE__*/ _jsxs(Button, {\n                                            \"aria-label\": \"Import Datasets\",\n                                            variant: \"outlined\",\n                                            size: \"small\",\n                                            disabled: userInputError || localServiceURL === \"\" || userTrust !== true || imported === true,\n                                            onClick: importDatasetsCB,\n                                            children: [\n                                                imported === true ? /*#__PURE__*/ _jsx(CheckCircleIcon, {\n                                                    size: \"small\",\n                                                    className: \"pe-1\"\n                                                }) : /*#__PURE__*/ _jsx(DownloadIcon, {\n                                                    size: \"small\",\n                                                    className: \"pe-1\"\n                                                }),\n                                                \"Datasets\"\n                                            ]\n                                        })\n                                    }),\n                                    /*#__PURE__*/ _jsx(\"div\", {\n                                        className: \"px-1\",\n                                        children: /*#__PURE__*/ _jsxs(Button, {\n                                            \"aria-label\": \"Import User Configuration\",\n                                            variant: \"outlined\",\n                                            size: \"small\",\n                                            disabled: getExternalSourceType(localServiceURL) !== ExternalSourceType.LocalService || userInputError || localServiceURL === \"\" || userTrust !== true || importedConfig === true,\n                                            onClick: importUserConfigCB,\n                                            children: [\n                                                importedConfig === true ? /*#__PURE__*/ _jsx(CheckCircleIcon, {\n                                                    size: \"small\",\n                                                    className: \"pe-1\"\n                                                }) : /*#__PURE__*/ _jsx(DownloadIcon, {\n                                                    size: \"small\",\n                                                    className: \"pe-1\"\n                                                }),\n                                                \"Config\"\n                                            ]\n                                        })\n                                    }),\n                                    /*#__PURE__*/ _jsx(\"div\", {\n                                        className: \"px-1\",\n                                        children: /*#__PURE__*/ _jsxs(Button, {\n                                            \"aria-label\": \"Backup Datasets\",\n                                            variant: \"outlined\",\n                                            size: \"small\",\n                                            disabled: getExternalSourceType(localServiceURL) !== ExternalSourceType.LocalService || userInputError || localServiceURL === \"\" || userTrust !== true || backedUp === true,\n                                            onClick: backUpCB,\n                                            children: [\n                                                backedUp === true ? /*#__PURE__*/ _jsx(CheckCircleIcon, {\n                                                    size: \"small\",\n                                                    className: \"pe-1\"\n                                                }) : /*#__PURE__*/ _jsx(UploadIcon, {\n                                                    size: \"small\",\n                                                    className: \"pe-1\"\n                                                }),\n                                                \"Backup\"\n                                            ]\n                                        })\n                                    })\n                                ]\n                            })\n                        ]\n                    })\n                ]\n            }),\n            /*#__PURE__*/ _jsx(\"div\", {\n                className: \"mt-4\",\n                children: !loading ? /*#__PURE__*/ _jsx(NotReady, {\n                    text: \"Loading failed details ...\"\n                }) : /*#__PURE__*/ _jsxs(_Fragment, {\n                    children: [\n                        /*#__PURE__*/ _jsx(Suspense, {\n                            fallback: /*#__PURE__*/ _jsx(NotReady, {\n                                addlStyle: \"failed-spacerep-view\"\n                            }),\n                            children: /*#__PURE__*/ _jsx(SettingsStale, {})\n                        }),\n                        /*#__PURE__*/ _jsx(Suspense, {\n                            fallback: /*#__PURE__*/ _jsx(NotReady, {\n                                addlStyle: \"failed-furigana-view\"\n                            }),\n                            children: /*#__PURE__*/ _jsx(SettingsFailedFurigana, {})\n                        })\n                    ]\n                })\n            })\n        ]\n    });\n}\n"],"names":["SettingsStale","lazy","SettingsFailedFurigana","SettingsDeveloper","dispatch","useDispatch","cookies","debug","localServiceURL","lastImport","useConnectSetting","userInputError","setUserInputError","useState","userTrust","setUserTrust","backedUp","setBackedUp","imported","setImported","importedConfig","setImportedSettings","spin","setSpin","hardRefreshUnavailable","setHardRefreshUnavailable","loading","setLoading","useEffect","loadingTimeout","setTimeout","clearTimeout","importDatasetsCB","useCallback","confirm","type","getExternalSourceType","ExternalSourceType","setLocalDataEdited","importDatasets","unwrap","then","workbook","openIDB","db","putIDBItem","store","IDBStores","key","clearVocabulary","clearPhrases","clearKanji","clearParticleGame","clearOpposites","setLastImport","Date","toJSON","importUserConfigCB","importSettings","backUpCB","settingsBakP","Promise","resolve","reject","lsSettings","getLocalStorageSettings","localStorageKey","e","logger","DebugLevel","saveSettingsLocalService","catch","all","getDatasets","obj","map","sheetObj","saveSheetLocalService","s","onChangeInputCB","valid","onChangeTrustCB","trust","children","className","disabled","active","action","buildAction","debugToggled","color","statusText","labelOptions","id","clickable","style","height","onClick","swMessageDoHardRefresh","undefined","SyncIcon","size","i","onChangeInput","onChangeTrust","Button","variant","CheckCircleIcon","DownloadIcon","UploadIcon","Suspense","fallback","NotReady","addlStyle","text"],"mappings":"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"}