(self.webpackChunknmemonica=self.webpackChunknmemonica||[]).push([["125"],{33424:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var n=s("10327"),r=s("83169"),l=s("42565"),d=s("83117"),c=s("58800"),i=s("93197"),a=s("80161");let u=(0,r.lazy)(()=>s.el("39679").then(s.bind(s,"39679"))),h=(0,r.lazy)(()=>s.el("28720").then(s.bind(s,"28720")));function o(){let{repetition:e}=(0,i.useConnectPhrase)(),{repetition:t}=(0,a.useConnectVocabulary)(),{repetition:s}=(0,c.useConnectKanji)(),{phraseC:o,vocabC:x,kanjiC:j,phraseR:m,vocabR:g,kanjiR:f,phraseQ:p,vocabQ:N,kanjiQ:b,phraseD:w,vocabD:v,kanjiD:y}=(0,r.useMemo)(()=>({phraseC:(0,d.getLastViewCounts)(e,5),vocabC:(0,d.getLastViewCounts)(t,5),kanjiC:(0,d.getLastViewCounts)(s,5),phraseR:(0,d.getRecallCounts)(e),vocabR:(0,d.getRecallCounts)(t),kanjiR:(0,d.getRecallCounts)(s),phraseQ:(0,d.getStalenessCounts)(e),vocabQ:(0,d.getStalenessCounts)(t),kanjiQ:(0,d.getStalenessCounts)(s),phraseD:(0,d.getDifficultyCounts)(e),vocabD:(0,d.getDifficultyCounts)(t),kanjiD:(0,d.getDifficultyCounts)(s)}),[e,t,s]),S=o.map((e,t)=>new Date(Date.now()-864e5*t).toLocaleString("en-us",{weekday:"short"})),q=(0,n.jsxs)("div",{className:"outer",children:[(0,n.jsxs)("div",{className:"d-flex flex-column flex-sm-row justify-content-between",children:[(0,n.jsx)("div",{className:"column-1 text-end",children:(0,n.jsxs)("table",{className:"w-50",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Recall"}),(0,n.jsx)("td",{className:"p-1",children:"(0,1)"}),(0,n.jsx)("td",{className:"p-1",children:"[1,2)"}),(0,n.jsx)("td",{className:"p-1",children:"2.0"}),(0,n.jsx)("td",{className:"p-1",children:"-1"})]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Phrases:"}),(0,n.jsx)("td",{children:m.pending}),(0,n.jsx)("td",{children:m.due}),(0,n.jsx)("td",{children:m.overdue}),(0,n.jsx)("td",{children:m.wrong})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Vocabulary:"}),(0,n.jsx)("td",{children:g.pending}),(0,n.jsx)("td",{children:g.due}),(0,n.jsx)("td",{children:g.overdue}),(0,n.jsx)("td",{children:g.wrong})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Kanji:"}),(0,n.jsx)("td",{children:f.pending}),(0,n.jsx)("td",{children:f.due}),(0,n.jsx)("td",{children:f.overdue}),(0,n.jsx)("td",{children:f.wrong})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{}),(0,n.jsx)("td",{children:m.pending+g.pending+f.pending}),(0,n.jsx)("td",{children:m.due+g.due+f.due}),(0,n.jsx)("td",{children:m.overdue+g.overdue+f.overdue}),(0,n.jsx)("td",{children:m.wrong+g.wrong+f.wrong})]})]})]})}),(0,n.jsx)("div",{className:"column-2 setting-block",children:(0,n.jsx)("div",{className:"mb-2",children:(0,n.jsxs)("table",{className:"w-50",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Viewed"}),S.map((e,t)=>(0,n.jsx)("td",{className:"p-1",children:0===t?"Today":e},`${t.toString()} ${e}`))]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Phrases:"}),o.map((e,t)=>(0,n.jsx)("td",{children:e},`${t.toString()} ${e}`))]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Vocabulary:"}),x.map((e,t)=>(0,n.jsx)("td",{children:e},`${t.toString()} ${e}`))]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Kanji:"}),j.map((e,t)=>(0,n.jsx)("td",{children:e},`${t.toString()} ${e}`))]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{}),o.map((e,t)=>(0,n.jsx)("td",{children:(o[t]??0)+(x[t]??0)+(j[t]??0)},`total-${S[t]}-${t.toString()}`))]})]})]})})})]}),(0,n.jsxs)("div",{className:"d-flex flex-column flex-sm-row justify-content-between mb-2",children:[(0,n.jsx)("div",{className:"column-1 text-end",children:(0,n.jsxs)("table",{className:"w-50",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"lastView"}),(0,n.jsx)("td",{className:"p-1",children:"new"}),(0,n.jsx)("td",{className:"p-1",children:"mean"}),(0,n.jsx)("td",{className:"p-1",children:"q0"}),(0,n.jsx)("td",{className:"p-1",children:"q1"}),(0,n.jsx)("td",{className:"p-1",children:"q2"}),(0,n.jsx)("td",{className:"p-1",children:"q3"}),(0,n.jsx)("td",{className:"p-1",children:"q4"})]})}),(0,n.jsxs)("tbody",{children:[p.range>0&&(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Phrases:"}),(0,n.jsx)("td",{children:p.unPlayed}),(0,n.jsx)("td",{children:p.mean.toFixed(1)}),(0,n.jsx)("td",{children:p.min}),(0,n.jsx)("td",{children:p.q1}),(0,n.jsx)("td",{children:p.q2}),(0,n.jsx)("td",{children:p.q3}),(0,n.jsx)("td",{children:p.max})]}),N.range>0&&(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Vocabulary:"}),(0,n.jsx)("td",{children:N.unPlayed}),(0,n.jsx)("td",{children:N.mean.toFixed(1)}),(0,n.jsx)("td",{children:N.min}),(0,n.jsx)("td",{children:N.q1}),(0,n.jsx)("td",{children:N.q2}),(0,n.jsx)("td",{children:N.q3}),(0,n.jsx)("td",{children:N.max})]}),b.range>0&&(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Kanji:"}),(0,n.jsx)("td",{children:b.unPlayed}),(0,n.jsx)("td",{children:b.mean.toFixed(1)}),(0,n.jsx)("td",{children:b.min}),(0,n.jsx)("td",{children:b.q1}),(0,n.jsx)("td",{children:b.q2}),(0,n.jsx)("td",{children:b.q3}),(0,n.jsx)("td",{children:b.max})]})]})]})}),(0,n.jsx)("div",{className:"column-2 setting-block"})]}),(0,n.jsxs)("div",{className:"d-flex flex-column flex-sm-row justify-content-between mb-2",children:[(0,n.jsx)("div",{className:"column-1 text-end",children:(0,n.jsxs)("table",{className:"w-50",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"difficultyP"}),(0,n.jsx)("td",{className:"p-1",children:"0"}),(0,n.jsx)("td",{className:"p-1",children:"11"}),(0,n.jsx)("td",{className:"p-1",children:"21"}),(0,n.jsx)("td",{className:"p-1",children:"31"}),(0,n.jsx)("td",{className:"p-1",children:"41"}),(0,n.jsx)("td",{className:"p-1",children:"51"}),(0,n.jsx)("td",{className:"p-1",children:"61"}),(0,n.jsx)("td",{className:"p-1",children:"71"}),(0,n.jsx)("td",{className:"p-1",children:"81"}),(0,n.jsx)("td",{className:"p-1",children:"91"})]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Phrases:"}),w.map((e,t)=>(0,n.jsx)("td",{children:e},`${t.toString()} ${e}`))]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Vocabulary:"}),v.map((e,t)=>(0,n.jsx)("td",{children:e},`${t.toString()} ${e}`))]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:"Kanji:"}),y.map((e,t)=>(0,n.jsx)("td",{children:e},`${t.toString()} ${e}`))]})]})]})}),(0,n.jsx)("div",{className:"column-2 setting-block"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(r.Suspense,{fallback:(0,n.jsx)(l.NotReady,{addlStyle:"failed-spacerep-view"}),children:(0,n.jsx)(u,{})}),(0,n.jsx)(r.Suspense,{fallback:(0,n.jsx)(l.NotReady,{addlStyle:"failed-furigana-view"}),children:(0,n.jsx)(h,{})})]})]});return q}},83117:function(e,t,s){"use strict";s.r(t),s.d(t,{getLastViewCounts:function(){return l},getRecallCounts:function(){return d},getStalenessCounts:function(){return c},getDifficultyCounts:function(){return i}});var n=s("80325"),r=s("35237");function l(e,t){let s=Object.keys(e).map(t=>{let s=e[t]?.lastView;return void 0===s?-1:(0,n.daysSince)(s)}),r=Array(t);return r.fill(0),s.forEach(e=>{e>-1&&e<t&&(r[e]=r[e]?r[e]+1:1)}),r}function d(e){let t={wrong:0,overdue:0,due:0,pending:0,unPlayed:0,values:[]},s=Object.keys(e).map(s=>{let{lastView:l,lastReview:d,accuracyP:c,daysBetweenReviews:i}=e[s]??{},a=!!l&&0===(0,n.daysSince)(l),u=!!d&&0===(0,n.daysSince)(d);if(!d||u||a||"number"!=typeof c)return u?0:(t.unPlayed=t.unPlayed+1,-1);{let e=(0,n.daysSince)(d),s=(0,r.getPercentOverdue)({accuracy:c/100,daysBetweenReviews:i,daysSinceReview:e});return c<100*r.SR_CORRECT_TRESHHOLD?t.wrong+=1:2===s?t.overdue+=1:s>=1?t.due+=1:s>0&&(t.pending+=1),s}});return{...t,value:s}}function c(e){let t={range:0,unPlayed:0,min:Number.MAX_SAFE_INTEGER,max:-1,mean:Number.NaN,q1:Number.NaN,q2:Number.NaN,q3:Number.NaN},s=0,r=Object.keys(e).reduce((r,l)=>{let d=e[l]?.lastView;if(void 0===d)t.unPlayed+=1;else{let e=(0,n.daysSince)(d);return t.min=t.min>e?e:t.min,t.max=t.max<e?e:t.max,s+=e,[...r,e]}return r},[]),l=[...r].sort((e,t)=>e-t);return t.range=r.length,t.mean=s/r.length,t.q1=l[Math.round(.25*r.length)-1],t.q3=l[Math.round(.75*r.length)-1],r.length%2==0?t.q2=(l[Math.round(.5*r.length)-1]+l[Math.round(.5*r.length)])/2:t.q2=l[Math.round(.5*r.length)-1],t}function i(e){let t=Array(10);return t.fill(0),Object.keys(e).map(s=>{let n=e[s]?.difficultyP;if(void 0===n)return -1;{let e=n/10-1;return t[e]=t[e]+1,n}}),t}},58800:function(e,t,s){"use strict";s.r(t),s.d(t,{useConnectKanji:function(){return l}});var n=s("83169"),r=s("40432");function l(){let e=(0,r.useSelector)(({global:e})=>e.swipeThreshold),{value:t}=(0,r.useSelector)(({kanji:e})=>e,(e,t)=>e.version===t.version),s=(0,r.useSelector)(({kanji:e})=>e.tagObj,r.shallowEqual),{repetition:l}=(0,r.useSelector)(({kanji:e})=>e.setting,(e,t)=>e.repTID===t.repTID),[d,c,i,a,u,h,o,x,j]=(0,r.useSelector)(({kanji:e})=>{let{reinforce:t,filter:s,ordered:n,difficultyThreshold:r,choiceN:l,fadeInAnswers:d,spaRepMaxReviewItem:c,includeNew:i,includeReviewed:a}=e.setting;return[t,s,n,r,l,d,c,i,a]},r.shallowEqual),m=(0,r.useSelector)(({kanji:e})=>{let{activeTags:t}=e.setting;return t},r.shallowEqual),g=(0,n.useRef)(d);g.current=d;let f=(0,n.useRef)(c);f.current=c;let p=(0,n.useRef)(i);return p.current=i,{repetition:l,swipeThreshold:e,difficultyThreshold:a,kanjiList:t,kanjiTagObj:s,activeTags:m,choiceN:u,fadeInAnswers:h,spaRepMaxReviewItem:o,includeNew:x,includeReviewed:j,reinforce:g,filterType:f,orderType:p}}},93197:function(e,t,s){"use strict";s.r(t),s.d(t,{useConnectPhrase:function(){return l}});var n=s("83169"),r=s("40432");function l(){let[e,t,s]=(0,r.useSelector)(({global:e})=>[e.debug,e.motionThreshold,e.swipeThreshold],r.shallowEqual),{value:l,grpObj:d}=(0,r.useSelector)(({phrases:e})=>e,(e,t)=>e.version===t.version),{repetition:c}=(0,r.useSelector)(({phrases:e})=>e.setting,(e,t)=>e.repTID===t.repTID),[i,a,u]=(0,r.useSelector)(({phrases:e})=>{let{englishSideUp:t,includeNew:s,includeReviewed:n}=e.setting;return[t,s,n]},r.shallowEqual),[h,o,x,j,m,g]=(0,r.useSelector)(({phrases:e})=>{let{reinforce:t,filter:s,ordered:n,romaji:r,difficultyThreshold:l,spaRepMaxReviewItem:d}=e.setting;return[t,s,n,r,l,d]},r.shallowEqual),f=(0,r.useSelector)(({phrases:e})=>{let{activeGroup:t}=e.setting;return t},r.shallowEqual),p=(0,n.useRef)(h);p.current=h;let N=(0,n.useRef)(o);N.current=o;let b=(0,n.useRef)(x);b.current=x;let w=(0,n.useRef)(j);return w.current=j,{englishSideUp:i,repetition:c,difficultyThreshold:m,debugLevel:e,motionThreshold:t,swipeThreshold:s,phraseList:l,phraseGroups:d,activeGroup:f,spaRepMaxReviewItem:g,includeNew:a,includeReviewed:u,reinforce:p,romajiActive:w,filterType:N,sortMethod:b}}},80161:function(e,t,s){"use strict";s.r(t),s.d(t,{useConnectVocabulary:function(){return l}});var n=s("83169"),r=s("40432");function l(){let[e,t,s]=(0,r.useSelector)(({global:e})=>[e.debug,e.swipeThreshold,e.motionThreshold],r.shallowEqual),{value:l,grpObj:d}=(0,r.useSelector)(({vocabulary:e})=>e,(e,t)=>e.version===t.version),{repetition:c}=(0,r.useSelector)(({vocabulary:e})=>e.setting,(e,t)=>e.repTID===t.repTID),[i,a,u,h,o,x]=(0,r.useSelector)(({vocabulary:e})=>{let{englishSideUp:t,autoVerbView:s,spaRepMaxReviewItem:n,includeNew:r,includeReviewed:l}=e.setting,{verbForm:d}=e;return[t,s,d,n,r,l]},r.shallowEqual),[j,m,g,f,p,N,b,w]=(0,r.useSelector)(({vocabulary:e})=>{let{difficultyThreshold:t,reinforce:s,filter:n,hintEnabled:r,romaji:l,bareKanji:d,verbColSplit:c,ordered:i}=e.setting;return[t,s,n,r,l,d,c,i]},r.shallowEqual),v=(0,r.useSelector)(({vocabulary:e})=>{let{verbFormsOrder:t}=e.setting;return t},r.shallowEqual),y=(0,r.useSelector)(({vocabulary:e})=>{let{activeGroup:t}=e.setting;return t},r.shallowEqual),S=(0,n.useRef)(m);S.current=m;let q=(0,n.useRef)(g);q.current=g;let C=(0,n.useRef)(f);C.current=f;let R=(0,n.useRef)(w);return R.current=w,{englishSideUp:i,autoVerbView:a,verbForm:u,repetition:c,difficultyThreshold:j,debugLevel:e,swipeThreshold:t,motionThreshold:s,vocabList:l,vocabGroups:d,romajiEnabled:p,bareKanji:N,verbFormsOrder:v,verbColSplit:b,activeGroup:y,spaRepMaxReviewItem:h,includeNew:o,includeReviewed:x,reinforce:S,hintEnabled:C,filterType:q,sortMethod:R}}}}]);