{"version":3,"file":"576.c6f79d68.js","sources":["webpack://nmemonica/./src/components/Form/PlusMinus.tsx?46a9","webpack://nmemonica/./src/components/Form/SettingsKanji.tsx","webpack://nmemonica/./src/components/Form/SimpleListMenu.tsx?4125*","webpack://nmemonica/./src/components/Form/ThresholdFilterSlider.tsx?399e","webpack://nmemonica/./src/components/Pages/SetTermGFList.tsx?c862"],"sourcesContent":["import classNames from \"classnames\";\nimport PropTypes from \"prop-types\";\n\ninterface PlusMinusProps {\n  label: string;\n  value: number;\n  onChange: (value: number) => void;\n}\n\nexport default function PlusMinus(props: PlusMinusProps) {\n  const { label, value } = props;\n\n  return (\n    <div\n      className={classNames({\n        \"mb-3 d-flex flex-row justify-content-end\": true,\n      })}\n    >\n      <div>{label}</div>\n      <div\n        className=\"clickable px-2\"\n        onClick={() => {\n          props.onChange(value - 1);\n        }}\n      >\n        -\n      </div>\n      <div\n        className={classNames({\n          \"px-2\": true,\n        })}\n      >\n        {value}\n      </div>\n      <div\n        className=\"clickable px-2\"\n        onClick={() => {\n          props.onChange(value + 1);\n        }}\n      >\n        +\n      </div>\n    </div>\n  );\n}\n\nPlusMinus.propTypes = {\n  value: PropTypes.number,\n};\n","import { useDispatch } from \"react-redux\";\n\nimport { NotReady } from \"./NotReady\";\nimport PlusMinus from \"./PlusMinus\";\nimport SettingsSwitch from \"./SettingsSwitch\";\nimport SimpleListMenu from \"./SimpleListMenu\";\nimport { ThresholdFilterSlider } from \"./ThresholdFilterSlider\";\nimport { buildAction } from \"../../helper/eventHandlerHelper\";\nimport { labelOptions } from \"../../helper/gameHelper\";\nimport { useConnectKanji } from \"../../hooks/useConnectKanji\";\nimport { useConnectVocabulary } from \"../../hooks/useConnectVocabulary\";\nimport type { AppDispatch } from \"../../slices\";\nimport {\n  getKanji,\n  removeFrequencyKanji,\n  setMemorizedThreshold,\n  setSpaRepMaxItemReview,\n  toggleIncludeNew,\n  toggleIncludeReviewed,\n  toggleKanjiActiveGrp,\n  toggleKanjiActiveTag,\n  toggleKanjiFilter,\n  toggleKanjiOrdering,\n  toggleKanjiReinforcement,\n} from \"../../slices/kanjiSlice\";\nimport {\n  TermFilterBy,\n  TermSortBy,\n  TermSortByLabel,\n} from \"../../slices/settingHelper\";\nimport { getVocabulary } from \"../../slices/vocabularySlice\";\nimport { SetTermGFList } from \"../Pages/SetTermGFList\";\nimport { SetTermTagList } from \"../Pages/SetTermTagList\";\n\nexport default function SettingsKanji() {\n  const dispatch = useDispatch<AppDispatch>();\n\n  const { vocabList: vocabulary } = useConnectVocabulary();\n  const {\n    filterType: kanjiFilterREF,\n    orderType: kanjiOrderREF,\n    difficultyThreshold,\n    reinforce: kanjiReinforce,\n    activeTags: kanjiActive,\n    kanjiList: kanji,\n    repetition: kRepetition,\n    kanjiTagObj: kanjiTags,\n    spaRepMaxReviewItem,\n    includeNew,\n    includeReviewed,\n  } = useConnectKanji();\n\n  const kanjiFilter = kanjiFilterREF.current;\n  const kanjiOrder = kanjiOrderREF.current;\n\n  if (vocabulary.length === 0) {\n    void dispatch(getVocabulary());\n  }\n\n  if (Object.keys(kanjiTags).length === 0) {\n    void dispatch(getKanji());\n  }\n\n  if (kanji.length < 1 || Object.keys(kanjiTags).length < 1)\n    return <NotReady addlStyle=\"vocabulary-settings\" />;\n\n  const kanjiSelectedTags = Object.values(kanji).filter((k) =>\n    k.tags.some((aTag: string) => kanjiActive.includes(aTag))\n  );\n  const kanjiSelectedUids = kanjiSelectedTags.map((k) => k.uid);\n\n  const kanjiFreq = Object.keys(kRepetition).filter(\n    (k) => kRepetition[k]?.rein === true\n  );\n\n  // kanjis in frequency list, but outside of current tag selection\n  const kFreqExcluTagSelected = kanjiFreq.filter(\n    (k) => !kanjiSelectedUids.includes(k)\n  );\n\n  const el = (\n    <div className=\"outer\">\n      <div className=\"d-flex flex-row justify-content-between\">\n        <div className=\"column-1\">\n          <span className=\"fs-5 fw-light\">\n            {labelOptions(kanjiFilter, [\n              \"Kanji Group\",\n              \"Frequency List\",\n              \"Tags\",\n            ])}\n          </span>\n          <div className=\"mb-2\">\n            <SettingsSwitch\n              active={kanjiFilter % 2 === 0}\n              action={buildAction(dispatch, toggleKanjiFilter)}\n              color=\"default\"\n              statusText={\"Filter by\"}\n            />\n          </div>\n          {kanjiFilter === TermFilterBy.FREQUENCY && kanjiFreq.length === 0 && (\n            <div className=\"fst-italic\">No words have been chosen</div>\n          )}\n          {kanjiFilter === TermFilterBy.TAGS && (\n            <SetTermTagList\n              selectedCount={\n                kanjiSelectedTags.length === 0\n                  ? Object.values(kanji).length\n                  : kanjiSelectedTags.length\n              }\n              termsTags={kanjiTags}\n              termsActive={kanjiActive}\n              toggleTermActive={buildAction(dispatch, toggleKanjiActiveTag)}\n            />\n          )}\n          {kanjiFilter === TermFilterBy.FREQUENCY && kanjiFreq.length > 0 && (\n            <SetTermGFList\n              termsActive={kanjiActive}\n              termsFreq={kanjiFreq}\n              terms={kanji}\n              removeFrequencyTerm={buildAction(dispatch, removeFrequencyKanji)}\n              toggleTermActiveGrp={buildAction(dispatch, toggleKanjiActiveGrp)}\n            />\n          )}\n        </div>\n        <div className=\"column-2 setting-block\">\n          <div className=\"mb-2\">\n            <SimpleListMenu\n              title={\"Sort by:\"}\n              options={TermSortByLabel}\n              allowed={[\n                TermSortBy.DIFFICULTY,\n                TermSortBy.RANDOM,\n                TermSortBy.VIEW_DATE,\n                TermSortBy.RECALL,\n              ]}\n              initial={kanjiOrder}\n              onChange={(index) => {\n                if (TermSortBy.RECALL === index) {\n                  dispatch(toggleKanjiReinforcement(false));\n                }\n                return buildAction(dispatch, toggleKanjiOrdering)(index);\n              }}\n            />\n          </div>\n          {kanjiOrder === TermSortBy.RECALL && (\n            <PlusMinus\n              label=\"Max review items \"\n              value={spaRepMaxReviewItem}\n              onChange={(value: number) => {\n                dispatch(setSpaRepMaxItemReview(value));\n              }}\n            />\n          )}\n          <div className=\"d-flex justify-content-end\">\n            <ThresholdFilterSlider\n              threshold={difficultyThreshold}\n              setThreshold={buildAction(dispatch, setMemorizedThreshold)}\n            />\n          </div>\n          {kanjiOrder === TermSortBy.VIEW_DATE && (\n            <>\n              <div className=\"mb-2\">\n                <SettingsSwitch\n                  active={includeNew}\n                  action={buildAction(dispatch, toggleIncludeNew)}\n                  statusText=\"Staleness +New\"\n                />\n              </div>\n              <div className=\"mb-2\">\n                <SettingsSwitch\n                  active={includeReviewed}\n                  action={buildAction(dispatch, toggleIncludeReviewed)}\n                  statusText=\"Staleness +Reviewed\"\n                />\n              </div>\n            </>\n          )}\n          <div className=\"mb-2\">\n            <SettingsSwitch\n              active={kanjiReinforce.current}\n              action={buildAction(dispatch, toggleKanjiReinforcement)}\n              disabled={\n                kanjiFilter === TermFilterBy.FREQUENCY ||\n                kanjiOrder === TermSortBy.RECALL\n              }\n              statusText={\n                (kanjiReinforce ? `(+${kFreqExcluTagSelected.length} ) ` : \"\") +\n                \"Reinforcement\"\n              }\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  return el;\n}\n","import {\n  IconButton,\n  List,\n  ListItemButton,\n  ListItemText,\n  Menu,\n  MenuItem,\n} from \"@mui/material\";\nimport { KebabHorizontalIcon } from \"@primer/octicons-react\";\nimport classNames from \"classnames\";\nimport PropTypes from \"prop-types\";\nimport React, { useEffect, useRef, useState } from \"react\";\n\ninterface SimpleListMenuProps {\n  /** Whether menu is interdisabled */\n  disabled?: boolean; //\n  /** Whether elipsis and options are horizontally reversed */\n  flip?: boolean;\n  title: string;\n  options: string[];\n  allowed?: number[];\n  initial: number;\n  onChange: (index: number) => void;\n}\n\nexport default function SimpleListMenu(props: SimpleListMenuProps) {\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n  const [selectedIndex, setSelectedIndex] = useState(props.initial);\n\n  const optionsRef = useRef(props.options);\n  const allowedRef = useRef(props.allowed ?? props.options.map((o, i) => i));\n  const options = optionsRef.current;\n  const allowed = allowedRef.current;\n\n  useEffect(() => {\n    setSelectedIndex(props.initial);\n  }, [props.initial]);\n\n  const open = Boolean(anchorEl);\n  const handleClickListItem = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuItemClick = (\n    event: React.MouseEvent<HTMLElement>,\n    index: number\n  ) => {\n    setSelectedIndex(index);\n    setAnchorEl(null);\n    props.onChange(index);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div\n      className={classNames({\n        clickable: props.disabled !== true,\n        \"d-flex\": true,\n        \"flex-row-reverse\": props.flip === true ? true : undefined,\n        \"justify-content-end\": true,\n      })}\n    >\n      <List component=\"nav\" disablePadding={true}>\n        <ListItemButton\n          disableGutters={true}\n          disabled={props.disabled === true}\n          id=\"filter-button\"\n          aria-haspopup=\"listbox\"\n          aria-controls=\"filter-menu\"\n          aria-expanded={open ? \"true\" : undefined}\n          onClick={handleClickListItem}\n        >\n          <ListItemText\n            primary={props.title}\n            secondary={options[selectedIndex]}\n            secondaryTypographyProps={{ color: \"unset\" }}\n          />\n        </ListItemButton>\n      </List>\n      <Menu\n        id=\"filter-menu\"\n        anchorEl={anchorEl}\n        open={open}\n        onClose={handleClose}\n        MenuListProps={{\n          \"aria-labelledby\": \"filter-button\",\n          role: \"listbox\",\n        }}\n      >\n        {options.map((option, index) => (\n          <MenuItem\n            key={option}\n            // disabled={index === 0}\n            selected={index === selectedIndex}\n            onClick={(event) => {\n              if (allowed.includes(index)) handleMenuItemClick(event, index);\n            }}\n          >\n            {allowed.includes(index) ? (\n              option\n            ) : (\n              <span className=\"disabled-color\">{option}</span>\n            )}\n          </MenuItem>\n        ))}\n      </Menu>\n\n      <IconButton\n        aria-labelledby=\"filter-button\"\n        sx={{ color: \"unset\", minWidth: \"55px\" }}\n        aria-haspopup=\"listbox\"\n        disabled={props.disabled === true}\n        onClick={handleClickListItem}\n      >\n        <KebabHorizontalIcon\n          size=\"medium\"\n          className={classNames({\n            \"rotate-transition\": true,\n            \"rotate-90\": open,\n          })}\n        />\n      </IconButton>\n    </div>\n  );\n}\n\nSimpleListMenu.propTypes = {\n  disabled: PropTypes.bool,\n  flip: PropTypes.bool,\n  title: PropTypes.string,\n  options: PropTypes.arrayOf(PropTypes.string),\n  initial: PropTypes.number,\n  onChange: PropTypes.func,\n};\n","import { Slider } from \"@mui/material\";\nimport { SortAscIcon, SortDescIcon } from \"@primer/octicons-react\";\nimport PropTypes from \"prop-types\";\nimport { useCallback, useState } from \"react\";\n\nimport { heatMap } from \"../../helper/colorHelper\";\nimport { DIFFICULTY_THRLD, MEMORIZED_THRLD } from \"../../helper/sortHelper\";\n\ninterface ThresholdFilterSliderProps {\n  threshold: number;\n  setThreshold: (value: number) => void;\n}\n\nexport function ThresholdFilterSlider(props: ThresholdFilterSliderProps) {\n  const { threshold, setThreshold } = props;\n  const [defaultValue] = useState(Math.abs(threshold));\n\n  const c = heatMap(Math.abs(threshold) / 100, 0.75);\n  const difficultyMarks = [\n    {\n      value: MEMORIZED_THRLD,\n      // label: \"memorized\"\n    },\n    {\n      value: DIFFICULTY_THRLD,\n      // label: \"difficult\",\n    },\n  ];\n\n  const flipThresholdCB = useCallback(() => {\n    setThreshold(-1 * threshold);\n  }, [setThreshold, threshold]);\n\n  return (\n    <>\n      <div\n        className=\"position-relative text-nowrap w-0 fs-x-small\"\n        style={{ top: \"-15px\" }}\n      >\n        {`Difficulty filter: ${threshold}`}\n      </div>\n      <Slider\n        sx={{ color: c }}\n        defaultValue={defaultValue}\n        marks={difficultyMarks}\n        track={threshold < 0 ? undefined : \"inverted\"}\n        onChangeCommitted={(e, newValue) => {\n          const sign = threshold < 0 ? -1 : 1;\n          if (typeof newValue === \"number\") {\n            if (newValue === 0) {\n              setThreshold(Number(sign));\n            } else {\n              setThreshold(sign * newValue);\n            }\n          }\n        }}\n        valueLabelDisplay=\"auto\"\n      />\n\n      <div className=\"mt-2 ms-3 \" onClick={flipThresholdCB}>\n        {threshold < 0 ? <SortAscIcon /> : <SortDescIcon />}\n      </div>\n    </>\n  );\n}\n\nThresholdFilterSlider.propTypes = {\n  threshold: PropTypes.number,\n  setThreshold: PropTypes.func,\n};\n","import { IssueDraftIcon, XCircleIcon } from \"@primer/octicons-react\";\nimport classNames from \"classnames\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\ninterface MinimunRawItem {\n  uid: string;\n  english: string;\n  grp?: string;\n}\n\ninterface SetTermGFListProps {\n  terms: MinimunRawItem[];\n  termsFreq: string[]; //List of uid of terms to be reinforced/frequency\n  termsActive: string[]; //List of tags that are selected\n  toggleTermActiveGrp: (grp: string) => void;\n  removeFrequencyTerm: (uid: string) => void;\n}\n\nfunction listItem(\n  grpActive: boolean,\n  i: number,\n  uid: string,\n  english: string,\n  removeFrequencyTerm: (uid: string) => void\n) {\n  return (\n    <div\n      key={uid}\n      className={classNames({\n        \"p-0 px-2\": true,\n        clickable: grpActive,\n      })}\n      onClick={() => {\n        if (grpActive) {\n          removeFrequencyTerm(uid);\n        }\n      }}\n    >\n      <span className=\"p-1\">\n        {grpActive && (\n          <XCircleIcon\n            className=\"incorrect-color\"\n            size=\"small\"\n            aria-label=\"remove\"\n          />\n        )}\n        {!grpActive && (\n          <IssueDraftIcon\n            // className=\"incorrect-color\"\n            size=\"small\"\n            aria-label=\"inactive\"\n          />\n        )}\n      </span>\n      <span className=\"p-1\">{english}</span>\n    </div>\n  );\n}\n\n/**\n * Groups + Frequency term list\n */\nexport function SetTermGFList(props: SetTermGFListProps) {\n  let cleanup: string[] = [];\n\n  const thisgrp = props.termsFreq.reduce<MinimunRawItem[]>((acc, f) => {\n    const found = props.terms.find((v) => v.uid === f);\n\n    if (found) {\n      acc = [...acc, found];\n    } else {\n      cleanup = [...cleanup, f];\n    }\n\n    return acc;\n  }, []);\n\n  const grplist = thisgrp.reduce<Record<string, MinimunRawItem[]>>(\n    (acc, cur) => {\n      const key = cur.grp ? cur.grp : \"undefined\";\n\n      if (acc[key]) {\n        acc[key] = [...acc[key], cur];\n      } else {\n        acc[key] = [cur];\n      }\n\n      return acc;\n    },\n    {}\n  );\n\n  return (\n    <div>\n      <span className=\"fs-5 fw-light\">Frequency</span>\n      <div>\n        {Object.keys(grplist).map((g) => {\n          const grpActive = props.termsActive.includes(g);\n\n          return (\n            <div key={g} className=\"mb-2\">\n              <span\n                className={classNames({ \"font-weight-bold\": grpActive })}\n                onClick={() => props.toggleTermActiveGrp(g)}\n              >\n                {g}\n              </span>\n              <div>\n                {grplist[g].map((word, iw) =>\n                  listItem(\n                    grpActive,\n                    iw,\n                    word.uid,\n                    word.english,\n                    props.removeFrequencyTerm\n                  )\n                )}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n      {cleanup.length > 0 && (\n        <div className=\"mt-5 text-break\">\n          <span className=\"font-weight-bold\">Manual cleanup</span>\n          {cleanup.map((orphanUid, i) =>\n            listItem(true, i, orphanUid, orphanUid, props.removeFrequencyTerm)\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nSetTermGFList.propTypes = {\n  termsActive: PropTypes.array,\n  termsFreq: PropTypes.array,\n  terms: PropTypes.array,\n  removeFrequencyTerm: PropTypes.func,\n  toggleTermActiveGrp: PropTypes.func,\n};\n"],"names":["PlusMinus","props","label","value","className","onClick","onChange","propTypes","SettingsKanji","dispatch","useDispatch","vocabList","vocabulary","useConnectVocabulary","filterType","kanjiFilterREF","orderType","kanjiOrderREF","difficultyThreshold","reinforce","kanjiReinforce","activeTags","kanjiActive","kanjiList","kanji","repetition","kRepetition","kanjiTagObj","kanjiTags","spaRepMaxReviewItem","includeNew","includeReviewed","useConnectKanji","kanjiFilter","current","kanjiOrder","length","getVocabulary","Object","keys","getKanji","NotReady","addlStyle","kanjiSelectedTags","values","filter","k","tags","some","aTag","includes","kanjiSelectedUids","map","uid","kanjiFreq","rein","kFreqExcluTagSelected","labelOptions","active","action","buildAction","toggleKanjiFilter","color","statusText","TermFilterBy","SetTermTagList","selectedCount","termsTags","termsActive","toggleTermActive","toggleKanjiActiveTag","SetTermGFList","termsFreq","terms","removeFrequencyTerm","removeFrequencyKanji","toggleTermActiveGrp","toggleKanjiActiveGrp","title","options","TermSortByLabel","allowed","TermSortBy","initial","index","toggleKanjiReinforcement","toggleKanjiOrdering","setSpaRepMaxItemReview","ThresholdFilterSlider","threshold","setThreshold","setMemorizedThreshold","toggleIncludeNew","toggleIncludeReviewed","disabled","SimpleListMenu","anchorEl","setAnchorEl","useState","selectedIndex","setSelectedIndex","optionsRef","useRef","allowedRef","o","i","useEffect","open","Boolean","handleClickListItem","event","currentTarget","handleMenuItemClick","clickable","flip","undefined","List","component","disablePadding","ListItemButton","disableGutters","id","ListItemText","primary","secondary","secondaryTypographyProps","Menu","onClose","MenuListProps","role","option","MenuItem","selected","IconButton","sx","minWidth","KebabHorizontalIcon","size","defaultValue","Math","abs","c","heatMap","difficultyMarks","MEMORIZED_THRLD","DIFFICULTY_THRLD","flipThresholdCB","useCallback","style","top","Slider","marks","track","onChangeCommitted","e","newValue","sign","Number","valueLabelDisplay","SortAscIcon","SortDescIcon","listItem","grpActive","english","XCircleIcon","IssueDraftIcon","cleanup","grplist","thisgrp","reduce","acc","f","found","find","v","cur","key","grp","g","word","iw","orphanUid"],"mappings":"wNASe,SAASA,EAAUC,CAAqB,EACrD,GAAM,CAAEC,MAAAA,CAAK,CAAEC,MAAAA,CAAK,CAAE,CAAGF,EAEzB,MACE,WAAC,OACCG,UAAW,IAAW,CACpB,2CAA4C,EAC9C,G,UAEA,UAAC,O,SAAKF,C,GACN,UAAC,OACCE,UAAU,iBACVC,QAAS,KACPJ,EAAMK,QAAQ,CAACH,EAAQ,EACzB,E,SACD,G,GAGD,UAAC,OACCC,UAAW,IAAW,CACpB,OAAQ,EACV,G,SAECD,C,GAEH,UAAC,OACCC,UAAU,iBACVC,QAAS,KACPJ,EAAMK,QAAQ,CAACH,EAAQ,EACzB,E,SACD,G,KAKP,CAEAH,EAAUO,SAAS,CAAG,CACpBJ,MAAO,UACT,C,mSCde,SAASK,IACtB,IAAMC,EAAW,KAAAC,WAAA,IAEX,CAAEC,UAAWC,CAAU,CAAE,CAAG,KAAAC,oBAAA,IAC5B,CACJC,WAAYC,CAAc,CAC1BC,UAAWC,CAAa,CACxBC,oBAAAA,CAAmB,CACnBC,UAAWC,CAAc,CACzBC,WAAYC,CAAW,CACvBC,UAAWC,CAAK,CAChBC,WAAYC,CAAW,CACvBC,YAAaC,CAAS,CACtBC,oBAAAA,CAAmB,CACnBC,WAAAA,CAAU,CACVC,gBAAAA,CAAe,CAChB,CAAG,KAAAC,eAAA,IAEEC,EAAclB,EAAemB,OAAO,CACpCC,EAAalB,EAAciB,OAAO,CAUxC,GAR0B,IAAtBtB,EAAWwB,MAAM,EACd3B,EAAS,KAAA4B,aAAA,KAGsB,IAAlCC,OAAOC,IAAI,CAACX,GAAWQ,MAAM,EAC1B3B,EAAS,KAAA+B,QAAA,KAGZhB,EAAMY,MAAM,CAAG,GAAKE,OAAOC,IAAI,CAACX,GAAWQ,MAAM,CAAG,EACtD,MAAO,UAAC,EAAAK,QAAQ,EAACC,UAAU,qB,GAE7B,IAAMC,EAAoBL,OAAOM,MAAM,CAACpB,GAAOqB,MAAM,CAAC,AAACC,GACrDA,EAAEC,IAAI,CAACC,IAAI,CAAC,AAACC,GAAiB3B,EAAY4B,QAAQ,CAACD,KAE/CE,EAAoBR,EAAkBS,GAAG,CAAC,AAACN,GAAMA,EAAEO,GAAG,EAEtDC,EAAYhB,OAAOC,IAAI,CAACb,GAAamB,MAAM,CAC/C,AAACC,I,IAAM,E,MAAA,CAAc,OAAd,GAAApB,CAAW,CAACoB,EAAE,AAAD,GAAb,oBAAgBS,IAAI,AAAD,IAAM,E,GAI5BC,EAAwBF,EAAUT,MAAM,CAC5C,AAACC,GAAM,CAACK,EAAkBD,QAAQ,CAACJ,IAuHrC,MAnHE,UAAC,OAAI1C,UAAU,Q,SACb,WAAC,OAAIA,UAAU,0C,UACb,WAAC,OAAIA,UAAU,W,UACb,UAAC,QAAKA,UAAU,gB,SACb,KAAAqD,YAAA,EAAaxB,EAAa,CACzB,cACA,iBACA,OACD,C,GAEH,UAAC,OAAI7B,UAAU,O,SACb,UAAC,SAAc,EACbsD,OAAQzB,EAAc,GAAM,EAC5B0B,OAAQ,KAAAC,WAAA,EAAYnD,EAAU,EAAAoD,iBAAiB,EAC/CC,MAAM,UACNC,WAAY,W,KAGf9B,IAAgB,EAAA+B,YAAA,UAAsB,EAAIV,AAAqB,IAArBA,EAAUlB,MAAM,EACzD,UAAC,OAAIhC,UAAU,a,SAAa,2B,GAE7B6B,IAAgB,EAAA+B,YAAA,KAAiB,EAChC,UAAC,EAAAC,cAAc,EACbC,cACEvB,AAA6B,IAA7BA,EAAkBP,MAAM,CACpBE,OAAOM,MAAM,CAACpB,GAAOY,MAAM,CAC3BO,EAAkBP,MAAM,CAE9B+B,UAAWvC,EACXwC,YAAa9C,EACb+C,iBAAkB,KAAAT,WAAA,EAAYnD,EAAU,EAAA6D,oBAAoB,C,GAG/DrC,IAAgB,EAAA+B,YAAA,UAAsB,EAAIV,EAAUlB,MAAM,CAAG,GAC5D,UAAC,EAAAmC,aAAa,EACZH,YAAa9C,EACbkD,UAAWlB,EACXmB,MAAOjD,EACPkD,oBAAqB,KAAAd,WAAA,EAAYnD,EAAU,EAAAkE,oBAAoB,EAC/DC,oBAAqB,KAAAhB,WAAA,EAAYnD,EAAU,EAAAoE,oBAAoB,C,MAIrE,WAAC,OAAIzE,UAAU,yB,UACb,UAAC,OAAIA,UAAU,O,SACb,UAAC,SAAc,EACb0E,MAAO,WACPC,QAAS,EAAAC,eAAe,CACxBC,QAAS,CACP,EAAAC,UAAA,WAAqB,CACrB,EAAAA,UAAA,OAAiB,CACjB,EAAAA,UAAA,UAAoB,CACpB,EAAAA,UAAA,OAAiB,CAClB,CACDC,QAAShD,EACT7B,SAAU,AAAC8E,IACL,EAAAF,UAAA,OAAiB,GAAKE,GACxB3E,EAAS,KAAA4E,wBAAA,EAAyB,KAE7B,KAAAzB,WAAA,EAAYnD,EAAU,EAAA6E,mBAAmB,EAAEF,G,KAIvDjD,IAAe,EAAA+C,UAAA,OAAiB,EAC/B,UAAC,SAAS,EACRhF,MAAM,oBACNC,MAAO0B,EACPvB,SAAU,AAACH,IACTM,EAAS,KAAA8E,sBAAA,EAAuBpF,GAClC,C,GAGJ,UAAC,OAAIC,UAAU,6B,SACb,UAAC,EAAAoF,qBAAqB,EACpBC,UAAWvE,EACXwE,aAAc,KAAA9B,WAAA,EAAYnD,EAAU,EAAAkF,qBAAqB,C,KAG5DxD,IAAe,EAAA+C,UAAA,UAAoB,EAClC,uB,UACE,UAAC,OAAI9E,UAAU,O,SACb,UAAC,SAAc,EACbsD,OAAQ5B,EACR6B,OAAQ,KAAAC,WAAA,EAAYnD,EAAU,EAAAmF,gBAAgB,EAC9C7B,WAAW,gB,KAGf,UAAC,OAAI3D,UAAU,O,SACb,UAAC,SAAc,EACbsD,OAAQ3B,EACR4B,OAAQ,KAAAC,WAAA,EAAYnD,EAAU,EAAAoF,qBAAqB,EACnD9B,WAAW,qB,QAKnB,UAAC,OAAI3D,UAAU,O,SACb,UAAC,SAAc,EACbsD,OAAQtC,EAAec,OAAO,CAC9ByB,OAAQ,KAAAC,WAAA,EAAYnD,EAAU,EAAA4E,wBAAwB,EACtDS,SACE7D,IAAgB,EAAA+B,YAAA,UAAsB,EACtC7B,IAAe,EAAA+C,UAAA,OAAiB,CAElCnB,WACG,AAAA3C,CAAAA,EAAiB,CAAC,EAAE,EAAEoC,EAAsBpB,MAAM,CAAC,GAAG,CAAC,CAAG,EAAC,EAC5D,e,YAUhB,C,qLC5Ke,SAAS2D,EAAe9F,CAA0B,EAC/D,GAAM,CAAC+F,EAAUC,EAAY,CAAG,KAAAC,QAAA,EAA6B,MACvD,CAACC,EAAeC,EAAiB,CAAG,KAAAF,QAAA,EAASjG,EAAMkF,OAAO,EAE1DkB,EAAa,KAAAC,MAAA,EAAOrG,EAAM8E,OAAO,EACjCwB,EAAa,KAAAD,MAAA,EAAOrG,EAAMgF,OAAO,EAAIhF,EAAM8E,OAAO,CAAC3B,GAAG,CAAC,CAACoD,EAAGC,IAAMA,IACjE1B,EAAUsB,EAAWnE,OAAO,CAC5B+C,EAAUsB,EAAWrE,OAAO,CAElC,KAAAwE,SAAA,EAAU,KACRN,EAAiBnG,EAAMkF,OAAO,CAChC,EAAG,CAAClF,EAAMkF,OAAO,CAAC,EAElB,IAAMwB,EAAOC,CAAAA,CAAQZ,EACfa,EAAsB,AAACC,IAC3Bb,EAAYa,EAAMC,aAAa,CACjC,EAEMC,EAAsB,CAC1BF,EACA1B,KAEAgB,EAAiBhB,GACjBa,EAAY,MACZhG,EAAMK,QAAQ,CAAC8E,EACjB,EAMA,MACE,WAAC,OACChF,UAAW,IAAW,CACpB6G,UAAWhH,AAAmB,KAAnBA,EAAM6F,QAAQ,CACzB,SAAU,GACV,mBAAoB7F,AAAe,KAAfA,EAAMiH,IAAI,EAAmBC,KAAAA,EACjD,sBAAuB,EACzB,G,UAEA,UAAC,EAAAC,IAAI,EAACC,UAAU,MAAMC,eAAgB,G,SACpC,UAAC,EAAAC,cAAc,EACbC,eAAgB,GAChB1B,SAAU7F,AAAmB,KAAnBA,EAAM6F,QAAQ,CACxB2B,GAAG,gBACH,gBAAc,UACd,gBAAc,cACd,gBAAed,EAAO,OAASQ,KAAAA,EAC/B9G,QAASwG,E,SAET,UAAC,EAAAa,YAAY,EACXC,QAAS1H,EAAM6E,KAAK,CACpB8C,UAAW7C,CAAO,CAACoB,EAAc,CACjC0B,yBAA0B,CAAE/D,MAAO,OAAQ,C,OAIjD,UAAC,EAAAgE,IAAI,EACHL,GAAG,cACHzB,SAAUA,EACVW,KAAMA,EACNoB,QAlCc,KAClB9B,EAAY,KACd,EAiCM+B,cAAe,CACb,kBAAmB,gBACnBC,KAAM,SACR,E,SAEClD,EAAQ3B,GAAG,CAAC,CAAC8E,EAAQ9C,IACpB,UAAC,EAAA+C,QAAQ,EAGPC,SAAUhD,IAAUe,EACpB9F,QAAS,AAACyG,IACJ7B,EAAQ/B,QAAQ,CAACkC,IAAQ4B,EAAoBF,EAAO1B,EAC1D,E,SAECH,EAAQ/B,QAAQ,CAACkC,GAChB8C,EAEA,UAAC,QAAK9H,UAAU,iB,SAAkB8H,C,IAV/BA,G,GAgBX,UAAC,EAAAG,UAAU,EACT,kBAAgB,gBAChBC,GAAI,CAAExE,MAAO,QAASyE,SAAU,MAAO,EACvC,gBAAc,UACdzC,SAAU7F,AAAmB,KAAnBA,EAAM6F,QAAQ,CACxBzF,QAASwG,E,SAET,UAAC,EAAA2B,mBAAmB,EAClBC,KAAK,SACLrI,UAAW,IAAW,CACpB,oBAAqB,GACrB,YAAauG,CACf,E,OAKV,CAEAZ,EAAexF,SAAS,CAAG,CACzBuF,SAAU,SACVoB,KAAM,SACNpC,MAAO,WACPC,QAAS,WAAiB,CAAC,UAAgB,EAC3CI,QAAS,WACT7E,SAAU,QACZ,C,wMC3HO,SAASkF,EAAsBvF,CAAiC,EACrE,GAAM,CAAEwF,UAAAA,CAAS,CAAEC,aAAAA,CAAY,CAAE,CAAGzF,EAC9B,CAACyI,EAAa,CAAG,KAAAxC,QAAA,EAASyC,KAAKC,GAAG,CAACnD,IAEnCoD,EAAI,KAAAC,OAAA,EAAQH,KAAKC,GAAG,CAACnD,GAAa,IAAK,KACvCsD,EAAkB,CACtB,CACE5I,MAAO,EAAA6I,eAAe,AAExB,EACA,CACE7I,MAAO,EAAA8I,gBAAgB,AAEzB,EACD,CAEKC,EAAkB,KAAAC,WAAA,EAAY,KAClCzD,EAAa,GAAKD,EACpB,EAAG,CAACC,EAAcD,EAAU,EAE5B,MACE,uB,UACE,UAAC,OACCrF,UAAU,+CACVgJ,MAAO,CAAEC,IAAK,OAAQ,E,SAErB,CAAC,mBAAmB,EAAE5D,EAAU,CAAC,A,GAEpC,UAAC,EAAA6D,MAAM,EACLhB,GAAI,CAAExE,MAAO+E,CAAE,EACfH,aAAcA,EACda,MAAOR,EACPS,MAAO/D,EAAY,EAAI0B,KAAAA,EAAY,WACnCsC,kBAAmB,CAACC,EAAGC,KACrB,IAAMC,EAAOnE,EAAY,EAAI,GAAK,CACV,WAApB,OAAOkE,IACLA,AAAa,IAAbA,EACFjE,EAAamE,OAAOD,IAEpBlE,EAAakE,EAAOD,GAG1B,EACAG,kBAAkB,M,GAGpB,UAAC,OAAI1J,UAAU,aAAaC,QAAS6I,E,SAClCzD,EAAY,EAAI,UAAC,EAAAsE,WAAW,KAAM,UAAC,EAAAC,YAAY,I,KAIxD,CAEAxE,EAAsBjF,SAAS,CAAG,CAChCkF,UAAW,WACXC,aAAc,QAChB,C,kKClDA,SAASuE,EACPC,CAAkB,CAClBzD,CAAS,CACTpD,CAAW,CACX8G,CAAe,CACfzF,CAA0C,EAE1C,MACE,WAAC,OAECtE,UAAW,IAAW,CACpB,WAAY,GACZ6G,UAAWiD,CACb,GACA7J,QAAS,KACH6J,GACFxF,EAAoBrB,EAExB,E,UAEA,WAAC,QAAKjD,UAAU,M,UACb8J,GACC,UAAC,EAAAE,WAAW,EACVhK,UAAU,kBACVqI,KAAK,QACL,aAAW,Q,GAGd,CAACyB,GACA,UAAC,EAAAG,cAAc,EAEb5B,KAAK,QACL,aAAW,U,MAIjB,UAAC,QAAKrI,UAAU,M,SAAO+J,C,KA3BlB9G,EA8BX,CAKO,SAASkB,EAActE,CAAyB,EACrD,IAAIqK,EAAoB,EAAE,CAcpBC,EAAUC,AAZAvK,EAAMuE,SAAS,CAACiG,MAAM,CAAmB,CAACC,EAAKC,KAC7D,IAAMC,EAAQ3K,EAAMwE,KAAK,CAACoG,IAAI,CAAC,AAACC,GAAMA,EAAEzH,GAAG,GAAKsH,GAQhD,OANIC,EACFF,EAAM,IAAIA,EAAKE,EAAM,CAErBN,EAAU,IAAIA,EAASK,EAAE,CAGpBD,CACT,EAAG,EAAE,EAEmBD,MAAM,CAC5B,CAACC,EAAKK,KACJ,IAAMC,EAAMD,EAAIE,GAAG,CAAGF,EAAIE,GAAG,CAAG,YAQhC,OANIP,CAAG,CAACM,EAAI,CACVN,CAAG,CAACM,EAAI,CAAG,IAAIN,CAAG,CAACM,EAAI,CAAED,EAAI,CAE7BL,CAAG,CAACM,EAAI,CAAG,CAACD,EAAI,CAGXL,CACT,EACA,CAAC,GAGH,MACE,WAAC,O,UACC,UAAC,QAAKtK,UAAU,gB,SAAgB,W,GAChC,UAAC,O,SACEkC,OAAOC,IAAI,CAACgI,GAASnH,GAAG,CAAC,AAAC8H,IACzB,IAAMhB,EAAYjK,EAAMmE,WAAW,CAAClB,QAAQ,CAACgI,GAE7C,MACE,WAAC,OAAY9K,UAAU,O,UACrB,UAAC,QACCA,UAAW,IAAW,CAAE,mBAAoB8J,CAAU,GACtD7J,QAAS,IAAMJ,EAAM2E,mBAAmB,CAACsG,G,SAExCA,C,GAEH,UAAC,O,SACEX,CAAO,CAACW,EAAE,CAAC9H,GAAG,CAAC,CAAC+H,EAAMC,IACrBnB,EACEC,EACAkB,EACAD,EAAK9H,GAAG,CACR8H,EAAKhB,OAAO,CACZlK,EAAMyE,mBAAmB,E,KAdvBwG,EAoBd,E,GAEDZ,EAAQlI,MAAM,CAAG,GAChB,WAAC,OAAIhC,UAAU,kB,UACb,UAAC,QAAKA,UAAU,mB,SAAmB,gB,GAClCkK,EAAQlH,GAAG,CAAC,CAACiI,EAAW5E,IACvBwD,EAAS,GAAMxD,EAAG4E,EAAWA,EAAWpL,EAAMyE,mBAAmB,G,KAM7E,C,WAEAH,EAAchE,SAAS,CAAG,CACxB6D,YAAa,UACbI,UAAW,UACXC,MAAO,UACPC,oBAAqB,SACrBE,oBAAqB,QACvB,C"}