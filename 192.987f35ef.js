(self.webpackChunknmemonica=self.webpackChunknmemonica||[]).push([["192"],{56640:function(e,t,l){},2155:function(e,t,l){"use strict";l.r(t),l.d(t,{GroupItem:function(){return o}});var r=l("10327"),s=l("78615"),i=l("49620"),n=l.n(i),a=l("21331"),c=l.n(a);function o(e){let t=n({[String(e.addlStyle)]:!!e.addlStyle,"p-0 px-2":!0,"font-weight-bold":e.active});return(0,r.jsxs)("div",{className:t,onClick:e.onClick,children:[(0,r.jsx)("span",{className:"p-1",children:e.active?(0,r.jsx)(s.XCircleIcon,{className:"clickable incorrect-color",size:"small","aria-label":"remove"}):(0,r.jsx)(s.PlusCircleIcon,{className:"clickable",size:"small","aria-label":"add"})}),(0,r.jsx)("span",{className:"p-1",children:e.children})]})}l("83169"),o.propTypes={addlStyle:c.string,active:c.bool,onClick:c.func,children:c.string}},44727:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return c}});var r=l("10327"),s=l("49620"),i=l.n(s),n=l("21331"),a=l.n(n);function c(e){let{label:t,value:l}=e;return(0,r.jsxs)("div",{className:i({"mb-3 d-flex flex-row justify-content-end":!0}),children:[(0,r.jsx)("div",{children:t}),(0,r.jsx)("div",{className:"clickable px-2",onClick:()=>{e.onChange(l-1)},children:"-"}),(0,r.jsx)("div",{className:i({"px-2":!0}),children:l}),(0,r.jsx)("div",{className:"clickable px-2",onClick:()=>{e.onChange(l+1)},children:"+"})]})}c.propTypes={value:a.number}},78135:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return N}});var r=l("10327"),s=l("78615"),i=l("49620"),n=l.n(i),a=l("83169"),c=l("40432"),o=l("42565"),u=l("44727"),d=l("3252"),m=l("22719"),p=l("2497"),h=l("35920"),x=l("10776"),b=l("480"),v=l("80161"),f=l("40665"),j=l("93781"),g=l("37488"),y=l("37362");function N(){let e=(0,c.useDispatch)(),{vocabList:t,vocabGroups:l,sortMethod:i,romajiEnabled:N,bareKanji:T,hintEnabled:C,activeGroup:S,autoVerbView:A,verbColSplit:k,filterType:w,difficultyThreshold:F,repetition:I,spaRepMaxReviewItem:R,reinforce:G,verbFormsOrder:V,includeNew:E,includeReviewed:L}=(0,v.useConnectVocabulary)(),M=w.current,q=i.current,O=G.current,B=C.current;0===Object.keys(l).length&&e((0,j.getVocabulary)());let D=(0,a.useMemo)(()=>Object.keys(I).filter(e=>I[e]?.rein===!0),[I]),[z,U]=(0,a.useMemo)(()=>{let e=j.vocabularyInitState.setting.verbFormsOrder,t=V.reduce((t,l)=>(e.includes(l)&&(t=[...t,l]),t),[]),l=e.reduce((e,l)=>(!t.includes(l)&&(e=[...e,l]),e),[]);return[t,l]},[V]);if(t.length<1||Object.keys(l).length<1)return(0,r.jsx)(o.NotReady,{addlStyle:"vocabulary-settings"});let $=(0,b.getStaleGroups)(l,S);if($.length>0){let e=Error("Stale vocabulary active group",{cause:{code:"StaleVocabActiveGrp",value:$}});throw e}let P=(0,r.jsx)("div",{className:"outer",children:(0,r.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,r.jsxs)("div",{className:"column-1",children:[(0,r.jsx)(m.default,{flip:!0,title:"Filter by:",options:["Word Group","Frequency List"],initial:M,onChange:(0,x.buildAction)(e,j.toggleVocabularyFilter)}),M===f.TermFilterBy.GROUP&&(0,r.jsx)(y.SetTermGList,{termsGroups:l,termsActive:S,toggleTermActiveGrp:(0,x.buildAction)(e,j.toggleVocabularyActiveGrp)}),M===f.TermFilterBy.FREQUENCY&&0===D.length&&(0,r.jsx)("div",{className:"fst-italic",children:"No words have been chosen"}),M===f.TermFilterBy.FREQUENCY&&D.length>0&&(0,r.jsx)(g.SetTermGFList,{termsActive:S,termsFreq:D,terms:t,removeFrequencyTerm:(0,x.buildAction)(e,j.removeFrequencyWord),toggleTermActiveGrp:(0,x.buildAction)(e,j.toggleVocabularyActiveGrp)})]}),(0,r.jsxs)("div",{className:"column-2 setting-block",children:[(0,r.jsx)(m.default,{title:"Sort by:",options:f.TermSortByLabel,initial:q,onChange:t=>(f.TermSortBy.RECALL===t&&e((0,j.toggleVocabularyReinforcement)(!1)),(0,x.buildAction)(e,j.toggleVocabularyOrdering)(t))}),(0,r.jsx)("div",{className:"d-flex justify-content-end",children:(0,r.jsx)(p.ThresholdFilterSlider,{threshold:F,setThreshold:(0,x.buildAction)(e,j.setMemorizedThreshold)})}),q===f.TermSortBy.RECALL&&(0,r.jsx)(u.default,{label:"Max review items ",value:R,onChange:t=>{e((0,j.setSpaRepMaxItemReview)(t))}}),q===f.TermSortBy.VIEW_DATE&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(d.default,{active:E,action:(0,x.buildAction)(e,j.toggleIncludeNew),statusText:"Staleness +New"})}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(d.default,{active:L,action:(0,x.buildAction)(e,j.toggleIncludeReviewed),statusText:"Staleness +Reviewed"})})]}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(d.default,{active:O,action:(0,x.buildAction)(e,j.toggleVocabularyReinforcement),disabled:M===f.TermFilterBy.FREQUENCY||q===f.TermSortBy.RECALL,statusText:"Reinforcement"})}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(d.default,{active:N,action:(0,x.buildAction)(e,j.toggleVocabularyRomaji),statusText:"Romaji"})}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(d.default,{active:T,action:(0,x.buildAction)(e,j.toggleVocabularyBareKanji),statusText:"English+Kanji"})}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(d.default,{active:B,action:(0,x.buildAction)(e,j.toggleVocabularyHint),statusText:"Hint"})}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(d.default,{active:A,action:(0,x.buildAction)(e,j.toggleAutoVerbView),statusText:"Auto Verb View"})}),A&&(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)("div",{className:"d-flex flex-row justify-content-end",children:(0,r.jsx)("div",{children:[z.map((t,l)=>(0,r.jsxs)("div",{className:n({"d-flex justify-content-between":!0,"pt-2":l===z.length-k,"pb-2":l===z.length-1&&0===k}),children:[(0,r.jsx)("div",{className:n({"me-3":!0,"disabled-color":0===l}),onClick:()=>{if(l>0){let t=z.slice(0,l-1),r=z[l-1],s=z[l],i=z.slice(l+1);e((0,j.setVerbFormsOrder)([...t,s,r,...i]))}},children:(0,r.jsx)(s.ChevronUpIcon,{className:"mt-1",size:"small","aria-label":"move up"})}),(0,r.jsx)("span",{className:"w-100 text-start",children:t}),(0,r.jsx)("div",{onClick:()=>{if(z.length>1){let t=[...z.slice(0,l),...z.slice(l+1)];e((0,j.setVerbFormsOrder)(t))}},children:(0,r.jsx)(s.XCircleIcon,{className:n({"mt-1 ms-3":!0,"incorrect-color":z.length>1,"disabled-color":1===z.length}),size:"small","aria-label":"remove"})})]},t)),U.map((t,l)=>(0,r.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,r.jsx)("div",{className:"me-3 invisible",children:(0,r.jsx)(s.ChevronUpIcon,{className:"mt-1",size:"small","aria-label":"move up"})}),(0,r.jsx)("span",{className:"w-100 text-start disabled-color",children:t}),(0,r.jsx)("div",{onClick:(0,x.buildAction)(e,j.setVerbFormsOrder,[...z,U[l]]),children:(0,r.jsx)(s.PlusCircleIcon,{className:"mt-1 ms-3",size:"small","aria-label":"add"})})]},t))]})})}),A&&(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"d-flex justify-content-end p-2",children:(0,r.jsx)(h.default,{initial:z.length-k,setChoiceN:t=>{e((0,j.updateVerbColSplit)(z.length-t))},max:V.length,statusText:"Column layout"})})})]})]})});return P}},22719:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return d}});var r=l("10327"),s=l("58093"),i=l("78615"),n=l("49620"),a=l.n(n),c=l("21331"),o=l.n(c),u=l("83169");function d(e){let[t,l]=(0,u.useState)(null),[n,c]=(0,u.useState)(e.initial),o=(0,u.useRef)(e.options),d=(0,u.useRef)(e.allowed??e.options.map((e,t)=>t)),m=o.current,p=d.current;(0,u.useEffect)(()=>{c(e.initial)},[e.initial]);let h=!!t,x=e=>{l(e.currentTarget)},b=(t,r)=>{c(r),l(null),e.onChange(r)};return(0,r.jsxs)("div",{className:a({clickable:!0!==e.disabled,"d-flex":!0,"flex-row-reverse":!0===e.flip||void 0,"justify-content-end":!0}),children:[(0,r.jsx)(s.List,{component:"nav",disablePadding:!0,children:(0,r.jsx)(s.ListItemButton,{disableGutters:!0,disabled:!0===e.disabled,id:"filter-button","aria-haspopup":"listbox","aria-controls":"filter-menu","aria-expanded":h?"true":void 0,onClick:x,children:(0,r.jsx)(s.ListItemText,{primary:e.title,secondary:m[n],secondaryTypographyProps:{color:"unset"}})})}),(0,r.jsx)(s.Menu,{id:"filter-menu",anchorEl:t,open:h,onClose:()=>{l(null)},MenuListProps:{"aria-labelledby":"filter-button",role:"listbox"},children:m.map((e,t)=>(0,r.jsx)(s.MenuItem,{selected:t===n,onClick:e=>{p.includes(t)&&b(e,t)},children:p.includes(t)?e:(0,r.jsx)("span",{className:"disabled-color",children:e})},e))}),(0,r.jsx)(s.IconButton,{"aria-labelledby":"filter-button",sx:{color:"unset",minWidth:"55px"},"aria-haspopup":"listbox",disabled:!0===e.disabled,onClick:x,children:(0,r.jsx)(i.KebabHorizontalIcon,{size:"medium",className:a({"rotate-transition":!0,"rotate-90":h})})})]})}d.propTypes={disabled:o.bool,flip:o.bool,title:o.string,options:o.arrayOf(o.string),initial:o.number,onChange:o.func}},2497:function(e,t,l){"use strict";l.r(t),l.d(t,{ThresholdFilterSlider:function(){return d}});var r=l("10327"),s=l("58093"),i=l("78615"),n=l("21331"),a=l.n(n),c=l("83169"),o=l("75010"),u=l("67402");function d(e){let{threshold:t,setThreshold:l}=e,[n]=(0,c.useState)(Math.abs(t)),a=(0,o.heatMap)(Math.abs(t)/100,.75),d=[{value:u.MEMORIZED_THRLD},{value:u.DIFFICULTY_THRLD}],m=(0,c.useCallback)(()=>{l(-1*t)},[l,t]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"position-relative text-nowrap w-0 fs-x-small",style:{top:"-15px"},children:`Difficulty filter: ${t}`}),(0,r.jsx)(s.Slider,{sx:{color:a},defaultValue:n,marks:d,track:t<0?void 0:"inverted",onChangeCommitted:(e,r)=>{let s=t<0?-1:1;"number"==typeof r&&(0===r?l(Number(s)):l(s*r))},valueLabelDisplay:"auto"}),(0,r.jsx)("div",{className:"mt-2 ms-3 ",onClick:m,children:t<0?(0,r.jsx)(i.SortAscIcon,{}):(0,r.jsx)(i.SortDescIcon,{})})]})}d.propTypes={threshold:a.number,setThreshold:a.func}},35920:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return c}});var r=l("10327"),s=l("58093"),i=l("21331"),n=l.n(i),a=l("83169");function c(e){var t;let[l]=(0,a.useState)(e.initial),i=Math.min(e.max,l),n=e.max,c=[],o={};for(let e=0;e<n+1;e++){let t=(e-0)/(n-0)*100;c=[...c,{value:t,raw:e}],o["r"+t]=e,o["s"+e]=t}let u=e=>o["r"+e],d=e=>{let t=u(e),l=Math.trunc(n/2),r="",s=l+Math.abs(l-t);return n%2!=0&&t<=l&&(r=String(++s)),n%2==0&&t===l||(r=t<l+1?s+" "+(n-s):n-s+" "+s),r},m=t=>{let l=u(t);l!==i&&e.setChoiceN(l)};return(0,r.jsxs)("div",{className:"verb-form-slider-root",children:[(0,r.jsx)(s.Typography,{id:"discrete-slider-restrict",gutterBottom:!0,children:e.statusText}),(0,r.jsx)(s.Slider,{defaultValue:(t=i,o["s"+t]),valueLabelFormat:d,getAriaValueText:d,"aria-labelledby":"discrete-slider-restrict",track:!1,step:null,valueLabelDisplay:"auto",marks:c,onChangeCommitted:(e,t)=>{"number"==typeof t&&m(t)}})]})}l("56640"),c.propTypes={statusText:n.string,initial:n.number.isRequired,max:n.number.isRequired,setChoiceN:n.func.isRequired}},37488:function(e,t,l){"use strict";l.r(t),l.d(t,{SetTermGFList:function(){return u}});var r=l("10327"),s=l("78615"),i=l("49620"),n=l.n(i),a=l("21331"),c=l.n(a);function o(e,t,l,i,a){return(0,r.jsxs)("div",{className:n({"p-0 px-2":!0,clickable:e}),onClick:()=>{e&&a(l)},children:[(0,r.jsxs)("span",{className:"p-1",children:[e&&(0,r.jsx)(s.XCircleIcon,{className:"incorrect-color",size:"small","aria-label":"remove"}),!e&&(0,r.jsx)(s.IssueDraftIcon,{size:"small","aria-label":"inactive"})]}),(0,r.jsx)("span",{className:"p-1",children:i})]},l)}function u(e){let t=[],l=e.termsFreq.reduce((l,r)=>{let s=e.terms.find(e=>e.uid===r);return s?l=[...l,s]:t=[...t,r],l},[]),s=l.reduce((e,t)=>{let l=t.grp?t.grp:"undefined";return e[l]?e[l]=[...e[l],t]:e[l]=[t],e},{});return(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"fs-5 fw-light",children:"Frequency"}),(0,r.jsx)("div",{children:Object.keys(s).map(t=>{let l=e.termsActive.includes(t);return(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("span",{className:n({"font-weight-bold":l}),onClick:()=>e.toggleTermActiveGrp(t),children:t}),(0,r.jsx)("div",{children:s[t].map((t,r)=>o(l,r,t.uid,t.english,e.removeFrequencyTerm))})]},t)})}),t.length>0&&(0,r.jsxs)("div",{className:"mt-5 text-break",children:[(0,r.jsx)("span",{className:"font-weight-bold",children:"Manual cleanup"}),t.map((t,l)=>o(!0,l,t,t,e.removeFrequencyTerm))]})]})}l("83169"),u.propTypes={termsActive:c.array,termsFreq:c.array,terms:c.array,removeFrequencyTerm:c.func,toggleTermActiveGrp:c.func}},37362:function(e,t,l){"use strict";l.r(t),l.d(t,{SetTermGList:function(){return o}});var r=l("10327"),s=l("56596"),i=l.n(s),n=l("21331"),a=l.n(n);l("83169");var c=l("2155");function o(e){return(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"fs-5 fw-light",children:"Groups"}),Object.keys(e.termsGroups).map(t=>{let l=e.termsActive.includes(t);return(0,r.jsxs)("div",{children:[(0,r.jsx)(c.GroupItem,{active:e.termsActive.includes(t),onClick:()=>e.toggleTermActiveGrp(t),children:t}),!l&&i(e.termsGroups[t],e=>{let[,t]=e.split("_");return Number.isInteger(parseInt(t,10))?parseInt(t,10):e}).map(l=>(0,r.jsx)(c.GroupItem,{addlStyle:"ms-3",active:e.termsActive.includes(t+"."+l),onClick:()=>{e.toggleTermActiveGrp(t+"."+l)},children:l},`${t}.${l}`))]},t)})]})}o.propTypes={termsGroups:a.object,termsActive:a.array,toggleTermActiveGrp:a.func}},75010:function(e,t,l){"use strict";l.r(t),l.d(t,{heatMap:function(){return s}});var r=l("40503");function s(e,t=.25){let[l,s,i]=[13,110,256],n=[l,(0,r.lerp)(s,255,e),(0,r.lerp)(i,0,e)],a=[(0,r.lerp)(0,255,e),255,0],c=[255,(0,r.lerp)(255,0,e),0],o=[(0,r.lerp)(n[0],a[0],e),(0,r.lerp)(n[1],a[1],e),(0,r.lerp)(n[2],a[2],e)],u=[(0,r.lerp)(a[0],c[0],e),(0,r.lerp)(a[1],c[1],e),(0,r.lerp)(a[2],c[2],e)],d=[(0,r.lerp)(o[0],u[0],e),(0,r.lerp)(o[1],u[1],e),(0,r.lerp)(o[2],u[2],e)],[m,p,h]=d.map(e=>Math.floor(e)),x=`rgb(${m},${p},${h},${t})`;return x}},80161:function(e,t,l){"use strict";l.r(t),l.d(t,{useConnectVocabulary:function(){return i}});var r=l("83169"),s=l("40432");function i(){let[e,t,l]=(0,s.useSelector)(({global:e})=>[e.debug,e.swipeThreshold,e.motionThreshold],s.shallowEqual),{value:i,grpObj:n}=(0,s.useSelector)(({vocabulary:e})=>e,(e,t)=>e.version===t.version),{repetition:a}=(0,s.useSelector)(({vocabulary:e})=>e.setting,(e,t)=>e.repTID===t.repTID),[c,o,u,d,m,p]=(0,s.useSelector)(({vocabulary:e})=>{let{englishSideUp:t,autoVerbView:l,spaRepMaxReviewItem:r,includeNew:s,includeReviewed:i}=e.setting,{verbForm:n}=e;return[t,l,n,r,s,i]},s.shallowEqual),[h,x,b,v,f,j,g,y]=(0,s.useSelector)(({vocabulary:e})=>{let{difficultyThreshold:t,reinforce:l,filter:r,hintEnabled:s,romaji:i,bareKanji:n,verbColSplit:a,ordered:c}=e.setting;return[t,l,r,s,i,n,a,c]},s.shallowEqual),N=(0,s.useSelector)(({vocabulary:e})=>{let{verbFormsOrder:t}=e.setting;return t},s.shallowEqual),T=(0,s.useSelector)(({vocabulary:e})=>{let{activeGroup:t}=e.setting;return t},s.shallowEqual),C=(0,r.useRef)(x);C.current=x;let S=(0,r.useRef)(b);S.current=b;let A=(0,r.useRef)(v);A.current=v;let k=(0,r.useRef)(y);return k.current=y,{englishSideUp:c,autoVerbView:o,verbForm:u,repetition:a,difficultyThreshold:h,debugLevel:e,swipeThreshold:t,motionThreshold:l,vocabList:i,vocabGroups:n,romajiEnabled:f,bareKanji:j,verbFormsOrder:N,verbColSplit:g,activeGroup:T,spaRepMaxReviewItem:d,includeNew:m,includeReviewed:p,reinforce:C,hintEnabled:A,filterType:S,sortMethod:k}}}}]);