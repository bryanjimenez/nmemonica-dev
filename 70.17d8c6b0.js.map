{"version":3,"file":"70.17d8c6b0.js","sources":["webpack://nmemonica/./src/components/Form/SettingsDeveloper.tsx"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { SyncIcon } from \"@primer/octicons-react\";\nimport classNames from \"classnames\";\nimport { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport SettingsSwitch from \"./SettingsSwitch\";\nimport SimpleListMenu from \"./SimpleListMenu\";\nimport { buildAction } from \"../../helper/eventHandlerHelper\";\nimport { labelOptions } from \"../../helper/gameHelper\";\nimport { swMessageDoHardRefresh } from \"../../helper/serviceWorkerHelper\";\n// import { useSubscribe } from \"../../hooks/useSubscribe\";\nimport { useConnectSetting } from \"../../hooks/useConnectSettings\";\nimport { debugToggled, toggleVoiceSource } from \"../../slices/globalSlice\";\nimport { DebugLevel } from \"../../slices/settingHelper\";\nexport default function SettingsDeveloper() {\n    const dispatch = useDispatch();\n    const { cookies, debug, voiceSource } = useConnectSetting();\n    const [spin, setSpin] = useState(false);\n    const [hardRefreshUnavailable, setHardRefreshUnavailable] = useState(false);\n    return /*#__PURE__*/ _jsxs(\"div\", {\n        children: [\n            /*#__PURE__*/ _jsx(\"h3\", {\n                className: \"mt-3 mb-1\"\n            }),\n            /*#__PURE__*/ _jsxs(\"div\", {\n                className: \"d-flex flex-row justify-content-between\",\n                children: [\n                    /*#__PURE__*/ _jsx(\"div\", {\n                        className: \"column-1 mb-2 me-sm-2\"\n                    }),\n                    /*#__PURE__*/ _jsx(\"div\", {\n                        className: \"column-2\",\n                        children: /*#__PURE__*/ _jsxs(\"div\", {\n                            className: \"ps-2 d-flex flex-column align-items-end\",\n                            children: [\n                                /*#__PURE__*/ _jsx(\"div\", {\n                                    className: \"setting-block mb-2\",\n                                    children: /*#__PURE__*/ _jsx(SettingsSwitch, {\n                                        disabled: !cookies,\n                                        active: debug > DebugLevel.OFF,\n                                        action: buildAction(dispatch, debugToggled),\n                                        color: \"default\",\n                                        statusText: labelOptions(debug, [\n                                            \"Debug\",\n                                            \"Debug Error\",\n                                            \"Debug Warn\",\n                                            \"Debug\"\n                                        ])\n                                    })\n                                }),\n                                /*#__PURE__*/ _jsx(\"div\", {\n                                    className: \"setting-block mb-2\",\n                                    children: /*#__PURE__*/ _jsx(SimpleListMenu, {\n                                        title: \"Voice Source:\",\n                                        initial: voiceSource,\n                                        options: [\n                                            \"Internal\",\n                                            \"Google Translate\"\n                                        ],\n                                        onChange: buildAction(dispatch, toggleVoiceSource)\n                                    })\n                                }),\n                                /*#__PURE__*/ _jsxs(\"div\", {\n                                    className: classNames({\n                                        \"d-flex justify-content-end mb-2\": true,\n                                        \"disabled-color\": hardRefreshUnavailable\n                                    }),\n                                    children: [\n                                        /*#__PURE__*/ _jsx(\"p\", {\n                                            id: \"hard-refresh\",\n                                            className: classNames({\n                                                \"text-right\": true,\n                                                \"disabled-color\": !cookies\n                                            }),\n                                            children: \"Hard Refresh\"\n                                        }),\n                                        /*#__PURE__*/ _jsx(\"div\", {\n                                            className: classNames({\n                                                \"spin-a-bit\": spin,\n                                                \"disabled-color\": !cookies,\n                                                clickable: cookies\n                                            }),\n                                            style: {\n                                                height: \"24px\"\n                                            },\n                                            \"aria-labelledby\": \"hard-refresh\",\n                                            onClick: cookies ? ()=>{\n                                                setSpin(true);\n                                                setHardRefreshUnavailable(false);\n                                                setTimeout(()=>{\n                                                    if (spin) {\n                                                        setSpin(false);\n                                                        setHardRefreshUnavailable(true);\n                                                    }\n                                                }, 3000);\n                                                void swMessageDoHardRefresh();\n                                            } : undefined,\n                                            children: /*#__PURE__*/ _jsx(SyncIcon, {\n                                                size: 24,\n                                                \"aria-label\": \"Hard Refresh\"\n                                            })\n                                        })\n                                    ]\n                                }),\n                                \" \"\n                            ]\n                        })\n                    })\n                ]\n            })\n        ]\n    });\n}\n"],"names":["SettingsDeveloper","dispatch","cookies","debug","voiceSource","spin","setSpin","useState","hardRefreshUnavailable","setHardRefreshUnavailable","children","className","disabled","active","action","color","statusText","title","initial","options","onChange","id","clickable","style","height","onClick","setTimeout","undefined","size"],"mappings":"sTAce,SAASA,IACpB,IAAMC,EAAW,WACX,CAAEC,QAAAA,CAAO,CAAEC,MAAAA,CAAK,CAAEC,YAAAA,CAAW,CAAE,CAAG,UAClC,CAACC,EAAMC,EAAQ,CAAG,KAAAC,QAAA,EAAS,IAC3B,CAACC,EAAwBC,EAA0B,CAAG,KAAAF,QAAA,EAAS,IACrE,MAAqB,WAAM,MAAO,CAC9BG,SAAU,CACQ,UAAK,KAAM,CACrBC,UAAW,WACf,GACc,WAAM,MAAO,CACvBA,UAAW,0CACXD,SAAU,CACQ,UAAK,MAAO,CACtBC,UAAW,uBACf,GACc,UAAK,MAAO,CACtBA,UAAW,WACXD,SAAwB,WAAM,MAAO,CACjCC,UAAW,0CACXD,SAAU,CACQ,UAAK,MAAO,CACtBC,UAAW,qBACXD,SAAwB,UAAK,GAAc,CAAE,CACzCE,SAAU,CAACV,EACXW,OAAQV,EAAQ,QAAc,CAC9BW,OAAQ,QAAYb,EAAU,IAAY,EAC1Cc,MAAO,UACPC,WAAY,SAAab,EAAO,CAC5B,QACA,cACA,aACA,QACH,CACL,EACJ,GACc,UAAK,MAAO,CACtBQ,UAAW,qBACXD,SAAwB,UAAK,GAAc,CAAE,CACzCO,MAAO,gBACPC,QAASd,EACTe,QAAS,CACL,WACA,mBACH,CACDC,SAAU,QAAYnB,EAAU,IAAiB,CACrD,EACJ,GACc,WAAM,MAAO,CACvBU,UAAW,IAAW,CAClB,kCAAmC,GACnC,iBAAkBH,CACtB,GACAE,SAAU,CACQ,UAAK,IAAK,CACpBW,GAAI,eACJV,UAAW,IAAW,CAClB,aAAc,GACd,iBAAkB,CAACT,CACvB,GACAQ,SAAU,cACd,GACc,UAAK,MAAO,CACtBC,UAAW,IAAW,CAClB,aAAcN,EACd,iBAAkB,CAACH,EACnBoB,UAAWpB,CACf,GACAqB,MAAO,CACHC,OAAQ,MACZ,EACA,kBAAmB,eACnBC,QAASvB,EAAU,KACfI,EAAQ,IACRG,EAA0B,IAC1BiB,WAAW,KACHrB,IACAC,EAAQ,IACRG,EAA0B,IAElC,EAAG,KACE,UACT,EAAIkB,KAAAA,EACJjB,SAAwB,UAAK,KAAQ,CAAE,CACnCkB,KAAM,GACN,aAAc,cAClB,EACJ,GACH,AACL,GACA,IACH,AACL,EACJ,GACH,AACL,GACH,AACL,EACJ,C"}