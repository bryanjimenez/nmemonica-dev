{"version":3,"file":"849.5da970d5.js","sources":["webpack://nmemonica/./src/components/Form/ChoiceNumberSlider.tsx?2e27","webpack://nmemonica/./src/components/Form/SettingsGKanji.tsx","webpack://nmemonica/./src/components/Form/SimpleListMenu.tsx?7d4f**"],"sourcesContent":["import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Slider, Typography } from \"@mui/material\";\nimport PropTypes from \"prop-types\";\nimport React, { useState } from \"react\";\nimport \"../../css/ChoiceNumberSlider.css\";\nexport default function ChoiceNumberSlider(props) {\n    const [initVal] = useState(props.initial);\n    const min = 4;\n    const max = 16;\n    const wide = props.wideN ?? 32;\n    let marks = [];\n    let marksMap = {};\n    for(let x = min; x < max + 1; x++){\n        const slide = (x - min) / (max + 1 - min) * 75;\n        marks = [\n            ...marks,\n            {\n                value: slide,\n                raw: x\n            }\n        ];\n        marksMap[`r ${slide}`] = x;\n        marksMap[`s ${x}`] = slide;\n    }\n    marks = [\n        ...marks,\n        {\n            value: 100,\n            raw: wide\n        }\n    ];\n    marksMap[`r 100`] = wide;\n    marksMap[`s ${wide}`] = 100;\n    const slideToRaw = (slide)=>{\n        return marksMap[`r ${slide}`];\n    };\n    const slideToRawString = (slide)=>{\n        return String(slideToRaw(slide));\n    };\n    const rawToSlide = (raw)=>{\n        return marksMap[`s ${raw}`];\n    };\n    const handleChange = (newValue)=>{\n        const prevVal = props.initial;\n        const curVal = slideToRaw(newValue);\n        if (curVal !== wide && prevVal !== wide && curVal !== prevVal) {\n            props.setChoiceN(curVal);\n            if (props.wideMode === true && typeof props.toggleWide === \"function\") {\n                props.toggleWide();\n            }\n        } else if (curVal !== wide && prevVal === wide && curVal !== prevVal) {\n            props.setChoiceN(curVal);\n            if (props.wideMode === true && typeof props.toggleWide === \"function\") {\n                props.toggleWide();\n            }\n        } else if (curVal === wide && curVal !== prevVal) {\n            props.setChoiceN(curVal);\n            if (props.wideMode === false && typeof props.toggleWide === \"function\") {\n                props.toggleWide();\n            }\n        }\n    };\n    return /*#__PURE__*/ _jsxs(\"div\", {\n        className: \"kana-slider\",\n        children: [\n            /*#__PURE__*/ _jsx(Typography, {\n                id: \"discrete-slider-restrict\",\n                gutterBottom: true,\n                children: \"Difficulty\"\n            }),\n            /*#__PURE__*/ _jsx(Slider, {\n                defaultValue: rawToSlide(initVal),\n                valueLabelFormat: slideToRaw,\n                getAriaValueText: slideToRawString,\n                \"aria-labelledby\": \"discrete-slider-restrict\",\n                step: null,\n                valueLabelDisplay: \"auto\",\n                marks: marks,\n                onChangeCommitted: (event, newValue)=>{\n                    if (typeof newValue === \"number\") {\n                        handleChange(newValue);\n                    }\n                }\n            })\n        ]\n    });\n}\nChoiceNumberSlider.propTypes = {\n    initial: PropTypes.number,\n    wideMode: PropTypes.bool,\n    setChoiceN: PropTypes.func,\n    toggleWide: PropTypes.func\n};\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useDispatch } from \"react-redux\";\nimport ChoiceNumberSlider from \"./ChoiceNumberSlider\";\nimport SettingsSwitch from \"./SettingsSwitch\";\nimport SimpleListMenu from \"./SimpleListMenu\";\nimport { buildAction } from \"../../helper/eventHandlerHelper\";\nimport { useConnectKanji } from \"../../hooks/useConnectKanji\";\nimport { setKanjiBtnN, toggleKanjiFadeInAnswers, toggleKanjiOrdering } from \"../../slices/kanjiSlice\";\nimport { TermSortBy, TermSortByLabel } from \"../../slices/settingHelper\";\nexport default function SettingsKanjiGame() {\n    const dispatch = useDispatch();\n    const { orderType: kanjiOrder, fadeInAnswers: kanjiFadeInAnswers, choiceN: kanjiChoiceN } = useConnectKanji();\n    const el = /*#__PURE__*/ _jsx(\"div\", {\n        className: \"outer\",\n        children: /*#__PURE__*/ _jsxs(\"div\", {\n            className: \"d-flex flex-row justify-content-between\",\n            children: [\n                /*#__PURE__*/ _jsx(\"div\", {\n                    className: \"column-1\"\n                }),\n                /*#__PURE__*/ _jsxs(\"div\", {\n                    className: \"column-2 setting-block\",\n                    children: [\n                        /*#__PURE__*/ _jsx(\"div\", {\n                            className: \"mb-2\",\n                            children: /*#__PURE__*/ _jsx(SimpleListMenu, {\n                                title: \"Sort by:\",\n                                options: TermSortByLabel,\n                                allowed: [\n                                    TermSortBy.DIFFICULTY,\n                                    TermSortBy.RANDOM,\n                                    TermSortBy.VIEW_DATE\n                                ],\n                                initial: kanjiOrder.current,\n                                onChange: buildAction(dispatch, toggleKanjiOrdering)\n                            })\n                        }),\n                        /*#__PURE__*/ _jsx(\"div\", {\n                            className: \"d-flex justify-content-end p-2 text-end\",\n                            children: /*#__PURE__*/ _jsx(ChoiceNumberSlider, {\n                                initial: kanjiChoiceN,\n                                setChoiceN: buildAction(dispatch, setKanjiBtnN)\n                            })\n                        }),\n                        /*#__PURE__*/ _jsx(\"div\", {\n                            className: \"d-flex justify-content-end p-2\",\n                            children: /*#__PURE__*/ _jsx(SettingsSwitch, {\n                                active: kanjiFadeInAnswers,\n                                action: buildAction(dispatch, toggleKanjiFadeInAnswers),\n                                statusText: \"Fade in answers\"\n                            })\n                        })\n                    ]\n                })\n            ]\n        })\n    });\n    return el;\n}\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { IconButton, List, ListItemButton, ListItemText, Menu, MenuItem } from \"@mui/material\";\nimport { KebabHorizontalIcon } from \"@primer/octicons-react\";\nimport classNames from \"classnames\";\nimport PropTypes from \"prop-types\";\nimport React, { useEffect, useRef, useState } from \"react\";\nexport default function SimpleListMenu(props) {\n    const [anchorEl, setAnchorEl] = useState(null);\n    const [selectedIndex, setSelectedIndex] = useState(props.initial);\n    const optionsRef = useRef(props.options);\n    const allowedRef = useRef(props.allowed ?? props.options.map((o, i)=>i));\n    const options = optionsRef.current;\n    const allowed = allowedRef.current;\n    useEffect(()=>{\n        setSelectedIndex(props.initial);\n    }, [\n        props.initial\n    ]);\n    const open = Boolean(anchorEl);\n    const handleClickListItem = (event)=>{\n        setAnchorEl(event.currentTarget);\n    };\n    const handleMenuItemClick = (event, index)=>{\n        setSelectedIndex(index);\n        setAnchorEl(null);\n        props.onChange(index);\n    };\n    const handleClose = ()=>{\n        setAnchorEl(null);\n    };\n    return /*#__PURE__*/ _jsxs(\"div\", {\n        className: classNames({\n            clickable: props.disabled !== true,\n            \"d-flex\": true,\n            \"flex-row-reverse\": props.flip === true ? true : undefined,\n            \"justify-content-end\": true\n        }),\n        children: [\n            /*#__PURE__*/ _jsx(List, {\n                component: \"nav\",\n                disablePadding: true,\n                children: /*#__PURE__*/ _jsx(ListItemButton, {\n                    disableGutters: true,\n                    disabled: props.disabled === true,\n                    id: \"filter-button\",\n                    \"aria-haspopup\": \"listbox\",\n                    \"aria-controls\": \"filter-menu\",\n                    \"aria-expanded\": open ? \"true\" : undefined,\n                    onClick: handleClickListItem,\n                    children: /*#__PURE__*/ _jsx(ListItemText, {\n                        primary: props.title,\n                        secondary: options[selectedIndex],\n                        secondaryTypographyProps: {\n                            color: \"unset\"\n                        }\n                    })\n                })\n            }),\n            /*#__PURE__*/ _jsx(Menu, {\n                id: \"filter-menu\",\n                anchorEl: anchorEl,\n                open: open,\n                onClose: handleClose,\n                MenuListProps: {\n                    \"aria-labelledby\": \"filter-button\",\n                    role: \"listbox\"\n                },\n                children: options.map((option, index)=>/*#__PURE__*/ _jsx(MenuItem, {\n                        // disabled={index === 0}\n                        selected: index === selectedIndex,\n                        onClick: (event)=>{\n                            if (allowed.includes(index)) handleMenuItemClick(event, index);\n                        },\n                        children: allowed.includes(index) ? option : /*#__PURE__*/ _jsx(\"span\", {\n                            className: \"disabled-color\",\n                            children: option\n                        })\n                    }, option))\n            }),\n            /*#__PURE__*/ _jsx(IconButton, {\n                \"aria-labelledby\": \"filter-button\",\n                sx: {\n                    color: \"unset\",\n                    minWidth: \"55px\"\n                },\n                \"aria-haspopup\": \"listbox\",\n                disabled: props.disabled === true,\n                onClick: handleClickListItem,\n                children: /*#__PURE__*/ _jsx(KebabHorizontalIcon, {\n                    size: \"medium\",\n                    className: classNames({\n                        \"rotate-transition\": true,\n                        \"rotate-90\": open\n                    })\n                })\n            })\n        ]\n    });\n}\nSimpleListMenu.propTypes = {\n    disabled: PropTypes.bool,\n    flip: PropTypes.bool,\n    title: PropTypes.string,\n    options: PropTypes.arrayOf(PropTypes.string),\n    initial: PropTypes.number,\n    onChange: PropTypes.func\n};\n"],"names":["ChoiceNumberSlider","props","raw","initVal","useState","initial","wide","wideN","marks","marksMap","x","max","slide","value","slideToRaw","handleChange","newValue","prevVal","curVal","setChoiceN","wideMode","toggleWide","className","children","Typography","id","gutterBottom","Slider","defaultValue","valueLabelFormat","getAriaValueText","String","step","valueLabelDisplay","onChangeCommitted","event","propTypes","SettingsKanjiGame","dispatch","useDispatch","orderType","kanjiOrder","fadeInAnswers","kanjiFadeInAnswers","choiceN","kanjiChoiceN","useConnectKanji","title","options","TermSortByLabel","allowed","TermSortBy","current","onChange","buildAction","toggleKanjiOrdering","setKanjiBtnN","active","action","toggleKanjiFadeInAnswers","statusText","SimpleListMenu","anchorEl","setAnchorEl","selectedIndex","setSelectedIndex","optionsRef","useRef","allowedRef","map","o","i","useEffect","open","Boolean","handleClickListItem","currentTarget","handleMenuItemClick","index","clickable","disabled","flip","undefined","List","component","disablePadding","ListItemButton","disableGutters","onClick","ListItemText","primary","secondary","secondaryTypographyProps","color","Menu","onClose","MenuListProps","role","option","MenuItem","selected","includes","IconButton","sx","minWidth","KebabHorizontalIcon","size"],"mappings":"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"}