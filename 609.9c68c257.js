(self.webpackChunknmemonica=self.webpackChunknmemonica||[]).push([["609"],{12477:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var i=s("59250"),r=s("83152"),l=s.n(r),n=s("41271"),a=s.n(n);function c(e){let{label:t,value:s}=e;return(0,i.jsxs)("div",{className:l()({"mb-3 d-flex flex-row justify-content-end":!0}),children:[(0,i.jsx)("div",{children:t}),(0,i.jsx)("div",{className:"clickable px-2",onClick:()=>{e.onChange(s-1)},children:"-"}),(0,i.jsx)("div",{className:l()({"px-2":!0}),children:s}),(0,i.jsx)("div",{className:"clickable px-2",onClick:()=>{e.onChange(s+1)},children:"+"})]})}c.propTypes={value:a().number}},83753:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return N}});var i=s("59250"),r=s("50098"),l=s("83152"),n=s.n(l),a=s("17313"),c=s("92761"),o=s("8039"),d=s("12477"),u=s("82063"),m=s("6218"),x=s("37917"),h=s("26812"),b=s("89760"),p=s("2929"),v=s("87070"),f=s("41978"),j=s("68650"),g=s("92096"),y=s("22730");function N(){let e=(0,c.useDispatch)(),{vocabList:t,vocabGroups:s,sortMethod:l,romajiEnabled:N,bareKanji:T,hintEnabled:C,activeGroup:A,autoVerbView:k,verbColSplit:F,filterType:S,difficultyThreshold:w,repetition:I,spaRepMaxReviewItem:G,reinforce:R,verbFormsOrder:V,includeNew:L,includeReviewed:E}=(0,v.useConnectVocabulary)(),M=S.current,q=l.current,B=R.current,O=C.current;0===Object.keys(s).length&&e((0,j.getVocabulary)());let D=(0,a.useMemo)(()=>Object.keys(I).filter(e=>{var t;return(null===(t=I[e])||void 0===t?void 0:t.rein)===!0}),[I]),[z,U]=(0,a.useMemo)(()=>{let e=j.vocabularyInitState.setting.verbFormsOrder,t=V.reduce((t,s)=>(e.includes(s)&&(t=[...t,s]),t),[]),s=e.reduce((e,s)=>(!t.includes(s)&&(e=[...e,s]),e),[]);return[t,s]},[V]);if(t.length<1||Object.keys(s).length<1)return(0,i.jsx)(o.NotReady,{addlStyle:"vocabulary-settings"});let H=(0,p.getStaleGroups)(s,A);if(H.length>0)throw Error("Stale vocabulary active group",{cause:{code:"StaleVocabActiveGrp",value:H}});return(0,i.jsx)("div",{className:"outer",children:(0,i.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,i.jsxs)("div",{className:"column-1",children:[(0,i.jsx)(m.default,{flip:!0,title:"Filter by:",options:["Word Group","Frequency List"],initial:M,onChange:(0,b.buildAction)(e,j.toggleVocabularyFilter)}),M===f.TermFilterBy.GROUP&&(0,i.jsx)(y.SetTermGList,{termsGroups:s,termsActive:A,toggleTermActiveGrp:(0,b.buildAction)(e,j.toggleVocabularyActiveGrp)}),M===f.TermFilterBy.FREQUENCY&&0===D.length&&(0,i.jsx)("div",{className:"fst-italic",children:"No words have been chosen"}),M===f.TermFilterBy.FREQUENCY&&D.length>0&&(0,i.jsx)(g.SetTermGFList,{termsActive:A,termsFreq:D,terms:t,removeFrequencyTerm:(0,b.buildAction)(e,j.removeFrequencyWord),toggleTermActiveGrp:(0,b.buildAction)(e,j.toggleVocabularyActiveGrp)})]}),(0,i.jsxs)("div",{className:"column-2 setting-block",children:[(0,i.jsx)(m.default,{title:"Sort by:",options:f.TermSortByLabel,initial:q,onChange:t=>(f.TermSortBy.RECALL===t&&e((0,j.toggleVocabularyReinforcement)(!1)),(0,b.buildAction)(e,j.toggleVocabularyOrdering)(t))}),(0,i.jsx)("div",{className:"d-flex justify-content-end",children:(0,i.jsx)(x.ThresholdFilterSlider,{threshold:w,setThreshold:(0,b.buildAction)(e,j.setMemorizedThreshold)})}),q===f.TermSortBy.RECALL&&(0,i.jsx)(d.default,{label:"Max review items ",value:G,onChange:t=>{e((0,j.setSpaRepMaxItemReview)(t))}}),q===f.TermSortBy.VIEW_DATE&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"mb-2",children:(0,i.jsx)(u.default,{active:L,action:(0,b.buildAction)(e,j.toggleIncludeNew),statusText:"Staleness +New"})}),(0,i.jsx)("div",{className:"mb-2",children:(0,i.jsx)(u.default,{active:E,action:(0,b.buildAction)(e,j.toggleIncludeReviewed),statusText:"Staleness +Reviewed"})})]}),(0,i.jsx)("div",{className:"mb-2",children:(0,i.jsx)(u.default,{active:B,action:(0,b.buildAction)(e,j.toggleVocabularyReinforcement),disabled:M===f.TermFilterBy.FREQUENCY||q===f.TermSortBy.RECALL,statusText:"Reinforcement"})}),(0,i.jsx)("div",{className:"mb-2",children:(0,i.jsx)(u.default,{active:N,action:(0,b.buildAction)(e,j.toggleVocabularyRomaji),statusText:"Romaji"})}),(0,i.jsx)("div",{className:"mb-2",children:(0,i.jsx)(u.default,{active:T,action:(0,b.buildAction)(e,j.toggleVocabularyBareKanji),statusText:"English+Kanji"})}),(0,i.jsx)("div",{className:"mb-2",children:(0,i.jsx)(u.default,{active:O,action:(0,b.buildAction)(e,j.toggleVocabularyHint),statusText:"Hint"})}),(0,i.jsx)("div",{className:"mb-2",children:(0,i.jsx)(u.default,{active:k,action:(0,b.buildAction)(e,j.toggleAutoVerbView),statusText:"Auto Verb View"})}),k&&(0,i.jsx)("div",{className:"mb-2",children:(0,i.jsx)("div",{className:"d-flex flex-row justify-content-end",children:(0,i.jsx)("div",{children:[z.map((t,s)=>(0,i.jsxs)("div",{className:n()({"d-flex justify-content-between":!0,"pt-2":s===z.length-F,"pb-2":s===z.length-1&&0===F}),children:[(0,i.jsx)("div",{className:n()({"me-3":!0,"disabled-color":0===s}),onClick:()=>{if(s>0){let t=z.slice(0,s-1),i=z[s-1],r=z[s],l=z.slice(s+1);e((0,j.setVerbFormsOrder)([...t,r,i,...l]))}},children:(0,i.jsx)(r.ChevronUpIcon,{className:"mt-1",size:"small","aria-label":"move up"})}),(0,i.jsx)("span",{className:"w-100 text-start",children:t}),(0,i.jsx)("div",{onClick:()=>{if(z.length>1){let t=[...z.slice(0,s),...z.slice(s+1)];e((0,j.setVerbFormsOrder)(t))}},children:(0,i.jsx)(r.XCircleIcon,{className:n()({"mt-1 ms-3":!0,"incorrect-color":z.length>1,"disabled-color":1===z.length}),size:"small","aria-label":"remove"})})]},t)),U.map((t,s)=>(0,i.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,i.jsx)("div",{className:"me-3 invisible",children:(0,i.jsx)(r.ChevronUpIcon,{className:"mt-1",size:"small","aria-label":"move up"})}),(0,i.jsx)("span",{className:"w-100 text-start disabled-color",children:t}),(0,i.jsx)("div",{onClick:(0,b.buildAction)(e,j.setVerbFormsOrder,[...z,U[s]]),children:(0,i.jsx)(r.PlusCircleIcon,{className:"mt-1 ms-3",size:"small","aria-label":"add"})})]},t))]})})}),k&&(0,i.jsx)("div",{children:(0,i.jsx)("div",{className:"d-flex justify-content-end p-2",children:(0,i.jsx)(h.default,{initial:z.length-F,setChoiceN:t=>{e((0,j.updateVerbColSplit)(z.length-t))},max:V.length,statusText:"Column layout"})})})]})]})})}},6218:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var i=s("59250"),r=s("53553"),l=s("50098"),n=s("83152"),a=s.n(n),c=s("41271"),o=s.n(c),d=s("17313");function u(e){let[t,s]=(0,d.useState)(null),[n,c]=(0,d.useState)(e.initial),o=(0,d.useRef)(e.options),u=(0,d.useRef)(e.allowed??e.options.map((e,t)=>t)),m=o.current,x=u.current;(0,d.useEffect)(()=>{c(e.initial)},[e.initial]);let h=!!t,b=e=>{s(e.currentTarget)},p=(t,i)=>{c(i),s(null),e.onChange(i)};return(0,i.jsxs)("div",{className:a()({clickable:!0!==e.disabled,"d-flex":!0,"flex-row-reverse":!0===e.flip||void 0,"justify-content-end":!0}),children:[(0,i.jsx)(r.List,{component:"nav",disablePadding:!0,children:(0,i.jsx)(r.ListItemButton,{disableGutters:!0,disabled:!0===e.disabled,id:"filter-button","aria-haspopup":"listbox","aria-controls":"filter-menu","aria-expanded":h?"true":void 0,onClick:b,children:(0,i.jsx)(r.ListItemText,{primary:e.title,secondary:m[n],secondaryTypographyProps:{color:"unset"}})})}),(0,i.jsx)(r.Menu,{id:"filter-menu",anchorEl:t,open:h,onClose:()=>{s(null)},MenuListProps:{"aria-labelledby":"filter-button",role:"listbox"},children:m.map((e,t)=>(0,i.jsx)(r.MenuItem,{selected:t===n,onClick:e=>{x.includes(t)&&p(e,t)},children:x.includes(t)?e:(0,i.jsx)("span",{className:"disabled-color",children:e})},e))}),(0,i.jsx)(r.IconButton,{"aria-labelledby":"filter-button",sx:{color:"unset",minWidth:"55px"},"aria-haspopup":"listbox",disabled:!0===e.disabled,onClick:b,children:(0,i.jsx)(l.KebabHorizontalIcon,{size:"medium",className:a()({"rotate-transition":!0,"rotate-90":h})})})]})}u.propTypes={disabled:o().bool,flip:o().bool,title:o().string,options:o().arrayOf(o().string),initial:o().number,onChange:o().func}},37917:function(e,t,s){"use strict";s.r(t),s.d(t,{ThresholdFilterSlider:function(){return u}});var i=s("59250"),r=s("53553"),l=s("50098"),n=s("41271"),a=s.n(n),c=s("17313"),o=s("86107"),d=s("43357");function u(e){let{threshold:t,setThreshold:s}=e,[n]=(0,c.useState)(Math.abs(t)),a=(0,o.heatMap)(Math.abs(t)/100,.75),u=[{value:d.MEMORIZED_THRLD},{value:d.DIFFICULTY_THRLD}],m=(0,c.useCallback)(()=>{s(-1*t)},[s,t]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"position-relative text-nowrap w-0 fs-x-small",style:{top:"-15px"},children:`Difficulty filter: ${t}`}),(0,i.jsx)(r.Slider,{sx:{color:a},defaultValue:n,marks:u,track:t<0?void 0:"inverted",onChangeCommitted:(e,i)=>{let r=t<0?-1:1;"number"==typeof i&&(0===i?s(Number(r)):s(r*i))},valueLabelDisplay:"auto"}),(0,i.jsx)("div",{className:"mt-2 ms-3 ",onClick:m,children:t<0?(0,i.jsx)(l.SortAscIcon,{}):(0,i.jsx)(l.SortDescIcon,{})})]})}u.propTypes={threshold:a().number,setThreshold:a().func}},26812:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var i=s("59250"),r=s("53553"),l=s("41271"),n=s.n(l),a=s("17313");function c(e){let[t]=(0,a.useState)(e.initial),s=Math.min(e.max,t),l=e.max,n=[],c={};for(let e=0;e<l+1;e++){let t=(e-0)/(l-0)*100;n=[...n,{value:t,raw:e}],c["r"+t]=e,c["s"+e]=t}let o=e=>c["r"+e],d=e=>{let t=o(e),s=Math.trunc(l/2),i="",r=s+Math.abs(s-t);return l%2!=0&&t<=s&&(i=String(++r)),l%2==0&&t===s||(i=t<s+1?r+" "+(l-r):l-r+" "+r),i},u=t=>{let i=o(t);i!==s&&e.setChoiceN(i)};return(0,i.jsxs)("div",{className:"verb-form-slider-root",children:[(0,i.jsx)(r.Typography,{id:"discrete-slider-restrict",gutterBottom:!0,children:e.statusText}),(0,i.jsx)(r.Slider,{defaultValue:c["s"+s],valueLabelFormat:d,getAriaValueText:d,"aria-labelledby":"discrete-slider-restrict",track:!1,step:null,valueLabelDisplay:"auto",marks:n,onChangeCommitted:(e,t)=>{"number"==typeof t&&u(t)}})]})}s("95911"),c.propTypes={statusText:n().string,initial:n().number.isRequired,max:n().number.isRequired,setChoiceN:n().func.isRequired}},92096:function(e,t,s){"use strict";s.r(t),s.d(t,{SetTermGFList:function(){return d}});var i=s("59250"),r=s("50098"),l=s("83152"),n=s.n(l),a=s("41271"),c=s.n(a);function o(e,t,s,l,a){return(0,i.jsxs)("div",{className:n()({"p-0 px-2":!0,clickable:e}),onClick:()=>{e&&a(s)},children:[(0,i.jsxs)("span",{className:"p-1",children:[e&&(0,i.jsx)(r.XCircleIcon,{className:"incorrect-color",size:"small","aria-label":"remove"}),!e&&(0,i.jsx)(r.IssueDraftIcon,{size:"small","aria-label":"inactive"})]}),(0,i.jsx)("span",{className:"p-1",children:l})]},s)}function d(e){let t=[],s=e.termsFreq.reduce((s,i)=>{let r=e.terms.find(e=>e.uid===i);return r?s=[...s,r]:t=[...t,i],s},[]).reduce((e,t)=>{let s=t.grp?t.grp:"undefined";return e[s]?e[s]=[...e[s],t]:e[s]=[t],e},{});return(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"fs-5 fw-light",children:"Frequency"}),(0,i.jsx)("div",{children:Object.keys(s).map(t=>{let r=e.termsActive.includes(t);return(0,i.jsxs)("div",{className:"mb-2",children:[(0,i.jsx)("span",{className:n()({"font-weight-bold":r}),onClick:()=>e.toggleTermActiveGrp(t),children:t}),(0,i.jsx)("div",{children:s[t].map((t,s)=>o(r,s,t.uid,t.english,e.removeFrequencyTerm))})]},t)})}),t.length>0&&(0,i.jsxs)("div",{className:"mt-5 text-break",children:[(0,i.jsx)("span",{className:"font-weight-bold",children:"Manual cleanup"}),t.map((t,s)=>o(!0,s,t,t,e.removeFrequencyTerm))]})]})}s("17313"),d.propTypes={termsActive:c().array,termsFreq:c().array,terms:c().array,removeFrequencyTerm:c().func,toggleTermActiveGrp:c().func}},22730:function(e,t,s){"use strict";s.r(t),s.d(t,{SetTermGList:function(){return o}});var i=s("59250"),r=s("53978"),l=s.n(r),n=s("41271"),a=s.n(n);s("17313");var c=s("88546");function o(e){return(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"fs-5 fw-light",children:"Groups"}),Object.keys(e.termsGroups).map(t=>{let s=e.termsActive.includes(t);return(0,i.jsxs)("div",{children:[(0,i.jsx)(c.GroupItem,{active:e.termsActive.includes(t),onClick:()=>e.toggleTermActiveGrp(t),children:t}),!s&&l()(e.termsGroups[t],e=>{let[,t]=e.split("_");return Number.isInteger(parseInt(t,10))?parseInt(t,10):e}).map(s=>(0,i.jsx)(c.GroupItem,{addlStyle:"ms-3",active:e.termsActive.includes(t+"."+s),onClick:()=>{e.toggleTermActiveGrp(t+"."+s)},children:s},`${t}.${s}`))]},t)})]})}o.propTypes={termsGroups:a().object,termsActive:a().array,toggleTermActiveGrp:a().func}},95911:function(e){}}]);
//# sourceMappingURL=609.9c68c257.js.map