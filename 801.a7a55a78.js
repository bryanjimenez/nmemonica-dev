(self.webpackChunknmemonica=self.webpackChunknmemonica||[]).push([["801"],{62286:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var l=s("17581"),i=s("9490"),r=s("62537"),a=s("18554"),n=s.n(a);let c=String.fromCharCode(parseInt("0x221e",16));function o(e){let{label:t=null,value:s,multiplier:a=1,children:o=null}=e;return(0,l.jsxs)("div",{className:n()({"d-flex flex-row justify-content-end":!0}),children:[(0,l.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[(0,l.jsx)("div",{children:t}),o]}),(0,l.jsxs)("div",{className:"d-flex flex-column",children:[(0,l.jsx)("div",{className:"clickable px-3 text-center",onClick:()=>{e.onChange((s??0)+Number(a),s??0)},children:(0,l.jsx)(r.FontAwesomeIcon,{icon:i.faChevronUp})}),(0,l.jsx)("div",{className:n()({"text-center px-2":!0}),children:s??c}),(0,l.jsx)("div",{className:"clickable px-3 text-center",onClick:()=>{e.onChange(void 0!==s?Math.max(0,s-Number(a)):0,s??0)},children:(0,l.jsx)(r.FontAwesomeIcon,{icon:i.faChevronDown})})]})]})}},716:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return y}});var l=s("17581"),i=s("50098"),r=s("18554"),a=s.n(r),n=s("74288"),c=s("75092"),o=s("92820"),d=s("62286"),u=s("86484"),m=s("41275"),x=s("21577"),h=s("17847"),v=s("90210"),j=s("27068"),b=s("48000"),f=s("12960"),p=s("87519"),g=s("98401"),N=s("51956");function y(){let e=(0,c.useDispatch)(),{vocabList:t,vocabGroups:s,sortMethod:r,romajiEnabled:y,bareKanji:C,hintEnabled:T,activeGroup:A,autoVerbView:k,verbColSplit:w,filterType:F,difficultyThreshold:S,repetition:I,spaRepMaxReviewItem:R,reinforce:V,verbFormsOrder:G,includeNew:L,includeReviewed:M}=(0,b.useConnectVocabulary)(),E=F.current,D=r.current,O=V.current,B=T.current;0===Object.keys(s).length&&e((0,p.getVocabulary)());let q=(0,n.useMemo)(()=>Object.keys(I).filter(e=>{var t;return(null===(t=I[e])||void 0===t?void 0:t.rein)===!0}),[I]),[U,z]=(0,n.useMemo)(()=>{let e=p.vocabularyInitState.setting.verbFormsOrder,t=G.reduce((t,s)=>(e.includes(s)&&(t=[...t,s]),t),[]),s=e.reduce((e,s)=>(!t.includes(s)&&(e=[...e,s]),e),[]);return[t,s]},[G]);if(t.length<1||Object.keys(s).length<1)return(0,l.jsx)(o.NotReady,{addlStyle:"vocabulary-settings"});let H=(0,j.getStaleGroups)(s,A);if(H.length>0)throw Error("Stale vocabulary active group",{cause:{code:"StaleVocabActiveGrp",value:H}});return(0,l.jsx)("div",{className:"outer",children:(0,l.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,l.jsxs)("div",{className:"column-1",children:[(0,l.jsx)(m.default,{flip:!0,title:"Filter by:",options:["Word Group","Frequency List"],initial:E,onChange:(0,v.buildAction)(e,p.toggleVocabularyFilter)}),E===f.TermFilterBy.GROUP&&(0,l.jsx)(N.SetTermGList,{termsGroups:s,termsActive:A,toggleTermActiveGrp:(0,v.buildAction)(e,p.toggleVocabularyActiveGrp)}),E===f.TermFilterBy.FREQUENCY&&0===q.length&&(0,l.jsx)("div",{className:"fst-italic",children:"No words have been chosen"}),E===f.TermFilterBy.FREQUENCY&&q.length>0&&(0,l.jsx)(g.SetTermGFList,{termsActive:A,termsFreq:q,terms:t,removeFrequencyTerm:(0,v.buildAction)(e,p.removeFrequencyWord),toggleTermActiveGrp:(0,v.buildAction)(e,p.toggleVocabularyActiveGrp)})]}),(0,l.jsxs)("div",{className:"column-2 setting-block",children:[(0,l.jsx)(m.default,{title:"Sort by:",options:f.TermSortByLabel,initial:D,onChange:t=>(f.TermSortBy.RECALL===t&&e((0,p.toggleVocabularyReinforcement)(!1)),(0,v.buildAction)(e,p.toggleVocabularyOrdering)(t))}),(0,l.jsx)("div",{className:"d-flex justify-content-end",children:(0,l.jsx)(x.ThresholdFilterSlider,{threshold:S,setThreshold:(0,v.buildAction)(e,p.setMemorizedThreshold)})}),D===f.TermSortBy.RECALL&&(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsxs)(d.default,{value:R,onChange:t=>{e((0,p.setSpaRepMaxItemReview)(t))},children:[(0,l.jsx)("div",{className:"text-nowrap",children:"Max review items"}),(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("span",{className:"clickable",onClick:()=>{e((0,p.setSpaRepMaxItemReview)(0))},children:[(0,l.jsx)("b",{children:"m"}),"in"]})," ","-"," ",(0,l.jsxs)("span",{className:"clickable",onClick:()=>{e((0,p.setSpaRepMaxItemReview)(void 0))},children:[(0,l.jsx)("b",{children:"M"}),"ax"]})]})]})}),D===f.TermSortBy.VIEW_DATE&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)(u.default,{active:L,action:(0,v.buildAction)(e,p.toggleIncludeNew),statusText:"Staleness +New"})}),(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)(u.default,{active:M,action:(0,v.buildAction)(e,p.toggleIncludeReviewed),statusText:"Staleness +Reviewed"})})]}),(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)(u.default,{active:O,action:(0,v.buildAction)(e,p.toggleVocabularyReinforcement),disabled:E===f.TermFilterBy.FREQUENCY||D===f.TermSortBy.RECALL,statusText:"Reinforcement"})}),(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)(u.default,{active:y,action:(0,v.buildAction)(e,p.toggleVocabularyRomaji),statusText:"Romaji"})}),(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)(u.default,{active:C,action:(0,v.buildAction)(e,p.toggleVocabularyBareKanji),statusText:"English+Kanji"})}),(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)(u.default,{active:B,action:(0,v.buildAction)(e,p.toggleVocabularyHint),statusText:"Hint"})}),(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)(u.default,{active:k,action:(0,v.buildAction)(e,p.toggleAutoVerbView),statusText:"Auto Verb View"})}),k&&(0,l.jsx)("div",{className:"mb-2",children:(0,l.jsx)("div",{className:"d-flex flex-row justify-content-end",children:(0,l.jsx)("div",{children:[U.map((t,s)=>(0,l.jsxs)("div",{className:a()({"d-flex justify-content-between":!0,"pt-2":s===U.length-w,"pb-2":s===U.length-1&&0===w}),children:[(0,l.jsx)("div",{className:a()({"me-3":!0,"disabled-color":0===s}),onClick:()=>{if(s>0){let t=U.slice(0,s-1),l=U[s-1],i=U[s],r=U.slice(s+1);e((0,p.setVerbFormsOrder)([...t,i,l,...r]))}},children:(0,l.jsx)(i.ChevronUpIcon,{className:"mt-1",size:"small","aria-label":"move up"})}),(0,l.jsx)("span",{className:"w-100 text-start",children:t}),(0,l.jsx)("div",{onClick:()=>{if(U.length>1){let t=[...U.slice(0,s),...U.slice(s+1)];e((0,p.setVerbFormsOrder)(t))}},children:(0,l.jsx)(i.XCircleIcon,{className:a()({"mt-1 ms-3":!0,"incorrect-color":U.length>1,"disabled-color":1===U.length}),size:"small","aria-label":"remove"})})]},t)),z.map((t,s)=>(0,l.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,l.jsx)("div",{className:"me-3 invisible",children:(0,l.jsx)(i.ChevronUpIcon,{className:"mt-1",size:"small","aria-label":"move up"})}),(0,l.jsx)("span",{className:"w-100 text-start disabled-color",children:t}),(0,l.jsx)("div",{onClick:(0,v.buildAction)(e,p.setVerbFormsOrder,[...U,z[s]]),children:(0,l.jsx)(i.PlusCircleIcon,{className:"mt-1 ms-3",size:"small","aria-label":"add"})})]},t))]})})}),k&&(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"d-flex justify-content-end p-2",children:(0,l.jsx)(h.default,{initial:U.length-w,setChoiceN:t=>{e((0,p.updateVerbColSplit)(U.length-t))},max:G.length,statusText:"Column layout"})})})]})]})})}},21577:function(e,t,s){"use strict";s.r(t),s.d(t,{ThresholdFilterSlider:function(){return o}});var l=s("17581"),i=s("15764"),r=s("50098"),a=s("74288"),n=s("83249"),c=s("43560");function o(e){let{threshold:t,setThreshold:s}=e,[o]=(0,a.useState)(Math.abs(t)),d=(0,n.heatMap)(Math.abs(t)/100,.75),u=[{value:c.MEMORIZED_THRLD},{value:c.DIFFICULTY_THRLD}],m=(0,a.useCallback)(()=>{s(-1*t)},[s,t]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"w-100 d-flex flex-column",children:[(0,l.jsx)("div",{className:"text-nowrap fs-x-small text-start",children:`Difficulty filter: ${t}`}),(0,l.jsxs)("div",{className:"d-flex",children:[(0,l.jsx)(i.Slider,{sx:{color:d},defaultValue:o,marks:u,track:t<0?void 0:"inverted",onChangeCommitted:(e,l)=>{let i=t<0?-1:1;"number"==typeof l&&(0===l?s(Number(i)):s(i*l))},valueLabelDisplay:"auto"}),(0,l.jsx)("div",{className:"mt-2 ms-3 ",onClick:m,children:t<0?(0,l.jsx)(r.SortAscIcon,{}):(0,l.jsx)(r.SortDescIcon,{})})]})]})})}},17847:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});var l=s("17581"),i=s("15764"),r=s("74288");function a(e){let[t]=(0,r.useState)(e.initial),s=Math.min(e.max,t),a=e.max,n=[],c={};for(let e=0;e<a+1;e++){let t=(e-0)/(a-0)*100;n=[...n,{value:t,raw:e}],c["r"+t]=e,c["s"+e]=t}let o=e=>c["r"+e],d=e=>{let t=o(e),s=Math.trunc(a/2),l="",i=s+Math.abs(s-t);return a%2!=0&&t<=s&&(l=String(++i)),a%2==0&&t===s||(l=t<s+1?i+" "+(a-i):a-i+" "+i),l},u=t=>{let l=o(t);l!==s&&e.setChoiceN(l)};return(0,l.jsxs)("div",{className:"verb-form-slider-root",children:[(0,l.jsx)(i.Typography,{id:"discrete-slider-restrict",gutterBottom:!0,children:e.statusText}),(0,l.jsx)(i.Slider,{defaultValue:c["s"+s],valueLabelFormat:d,getAriaValueText:d,"aria-labelledby":"discrete-slider-restrict",track:!1,step:null,valueLabelDisplay:"auto",marks:n,onChangeCommitted:(e,t)=>{"number"==typeof t&&u(t)}})]})}s("95911")},98401:function(e,t,s){"use strict";s.r(t),s.d(t,{SetTermGFList:function(){return c}});var l=s("17581"),i=s("50098"),r=s("18554"),a=s.n(r);function n(e,t,s,r,n){return(0,l.jsxs)("div",{className:a()({"p-0 px-2":!0,clickable:e}),onClick:()=>{e&&n(s)},children:[(0,l.jsxs)("span",{className:"p-1",children:[e&&(0,l.jsx)(i.XCircleIcon,{className:"incorrect-color",size:"small","aria-label":"remove"}),!e&&(0,l.jsx)(i.IssueDraftIcon,{size:"small","aria-label":"inactive"})]}),(0,l.jsx)("span",{className:"p-1",children:r})]},s)}function c(e){let t=[],s=e.termsFreq.reduce((s,l)=>{let i=e.terms.find(e=>e.uid===l);return i?s=[...s,i]:t=[...t,l],s},[]).reduce((e,t)=>{let s=t.grp?t.grp:"undefined";return e[s]?e[s]=[...e[s],t]:e[s]=[t],e},{});return(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"fs-5 fw-light",children:"Frequency"}),(0,l.jsx)("div",{children:Object.keys(s).map(t=>{let i=e.termsActive.includes(t);return(0,l.jsxs)("div",{className:"mb-2",children:[(0,l.jsx)("span",{className:a()({"fw-bold":i}),onClick:()=>e.toggleTermActiveGrp(t),children:t}),(0,l.jsx)("div",{children:s[t].map((t,s)=>n(i,s,t.uid,t.english,e.removeFrequencyTerm))})]},t)})}),t.length>0&&(0,l.jsxs)("div",{className:"mt-5 text-break",children:[(0,l.jsx)("span",{className:"fw-bold",children:"Manual cleanup"}),t.map((t,s)=>n(!0,s,t,t,e.removeFrequencyTerm))]})]})}},51956:function(e,t,s){"use strict";s.r(t),s.d(t,{SetTermGList:function(){return n}});var l=s("17581"),i=s("91453"),r=s.n(i),a=s("78766");function n(e){return(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"fs-5 fw-light",children:"Groups"}),Object.keys(e.termsGroups).map(t=>{let s=e.termsActive.includes(t);return(0,l.jsxs)("div",{children:[(0,l.jsx)(a.GroupItem,{active:e.termsActive.includes(t),onClick:()=>e.toggleTermActiveGrp(t),children:t}),!s&&r()(e.termsGroups[t],e=>{let[,t]=e.split("_");return Number.isInteger(parseInt(t,10))?parseInt(t,10):e}).map(s=>(0,l.jsx)(a.GroupItem,{addlStyle:"ms-3",active:e.termsActive.includes(t+"."+s),onClick:()=>{e.toggleTermActiveGrp(t+"."+s)},children:s},`${t}.${s}`))]},t)})]})}},95911:function(e){}}]);
//# sourceMappingURL=801.a7a55a78.js.map