(self.webpackChunknmemonica=self.webpackChunknmemonica||[]).push([["576"],{12477:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return c}});var n=i("59250"),s=i("83152"),l=i.n(s),r=i("41271"),a=i.n(r);function c(e){let{label:t,value:i}=e;return(0,n.jsxs)("div",{className:l()({"mb-3 d-flex flex-row justify-content-end":!0}),children:[(0,n.jsx)("div",{children:t}),(0,n.jsx)("div",{className:"clickable px-2",onClick:()=>{e.onChange(i-1)},children:"-"}),(0,n.jsx)("div",{className:l()({"px-2":!0}),children:i}),(0,n.jsx)("div",{className:"clickable px-2",onClick:()=>{e.onChange(i+1)},children:"+"})]})}c.propTypes={value:a().number}},33881:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return v}});var n=i("59250"),s=i("92761"),l=i("8039"),r=i("12477"),a=i("82063"),c=i("6218"),o=i("37917"),d=i("89760"),u=i("2929"),m=i("72706"),h=i("87070"),x=i("48726"),f=i("41978"),b=i("68650"),j=i("92096"),p=i("52492");function v(){let e=(0,s.useDispatch)(),{vocabList:t}=(0,h.useConnectVocabulary)(),{filterType:i,orderType:v,difficultyThreshold:g,reinforce:y,activeTags:T,kanjiList:N,repetition:C,kanjiTagObj:F,spaRepMaxReviewItem:A,includeNew:k,includeReviewed:S}=(0,m.useConnectKanji)(),L=i.current,w=v.current;if(0===t.length&&e((0,b.getVocabulary)()),0===Object.keys(F).length&&e((0,x.getKanji)()),N.length<1||Object.keys(F).length<1)return(0,n.jsx)(l.NotReady,{addlStyle:"vocabulary-settings"});let R=Object.values(N).filter(e=>e.tags.some(e=>T.includes(e))),I=R.map(e=>e.uid),E=Object.keys(C).filter(e=>{var t;return(null===(t=C[e])||void 0===t?void 0:t.rein)===!0}),B=E.filter(e=>!I.includes(e));return(0,n.jsx)("div",{className:"outer",children:(0,n.jsxs)("div",{className:"d-flex flex-row justify-content-between",children:[(0,n.jsxs)("div",{className:"column-1",children:[(0,n.jsx)("span",{className:"fs-5 fw-light",children:(0,u.labelOptions)(L,["Kanji Group","Frequency List","Tags"])}),(0,n.jsx)("div",{className:"mb-2",children:(0,n.jsx)(a.default,{active:L%2==0,action:(0,d.buildAction)(e,x.toggleKanjiFilter),color:"default",statusText:"Filter by"})}),L===f.TermFilterBy.FREQUENCY&&0===E.length&&(0,n.jsx)("div",{className:"fst-italic",children:"No words have been chosen"}),L===f.TermFilterBy.TAGS&&(0,n.jsx)(p.SetTermTagList,{selectedCount:0===R.length?Object.values(N).length:R.length,termsTags:F,termsActive:T,toggleTermActive:(0,d.buildAction)(e,x.toggleKanjiActiveTag)}),L===f.TermFilterBy.FREQUENCY&&E.length>0&&(0,n.jsx)(j.SetTermGFList,{termsActive:T,termsFreq:E,terms:N,removeFrequencyTerm:(0,d.buildAction)(e,x.removeFrequencyKanji),toggleTermActiveGrp:(0,d.buildAction)(e,x.toggleKanjiActiveGrp)})]}),(0,n.jsxs)("div",{className:"column-2 setting-block",children:[(0,n.jsx)("div",{className:"mb-2",children:(0,n.jsx)(c.default,{title:"Sort by:",options:f.TermSortByLabel,allowed:[f.TermSortBy.DIFFICULTY,f.TermSortBy.RANDOM,f.TermSortBy.VIEW_DATE,f.TermSortBy.RECALL],initial:w,onChange:t=>(f.TermSortBy.RECALL===t&&e((0,x.toggleKanjiReinforcement)(!1)),(0,d.buildAction)(e,x.toggleKanjiOrdering)(t))})}),w===f.TermSortBy.RECALL&&(0,n.jsx)(r.default,{label:"Max review items ",value:A,onChange:t=>{e((0,x.setSpaRepMaxItemReview)(t))}}),(0,n.jsx)("div",{className:"d-flex justify-content-end",children:(0,n.jsx)(o.ThresholdFilterSlider,{threshold:g,setThreshold:(0,d.buildAction)(e,x.setMemorizedThreshold)})}),w===f.TermSortBy.VIEW_DATE&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"mb-2",children:(0,n.jsx)(a.default,{active:k,action:(0,d.buildAction)(e,x.toggleIncludeNew),statusText:"Staleness +New"})}),(0,n.jsx)("div",{className:"mb-2",children:(0,n.jsx)(a.default,{active:S,action:(0,d.buildAction)(e,x.toggleIncludeReviewed),statusText:"Staleness +Reviewed"})})]}),(0,n.jsx)("div",{className:"mb-2",children:(0,n.jsx)(a.default,{active:y.current,action:(0,d.buildAction)(e,x.toggleKanjiReinforcement),disabled:L===f.TermFilterBy.FREQUENCY||w===f.TermSortBy.RECALL,statusText:(y?`(+${B.length} ) `:"")+"Reinforcement"})})]})]})})}},6218:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return u}});var n=i("59250"),s=i("53553"),l=i("50098"),r=i("83152"),a=i.n(r),c=i("41271"),o=i.n(c),d=i("17313");function u(e){let[t,i]=(0,d.useState)(null),[r,c]=(0,d.useState)(e.initial),o=(0,d.useRef)(e.options),u=(0,d.useRef)(e.allowed??e.options.map((e,t)=>t)),m=o.current,h=u.current;(0,d.useEffect)(()=>{c(e.initial)},[e.initial]);let x=!!t,f=e=>{i(e.currentTarget)},b=(t,n)=>{c(n),i(null),e.onChange(n)};return(0,n.jsxs)("div",{className:a()({clickable:!0!==e.disabled,"d-flex":!0,"flex-row-reverse":!0===e.flip||void 0,"justify-content-end":!0}),children:[(0,n.jsx)(s.List,{component:"nav",disablePadding:!0,children:(0,n.jsx)(s.ListItemButton,{disableGutters:!0,disabled:!0===e.disabled,id:"filter-button","aria-haspopup":"listbox","aria-controls":"filter-menu","aria-expanded":x?"true":void 0,onClick:f,children:(0,n.jsx)(s.ListItemText,{primary:e.title,secondary:m[r],secondaryTypographyProps:{color:"unset"}})})}),(0,n.jsx)(s.Menu,{id:"filter-menu",anchorEl:t,open:x,onClose:()=>{i(null)},MenuListProps:{"aria-labelledby":"filter-button",role:"listbox"},children:m.map((e,t)=>(0,n.jsx)(s.MenuItem,{selected:t===r,onClick:e=>{h.includes(t)&&b(e,t)},children:h.includes(t)?e:(0,n.jsx)("span",{className:"disabled-color",children:e})},e))}),(0,n.jsx)(s.IconButton,{"aria-labelledby":"filter-button",sx:{color:"unset",minWidth:"55px"},"aria-haspopup":"listbox",disabled:!0===e.disabled,onClick:f,children:(0,n.jsx)(l.KebabHorizontalIcon,{size:"medium",className:a()({"rotate-transition":!0,"rotate-90":x})})})]})}u.propTypes={disabled:o().bool,flip:o().bool,title:o().string,options:o().arrayOf(o().string),initial:o().number,onChange:o().func}},37917:function(e,t,i){"use strict";i.r(t),i.d(t,{ThresholdFilterSlider:function(){return u}});var n=i("59250"),s=i("53553"),l=i("50098"),r=i("41271"),a=i.n(r),c=i("17313"),o=i("86107"),d=i("43357");function u(e){let{threshold:t,setThreshold:i}=e,[r]=(0,c.useState)(Math.abs(t)),a=(0,o.heatMap)(Math.abs(t)/100,.75),u=[{value:d.MEMORIZED_THRLD},{value:d.DIFFICULTY_THRLD}],m=(0,c.useCallback)(()=>{i(-1*t)},[i,t]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"position-relative text-nowrap w-0 fs-x-small",style:{top:"-15px"},children:`Difficulty filter: ${t}`}),(0,n.jsx)(s.Slider,{sx:{color:a},defaultValue:r,marks:u,track:t<0?void 0:"inverted",onChangeCommitted:(e,n)=>{let s=t<0?-1:1;"number"==typeof n&&(0===n?i(Number(s)):i(s*n))},valueLabelDisplay:"auto"}),(0,n.jsx)("div",{className:"mt-2 ms-3 ",onClick:m,children:t<0?(0,n.jsx)(l.SortAscIcon,{}):(0,n.jsx)(l.SortDescIcon,{})})]})}u.propTypes={threshold:a().number,setThreshold:a().func}},92096:function(e,t,i){"use strict";i.r(t),i.d(t,{SetTermGFList:function(){return d}});var n=i("59250"),s=i("50098"),l=i("83152"),r=i.n(l),a=i("41271"),c=i.n(a);function o(e,t,i,l,a){return(0,n.jsxs)("div",{className:r()({"p-0 px-2":!0,clickable:e}),onClick:()=>{e&&a(i)},children:[(0,n.jsxs)("span",{className:"p-1",children:[e&&(0,n.jsx)(s.XCircleIcon,{className:"incorrect-color",size:"small","aria-label":"remove"}),!e&&(0,n.jsx)(s.IssueDraftIcon,{size:"small","aria-label":"inactive"})]}),(0,n.jsx)("span",{className:"p-1",children:l})]},i)}function d(e){let t=[],i=e.termsFreq.reduce((i,n)=>{let s=e.terms.find(e=>e.uid===n);return s?i=[...i,s]:t=[...t,n],i},[]).reduce((e,t)=>{let i=t.grp?t.grp:"undefined";return e[i]?e[i]=[...e[i],t]:e[i]=[t],e},{});return(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"fs-5 fw-light",children:"Frequency"}),(0,n.jsx)("div",{children:Object.keys(i).map(t=>{let s=e.termsActive.includes(t);return(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("span",{className:r()({"font-weight-bold":s}),onClick:()=>e.toggleTermActiveGrp(t),children:t}),(0,n.jsx)("div",{children:i[t].map((t,i)=>o(s,i,t.uid,t.english,e.removeFrequencyTerm))})]},t)})}),t.length>0&&(0,n.jsxs)("div",{className:"mt-5 text-break",children:[(0,n.jsx)("span",{className:"font-weight-bold",children:"Manual cleanup"}),t.map((t,i)=>o(!0,i,t,t,e.removeFrequencyTerm))]})]})}i("17313"),d.propTypes={termsActive:c().array,termsFreq:c().array,terms:c().array,removeFrequencyTerm:c().func,toggleTermActiveGrp:c().func}}}]);
//# sourceMappingURL=576.c6f79d68.js.map